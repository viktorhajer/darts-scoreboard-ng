{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/aroundclock/around-clock.component.ts","webpack:///src/app/aroundclock/around-clock.component.html","webpack:///src/app/aroundclock/around-clock.module.ts","webpack:///src/app/aroundclock/models/settings.model.ts","webpack:///src/app/aroundclock/models/state.model.ts","webpack:///src/app/components/menu/menu.component.ts","webpack:///src/app/components/menu/menu.component.html","webpack:///src/app/cricket/cricket.component.ts","webpack:///src/app/cricket/cricket.component.html","webpack:///src/app/cricket/cricket.module.ts","webpack:///src/app/cricket/models/settings.model.ts","webpack:///src/app/cricket/models/state.model.ts","webpack:///src/app/fives/fives.component.ts","webpack:///src/app/fives/fives.component.html","webpack:///src/app/fives/fives.module.ts","webpack:///src/app/fives/models/settings.model.ts","webpack:///src/app/hare-and-hound/hare-and-hound.component.ts","webpack:///src/app/hare-and-hound/hare-and-hound.component.html","webpack:///src/app/hare-and-hound/hare-and-hound.module.ts","webpack:///src/app/hare-and-hound/models/settings.model.ts","webpack:///src/app/hare-and-hound/models/state.model.ts","webpack:///src/app/killer/killer.component.ts","webpack:///src/app/killer/killer.component.html","webpack:///src/app/killer/killer.module.ts","webpack:///src/app/killer/models/settings.model.ts","webpack:///src/app/killer/models/state.model.ts","webpack:///src/app/knockout/knockout.component.ts","webpack:///src/app/knockout/knockout.component.html","webpack:///src/app/knockout/knockout.module.ts","webpack:///src/app/knockout/models/settings.model.ts","webpack:///src/app/knockout/models/state.model.ts","webpack:///src/app/material.module.ts","webpack:///src/app/route-animation.ts","webpack:///src/app/shanghai/models/settings.model.ts","webpack:///src/app/shanghai/models/state.model.ts","webpack:///src/app/shanghai/shanghai.component.ts","webpack:///src/app/shanghai/shanghai.component.html","webpack:///src/app/shanghai/shanghai.module.ts","webpack:///src/app/shared/components/dialog/dialog.component.ts","webpack:///src/app/shared/components/dialog/dialog.component.html","webpack:///src/app/shared/components/game-toolbar/game-toolbar.component.ts","webpack:///src/app/shared/components/game-toolbar/game-toolbar.component.html","webpack:///src/app/shared/components/number-plate/number-plate.component.ts","webpack:///src/app/shared/components/number-plate/number-plate.component.html","webpack:///src/app/shared/components/player-score/player-score.component.ts","webpack:///src/app/shared/components/player-score/player-score.component.html","webpack:///src/app/shared/components/player-settings/player-settings.component.ts","webpack:///src/app/shared/components/player-settings/player-settings.component.html","webpack:///src/app/shared/components/settings/settings.component.ts","webpack:///src/app/shared/components/settings/settings.component.html","webpack:///src/app/shared/models/application-settings.model.ts","webpack:///src/app/shared/models/field-value.model.ts","webpack:///src/app/shared/models/player.model.ts","webpack:///src/app/shared/models/playground-state.model.ts","webpack:///src/app/shared/models/playground.model.ts","webpack:///src/app/shared/models/throw.model.ts","webpack:///src/app/shared/services/application-state.service.ts","webpack:///src/app/shared/services/dialog.service.ts","webpack:///src/app/shared/services/game.service.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/x01/models/settings.model.ts","webpack:///src/app/x01/x01.component.ts","webpack:///src/app/x01/x01.component.html","webpack:///src/app/x01/x01.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","data","name","loadChildren","redirectTo","AppComponent","applicationStateService","document","addEventListener","event","scale","preventDefault","passive","selector","templateUrl","styleUrls","animations","AppModule","forRoot","imports","declarations","bootstrap","settings","AroundClockComponent","application","game","route","dialogService","player","fieldIndex","score","state","getPlayerState","getFieldIndex","actFieldIndex","fields","length","multiplier","increaseActFieldIndex","jump","setWin","isTheLastThrow","punishment","nineLives","multi","i","t","throwsHistory","decreaseActFieldIndex","life","nextPlayer","getActualPlayer","isInactive","isFieldEnabled","players","filter","p","some","owners","map","join","forEach","getNumberOfPlayers","index","AroundClockModule","forChild","Settings","style","getBaseFields","getClockFields","getAnciclockFields","getRandom","Array","size","randomFields","random","Math","floor","push","slice","AroundClockState","value","MenuComponent","r","CricketComponent","indexOf","isFieldClosed","playerFieldCount","getFieldCount","isBlackOutGame","getActFieldIndex","isFieldDoneForPlayer","isFieldClosedForOthers","setFieldCount","punishPlayers","getPlayerTotal","punishStyle","isPunishGame","isPlayerDone","isTheBestPlayer","isTheWorstPlayer","getPunishScore","str","isNoScoreGame","getFieldScore","isPrimaryField","remaining","padStart","substr","toUpperCase","isSecondaryField","total","getPlayerTotalForPunishGame","isScoreGame","getPlayerTotalForScoreGame","getFieldValueFromIndex","getPunishCount","setPunishCount","closed","done","CricketModule","numbs","defaultSet","initFields","setAllowedField","numbers","field","f","CricketState","fieldCount","punishCount","getFieldValue","fv","clone","FivesComponent","limit","sum","divider","FivesModule","HareAndHoundComponent","isHare","getHareStartIndex","find","win","getFields","HareAndHoundModule","houndStartIndex","hareStartIndex","HareAndHoundState","DANGER_ZONE_ICON","KillerComponent","nextEnabled","zeroEnabled","multiEnabled","round","actField","isActualPlayerTheLast","killer","suicide","extraEndingMsg","Number","numberOfLives","s","boarding","activePlayers","getAllEnabledFields","owner","boardingLimit","KillerModule","KillerState","KnockoutComponent","getThrowsTotal","KnockoutModule","KnockoutState","materialImports","MaterialModule","slideInAnimation","position","top","left","width","optional","noScore","halveIt","rand","ShanghaiState","fieldScore","ShanghaiComponent","isActiveField","increaseFieldCount","increaseFieldScore","gameEnded","winners","max","losers","w","c","ShanghaiModule","DialogComponent","dialogRef","close","GameToolbarComponent","navigate","playground","resetScore","reset","settingsOpen","quit","showSettings","NumberPlateComponent","getNumberColor","throwNumber","PlayerScoreComponent","hasContent","scoreDisplayed","highlighted","encapsulation","None","PlayerSettingsComponent","storedPlayers","getStoredPlayers","o","playerNameInput","addPlayer","option","blur","playerSelected","SettingsComponent","ApplicationSettings","darkTheme","FieldValue","Player","throws","winDateTime","first","Date","getTime","reduce","a","b","thr","PlaygroundState","list","filtered","FIELDS_COUNT","MAXIMUM_NUMBER_OF_PLAYERS","Playground","minimumNumberOfPlayers","maximumNumberOfPlayers","throwEnabled","saveGameInHistory","actualPlayer","addThrowHistory","actualThrow","calculatePoints","checkPlayerState","victoryFirst","openDialog","getTheFinalResult","newGame","trim","storePlayer","rotate","playerSettingsValidation","customSettingsValidation","openErrorDialog","rotatePlayers","gameHistory","pop","actThrow","skip","customReset","sort","p1","p2","Throw","order","APPLICATION_KEY","PLAYER_KEY","ApplicationStateService","localStorage","getItem","JSON","parse","setTheme","saveSettings","v","setItem","stringify","body","classList","add","className","replace","providedIn","DialogService","dialog","title","content","open","panelClass","GameService","actualPlayerIndex","nextRound","getTheFirstPlayer","isTheFirstPlayer","getTheLastPlayer","isTheLastPlayer","actPlayer","min","shift","components","SharedModule","entryComponents","startValue","start","checkout","X01Component","validStart","isNormalStart","isDoubleStart","isTripleStart","actualScore","next","isHighScoreGame","isNormalCheckout","isDoubleCheckout","isTripleCheckout","X01Module","environment","production","bootstrapModule","catch","err","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {Routes} from '@angular/router';\nimport {MenuComponent} from './components/menu/menu.component';\nimport {X01Module} from './x01/x01.module';\nimport {CricketModule} from './cricket/cricket.module';\nimport {AroundClockModule} from './aroundclock/around-clock.module';\nimport {ShanghaiModule} from './shanghai/shanghai.module';\nimport {KillerModule} from './killer/killer.module';\nimport {FivesModule} from './fives/fives.module';\nimport {HareAndHoundModule} from './hare-and-hound/hare-and-hound.module';\nimport {KnockoutModule} from './knockout/knockout.module';\n\nexport const routes: Routes = [\n  {path: '', component: MenuComponent},\n  {\n    path: 'x01',\n    data: {name: 'Classic X01'},\n    loadChildren: () => X01Module\n  },\n  {\n    path: 'cricket',\n    data: {name: 'Ultimate Cricket'},\n    loadChildren: () => CricketModule\n  },\n  {\n    path: 'around-clock',\n    data: {name: 'Around The Clock / Nine Lives'},\n    loadChildren: () => AroundClockModule\n  },\n  {\n    path: 'shanghai',\n    data: {name: 'Shanghai / Halve It'},\n    loadChildren: () => ShanghaiModule\n  },\n  {\n    path: 'fives',\n    data: {name: 'Fives'},\n    loadChildren: () => FivesModule\n  },\n  {\n    path: 'hare-and-hound',\n    data: {name: 'Hare and Hound'},\n    loadChildren: () => HareAndHoundModule\n  },\n  {\n    path: 'knockout',\n    data: {name: 'Knockout'},\n    loadChildren: () => KnockoutModule\n  },\n  {\n    path: 'killer',\n    data: {name: 'Killer'},\n    loadChildren: () => KillerModule\n  },\n  {\n    path: '**', redirectTo: ''\n  }\n];\n","import {Component} from '@angular/core';\nimport {slideInAnimation} from './route-animation';\nimport {ApplicationStateService} from '~services/application-state.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html',\n  styleUrls: ['./app.component.scss'],\n  animations: [slideInAnimation]\n})\nexport class AppComponent {\n\n  constructor(public applicationStateService: ApplicationStateService) {\n    document.addEventListener('touchmove',  (event: any) => {\n      if (event.scale !== 1) { event.preventDefault(); }\n    }, { passive: false });\n  }\n}\n","<div [@routeAnimations]=\"outlet && outlet.isActivated && outlet.activatedRoute\">\r\n  <router-outlet #outlet=\"outlet\"></router-outlet>\r\n</div>\r\n<div class=\"theme-chooser\">\r\n  <button mat-icon-button (click)=\"applicationStateService.toggleDarkTheme()\" color=\"primary\"><mat-icon>brightness_1</mat-icon></button>\r\n</div>\r\n","import {AppComponent} from './app.component';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {MenuComponent} from './components/menu/menu.component';\nimport {SharedModule} from './shared/shared.module';\nimport {RouterModule} from '@angular/router';\nimport {routes} from './app-routing';\n\n@NgModule({\n  imports: [\n    BrowserModule, BrowserAnimationsModule, RouterModule.forRoot(routes), SharedModule\n  ],\n  declarations: [AppComponent, MenuComponent],\n  exports: [RouterModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Component} from '@angular/core';\r\nimport {AroundClockState} from './models/state.model';\r\nimport {Settings} from './models/settings.model';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {Player} from '~models/player.model';\r\n\r\n@Component({\r\n  templateUrl: './around-clock.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class AroundClockComponent extends Playground<AroundClockState> {\r\n\r\n  settings: Settings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router, dialogService: DialogService) {\r\n    super(application, game, route, dialogService);\r\n    this.settings = new Settings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const state = this.getPlayerState(player);\r\n    if (this.getFieldIndex(state.actFieldIndex) === fieldIndex) {\r\n      // last throw\r\n      if (state.actFieldIndex >= this.settings.fields.length - this.multiplier) {\r\n        this.multiplier = this.multiplier === 1 ? 1 : this.settings.fields.length - (state.actFieldIndex + 1);\r\n      }\r\n      state.increaseActFieldIndex(this.settings.jump ? this.multiplier : 1);\r\n      if (state.actFieldIndex >= this.settings.fields.length) {\r\n        state.actFieldIndex = this.settings.fields.length;\r\n      }\r\n    }\r\n    player.score++;\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    if ((this.settings.fields.length - 1) < this.getPlayerState(player).actFieldIndex) {\r\n      player.setWin();\r\n    } else if (this.game.isTheLastThrow()) {\r\n      if (this.settings.punishment || this.settings.nineLives) {\r\n        let multi = 0;\r\n        for (let i = 0; i < 3; i++) {\r\n          const t = player.throwsHistory[player.throwsHistory.length - i - 1];\r\n          multi += t.score;\r\n        }\r\n        if (multi === 0) {\r\n          if (this.settings.punishment) {\r\n            this.getPlayerState(player).decreaseActFieldIndex();\r\n          } else {\r\n            this.getPlayerState(player).life--;\r\n          }\r\n        }\r\n      }\r\n      this.game.nextPlayer();\r\n    }\r\n    if (this.settings.nineLives) {\r\n      while (this.getPlayerState(this.game.getActualPlayer()).isInactive()) {\r\n        this.game.nextPlayer();\r\n      }\r\n    }\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number): boolean {\r\n    return fieldIndex === this.getFieldIndex(this.getPlayerState(this.game.getActualPlayer()).actFieldIndex);\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return this.isFieldEnabled(fieldIndex);\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    if (!this.isFieldEnabled(fieldIndex)) {\r\n      return this.game.players.filter(p => p !== this.game.getActualPlayer())\r\n        .some(p => fieldIndex === this.getFieldIndex(this.getPlayerState(p).actFieldIndex));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    const owners = this.game.players\r\n      .filter(p => this.getFieldIndex(this.getPlayerState(p).actFieldIndex) === fieldIndex).map(p => p.name);\r\n    return !!owners.length ? owners.join(' ') : '';\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.state = new AroundClockState());\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return !this.settings.nineLives || this.game.getNumberOfPlayers() >= 2;\r\n  }\r\n\r\n  private getFieldIndex(index: number) {\r\n    return this.settings.fields[index];\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [title]=\"'Around The Clock'\" [playground]=\"playground\"\r\n                [rules]=\"'The object of this popular game is to be the first player to hit every number on the board ' +\r\n                 'from 1-20. The numbers must be hit in order, and players alternate after three throws. The player ' +\r\n                  'must hit each number in turn and cannot proceed until to the next number until the number is hit. ' +\r\n                   'The winner is the player who hist all the numbers in order first.\\n\\nNine Lives: Each player gets three ' +\r\n                   'lives. I do not know why the game is called 9 lives but you only get 3. Maybe it is because if you ' +\r\n                    'miss with three darts you lose a life and 3 x 3 = 9'\">\r\n    <h2>Games</h2>\r\n    <button mat-raised-button class=\"button medium\" [color]=\"settings.jump?'primary':''\" (click)=\"settings.toggleJump()\">\r\n      Enable Jump\r\n    </button>\r\n    <button mat-raised-button class=\"button medium\" [color]=\"settings.punishment?'primary':''\" (click)=\"settings.togglePunishment()\">\r\n      Punishment\r\n    </button>\r\n    <button mat-raised-button class=\"button medium\" [color]=\"settings.nineLives?'primary':''\" (click)=\"settings.toggleNineLives()\">\r\n      Nine Lives\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Field's order</h2>\r\n    <button mat-raised-button class=\"button medium\" [color]=\"settings.style==0?'primary':''\" (click)=\"settings.setStyle(0)\">\r\n      Numerical Order\r\n    </button>\r\n    <button mat-raised-button class=\"button medium\" [color]=\"settings.style==1?'primary':''\" (click)=\"settings.setStyle(1)\">\r\n      Clockwise\r\n    </button>\r\n    <button mat-raised-button class=\"button medium\" [color]=\"settings.style==2?'primary':''\" (click)=\"settings.setStyle(2)\">\r\n      Anticlockwise\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n    <button mat-raised-button class=\"button medium\" [color]=\"settings.style==3?'primary':''\" (click)=\"settings.setStyle(3)\">\r\n      Random\r\n    </button>\r\n\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <ng-container *ngIf=\"!settingsOpen\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [scoreDisplayed]=\"false\" [hasContent]=\"settings.nineLives\">\r\n          <ng-container *ngIf=\"settings.nineLives\">\r\n            <div class=\"score\"><label>Life: </label>{{getPlayerState(player).life}}</div>\r\n          </ng-container>\r\n        </app-player-score>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\r\n\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {AroundClockComponent} from './around-clock.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: AroundClockComponent}\r\n    ])\r\n  ],\r\n  declarations: [AroundClockComponent]\r\n})\r\nexport class AroundClockModule {\r\n}\r\n","import {FIELDS_COUNT} from '~models/playground.model';\r\n\r\nexport class Settings {\r\n  jump: boolean;\r\n  punishment: boolean;\r\n  nineLives: boolean;\r\n  style: number;\r\n  fields: number[];\r\n\r\n  constructor() {\r\n    this.style = 0;\r\n    this.jump = true;\r\n    this.punishment = false;\r\n    this.nineLives = false;\r\n    this.fields = this.getBaseFields();\r\n  }\r\n\r\n  setStyle(style: number) {\r\n    this.style = style;\r\n    switch (this.style) {\r\n      case 1:\r\n        this.fields = this.getClockFields();\r\n        break;\r\n      case 2:\r\n        this.fields = this.getAnciclockFields();\r\n        break;\r\n      case 3:\r\n        this.fields = this.getRandom();\r\n        break;\r\n      default:\r\n        this.fields = this.getBaseFields();\r\n    }\r\n  }\r\n\r\n  toggleJump() {\r\n    this.jump = !this.jump;\r\n  }\r\n\r\n  togglePunishment() {\r\n    this.punishment = !this.punishment;\r\n    if (this.punishment) {\r\n      this.nineLives = false;\r\n    }\r\n  }\r\n\r\n  toggleNineLives() {\r\n    this.nineLives = !this.nineLives;\r\n    if (this.nineLives) {\r\n      this.punishment = false;\r\n    }\r\n  }\r\n\r\n  private getBaseFields(): number[] {\r\n    return [...Array(FIELDS_COUNT).keys()];\r\n  }\r\n\r\n  private getClockFields(): number[] {\r\n    return [0, 17, 3, 12, 5, 9, 14, 1, 16, 2, 18, 6, 15, 7, 10, 13, 8, 11, 4, 19, 20];\r\n  }\r\n\r\n  private getAnciclockFields(): number[] {\r\n    return [19, 4, 11, 8, 13, 10, 7, 15, 6, 18, 2, 16, 1, 14, 9, 5, 12, 3, 17, 0, 20];\r\n  }\r\n\r\n  private getRandom(): number[] {\r\n    let fields = this.getBaseFields();\r\n    const size = fields.length;\r\n    const randomFields = [];\r\n    for (let i = (size - 1); i >= 0; i--) {\r\n      const random = Math.floor(Math.random() * fields.length);\r\n      randomFields.push(fields[random]);\r\n      fields = [...fields.slice(0, random), ...fields.slice(random + 1)];\r\n    }\r\n    return randomFields;\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class AroundClockState extends PlaygroundState {\r\n\r\n  actFieldIndex: number;\r\n\r\n  constructor(public life = 3) {\r\n    super();\r\n    this.actFieldIndex = 0;\r\n  }\r\n\r\n  increaseActFieldIndex(value?: number) {\r\n    this.actFieldIndex += value ? value : 1;\r\n  }\r\n\r\n  decreaseActFieldIndex() {\r\n    this.actFieldIndex--;\r\n    if (this.actFieldIndex < 0) {\r\n      this.actFieldIndex = 0;\r\n    }\r\n  }\r\n\r\n  isInactive(): boolean {\r\n    return this.life <= 0;\r\n  }\r\n\r\n  clone(): AroundClockState {\r\n    const state = new AroundClockState(this.life);\r\n    state.actFieldIndex = this.actFieldIndex;\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Routes} from '@angular/router';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'x01',\r\n    data: {name: 'Classic X01'}\r\n  },\r\n  {\r\n    path: 'cricket',\r\n    data: {name: 'Ultimate Cricket'}\r\n  },\r\n  {\r\n    path: 'around-clock',\r\n    data: {name: 'Around The Clock / Nine Lives'}\r\n  },\r\n  {\r\n    path: 'shanghai',\r\n    data: {name: 'Shanghai / Halve It'}\r\n  },\r\n  {\r\n    path: 'fives',\r\n    data: {name: 'Fives'}\r\n  },\r\n  {\r\n    path: 'hare-and-hound',\r\n    data: {name: 'Hare and Hound'}\r\n  },\r\n  {\r\n    path: 'knockout',\r\n    data: {name: 'Knockout'}\r\n  },\r\n  {\r\n    path: 'killer',\r\n    data: {name: 'Killer'}\r\n  }\r\n];\r\n\r\n\r\n@Component({\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.scss']\r\n})\r\nexport class MenuComponent {\r\n\r\n  getGameList(): Routes {\r\n    return routes.filter(r => !!r.data);\r\n  }\r\n}\r\n","<div id=\"menu\">\r\n  <h1>Select Game!</h1>\r\n  <button mat-raised-button class=\"gameSelectBox\" *ngFor=\"let g of getGameList()\"  [routerLink]=\"['/' + g.path]\">\r\n    {{g.data.name}}\r\n  </button>\r\n</div>\r\n<div class=\"version\">v1.1</div>\r\n","import {Component} from '@angular/core';\r\nimport {CricketState} from './models/state.model';\r\nimport {Settings} from './models/settings.model';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\n@Component({\r\n  templateUrl: './cricket.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class CricketComponent extends Playground<CricketState> {\r\n\r\n  settings: Settings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router, dialogService: DialogService) {\r\n    super(application, game, route, dialogService);\r\n    this.settings = new Settings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    if (this.settings.fields.indexOf(fieldIndex) !== -1 && !this.isFieldClosed(fieldIndex)) {\r\n      const playerFieldCount = this.getPlayerState(player).getFieldCount(fieldIndex);\r\n      if (!this.settings.isBlackOutGame() ||\r\n        this.settings.fields[this.getPlayerState(player).getActFieldIndex()] === fieldIndex ||\r\n        this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n\r\n        if (this.isFieldClosedForOthers(player, fieldIndex) && (playerFieldCount + this.multiplier) > 3) {\r\n          this.getPlayerState(player).setFieldCount(fieldIndex, 3);\r\n        } else {\r\n          let multiplier = this.multiplier + 0;\r\n          if (playerFieldCount < 3 && (playerFieldCount + this.multiplier) >= 3) {\r\n            multiplier = (playerFieldCount + this.multiplier) % 3;\r\n          }\r\n          this.getPlayerState(player).setFieldCount(fieldIndex, playerFieldCount + this.multiplier);\r\n          this.multiplier = multiplier;\r\n        }\r\n      }\r\n\r\n      if (this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n        if (this.settings.isBlackOutGame()) {\r\n          if (this.settings.fields[this.getPlayerState(player).getActFieldIndex()] === fieldIndex) {\r\n            this.getPlayerState(player).increaseActFieldIndex();\r\n          }\r\n        }\r\n        this.punishPlayers(fieldIndex);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    this.game.players.forEach(p => p.score = this.getPlayerTotal(p));\r\n    const punishStyle = this.settings.isPunishGame() || this.settings.isBlackOutGame();\r\n    this.game.players.forEach(p => p.setWin(\r\n      this.isPlayerDone(p) &&\r\n      ((!punishStyle && this.game.isTheBestPlayer(p)) || (punishStyle && this.game.isTheWorstPlayer(p)))));\r\n    if (this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  getFieldValue(player: Player, fieldIndex: number): string {\r\n    const score = this.getPunishScore(player, fieldIndex);\r\n    const punishStyle = this.settings.isPunishGame() || this.settings.isBlackOutGame();\r\n    const playerFieldCount = this.getPlayerState(player).getFieldCount(fieldIndex);\r\n\r\n    let str = '';\r\n    if (punishStyle && score !== 0) {\r\n      str += score;\r\n    }\r\n\r\n    if (playerFieldCount === 0 && str.length === 0) {\r\n      return '○';\r\n    } else if (playerFieldCount > 3 && !punishStyle && !this.settings.isNoScoreGame()) {\r\n      return this.getFieldScore(player, fieldIndex) + '';\r\n    } else if (playerFieldCount === 3 || ((punishStyle || this.settings.isNoScoreGame()) && playerFieldCount > 3)) {\r\n      str += '●●●';\r\n    } else {\r\n      for (let i = 0; i < playerFieldCount; i++) {\r\n        str += '●';\r\n      }\r\n    }\r\n    return str;\r\n  }\r\n\r\n  isActiveField(player: Player, fieldIndex: number): boolean {\r\n    return this.settings.fields[this.getPlayerState(player).getActFieldIndex()] === fieldIndex;\r\n  }\r\n\r\n  isFieldDoneForPlayer(player: Player, fieldIndex: number): boolean {\r\n    return this.getPlayerState(player).getFieldCount(fieldIndex) >= 3;\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number): boolean {\r\n    if (this.settings.isNoScoreGame()) {\r\n      return this.settings.fields.indexOf(fieldIndex) !== -1 && !this.isFieldDoneForPlayer(this.game.getActualPlayer(), fieldIndex);\r\n    }\r\n    return this.settings.fields.indexOf(fieldIndex) !== -1 && !this.isFieldClosed(fieldIndex);\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return this.isFieldEnabled(fieldIndex) &&\r\n      !this.isFieldDoneForPlayer(this.game.getActualPlayer(), fieldIndex);\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    return this.isFieldEnabled(fieldIndex) &&\r\n      this.isFieldDoneForPlayer(this.game.getActualPlayer(), fieldIndex);\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    if (this.isPrimaryField(fieldIndex)) {\r\n      const playerFieldCount = this.getPlayerState(this.game.getActualPlayer()).getFieldCount(fieldIndex);\r\n      const remaining = ''.padStart(3 - playerFieldCount, '●');\r\n      return remaining + '\\n' + this.game.players.filter(p => this.isFieldDoneForPlayer(p, fieldIndex))\r\n        .map(p => p.name.substr(0,1)).join(',').toUpperCase();\r\n    } else if (this.isSecondaryField(fieldIndex)) {\r\n      return this.game.players.filter(p => !this.isFieldDoneForPlayer(p, fieldIndex))\r\n        .map(p => p.name.substr(0,1)).join(',').toUpperCase();\r\n    }\r\n    return '';\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.state = new CricketState());\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return this.settings.fields.length > 0;\r\n  }\r\n\r\n  private getPlayerTotal(player: Player) {\r\n    let total = 0;\r\n    if (this.settings.isPunishGame() || this.settings.isBlackOutGame()) {\r\n      total = this.getPlayerTotalForPunishGame(player);\r\n    } else if (this.settings.isScoreGame()) {\r\n      total = this.getPlayerTotalForScoreGame(player);\r\n    }\r\n    return total;\r\n  }\r\n\r\n  private getPlayerTotalForScoreGame(player: Player) {\r\n    let total = 0;\r\n    this.settings.fields.forEach(fieldIndex => {\r\n      if (this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n        total += (this.getPlayerState(player).getFieldCount(fieldIndex) - 3) * Playground.getFieldValueFromIndex(fieldIndex);\r\n      }\r\n    }, this);\r\n    return total;\r\n  }\r\n\r\n  private getPlayerTotalForPunishGame(player: Player) {\r\n    let total = 0;\r\n    this.settings.fields.forEach(fieldIndex => {\r\n      total += this.getPlayerState(player).getPunishCount(fieldIndex) * Playground.getFieldValueFromIndex(fieldIndex);\r\n    }, this);\r\n    return total;\r\n  }\r\n\r\n  private punishPlayers(fieldIndex: number) {\r\n    this.game.players.forEach(player => {\r\n      if (!this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n        this.getPlayerState(player).setPunishCount(fieldIndex, this.getPlayerState(player).getPunishCount(fieldIndex) + this.multiplier);\r\n      }\r\n    }, this);\r\n  }\r\n\r\n  private getFieldScore(player: Player, fieldIndex: number): number {\r\n    if (this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n      return (this.getPlayerState(player).getFieldCount(fieldIndex) - 3) * Playground.getFieldValueFromIndex(fieldIndex);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  private getPunishScore(player: Player, fieldIndex: number): number {\r\n    return this.getPlayerState(player).getPunishCount(fieldIndex) * Playground.getFieldValueFromIndex(fieldIndex);\r\n  }\r\n\r\n  private isFieldClosed(fieldIndex: number): boolean {\r\n    let closed = true;\r\n    this.game.players.forEach(player => {\r\n      closed = closed && this.isFieldDoneForPlayer(player, fieldIndex);\r\n    }, this);\r\n    return closed;\r\n  }\r\n\r\n  private isFieldClosedForOthers(player: Player, fieldIndex: number): boolean {\r\n    let closed = true;\r\n    this.game.players.forEach(p => {\r\n      if (p.id !== player.id) {\r\n        closed = closed && this.isFieldDoneForPlayer(p, fieldIndex);\r\n      }\r\n    }, this);\r\n    return closed;\r\n  }\r\n\r\n  private isPlayerDone(player: Player): boolean {\r\n    let done = true;\r\n    this.settings.fields.forEach(fieldIndex => {\r\n      done = done && this.isFieldDoneForPlayer(player, fieldIndex);\r\n    });\r\n    return done;\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [title]=\"'Ultimate Cricket'\" [playground]=\"playground\"\r\n                [rules]=\"'The objective shall be to \\'own\\' or \\'close\\' certain numbers on the board, and to achieve ' +\r\n                'the highest point score. The player or team to do so first, shall be the winner.'\">\r\n\r\n    <h2>Fields</h2>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.isFieldAllowed(i)?'primary':''\"\r\n            *ngFor=\"let numb of settings.getNumbers(); let i = index\" (click)=\"settings.setNumber(i)\">\r\n      {{numb === 21 ? 'B' : numb}}\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n    <button mat-raised-button class=\"button shortmedium\" (click)=\"settings.upper()\">Upper</button>\r\n    <button mat-raised-button class=\"button shortmedium\" (click)=\"settings.lower()\">Lower</button>\r\n    <button mat-raised-button class=\"button shortmedium\" (click)=\"settings.left()\">Left</button>\r\n    <button mat-raised-button class=\"button shortmedium\" (click)=\"settings.right()\">Right</button>\r\n    <mat-divider></mat-divider>\r\n    <button mat-raised-button class=\"button shortmedium\" (click)=\"settings.odd()\">Odd</button>\r\n    <button mat-raised-button class=\"button shortmedium\" (click)=\"settings.even()\">Even</button>\r\n    <button mat-raised-button class=\"button shortmedium\" (click)=\"settings.prime()\">Prime</button>\r\n    <button mat-raised-button class=\"button shortmedium\" (click)=\"settings.randomize()\">Random</button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Style</h2>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.style==1?'primary':''\"\r\n            (click)=\"settings.setStyle(1)\">Classic\r\n    </button>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.style==2?'primary':''\"\r\n            (click)=\"settings.setStyle(2)\">Cut-Throat\r\n    </button>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.style==3?'primary':''\"\r\n            (click)=\"settings.setStyle(3)\">No Score\r\n    </button>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.style==4?'primary':''\"\r\n            (click)=\"settings.setStyle(4)\">Black Out\r\n    </button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\">\r\n\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n\r\n    <ng-container *ngIf=\"!settingsOpen\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\">\r\n          <div class=\"field-set\">\r\n            <div\r\n                class=\"field {{isActiveField(player, field) && settings.isBlackOutGame()  ? 'active': ''}} {{!isFieldDoneForPlayer(player, field) ? 'highlighted' : ''}}\"\r\n                *ngFor=\"let field of settings.fields\">\r\n              {{field === 20 ? 'B' : (field + 1)}}: <span class=\"small\">{{ getFieldValue(player, field) }}</span>\r\n            </div>\r\n          </div>\r\n        </app-player-score>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {CricketComponent} from './cricket.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: CricketComponent}\r\n    ])\r\n  ],\r\n  declarations: [CricketComponent]\r\n})\r\nexport class CricketModule {\r\n}\r\n","export class Settings {\r\n\r\n  fields: number[] = [14, 15, 16, 17, 18, 19, 20];\r\n  numbs: boolean[] = [];\r\n  style: number;\r\n\r\n  constructor() {\r\n    this.style = 2;\r\n    let defaultSet = false;\r\n    for (let i = 0; i < 21; i++) {\r\n      this.numbs[i] = defaultSet;\r\n      if (i === 13) {\r\n        defaultSet = true;\r\n      }\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  randomize() {\r\n    for (let i = 0; i < this.numbs.length; i++) {\r\n      this.numbs[i] = false;\r\n    }\r\n    for (let i = 0; i < 7; i++) {\r\n      this.numbs[Math.floor(Math.random() * 21)] = true;\r\n    }\r\n    this.numbs[this.numbs.length - 1] = true;\r\n    this.initFields();\r\n  }\r\n\r\n  upper() {\r\n    this.setAllowedField([14, 9, 12, 5, 20, 1, 18, 4, 13, 21]);\r\n  }\r\n\r\n  lower() {\r\n    this.setAllowedField([10, 15, 2, 17, 3, 19, 7, 16, 8, 21]);\r\n  }\r\n\r\n  left() {\r\n    this.setAllowedField([12, 9, 14, 11, 8, 16, 7, 5, 19, 21]);\r\n  }\r\n\r\n  right() {\r\n    this.setAllowedField([1, 18, 4, 13, 6, 10, 15, 2, 17, 21]);\r\n  }\r\n\r\n  odd() {\r\n    this.setAllowedField([1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21]);\r\n  }\r\n\r\n  even() {\r\n    this.setAllowedField([2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 21]);\r\n  }\r\n\r\n  prime() {\r\n    this.setAllowedField([2, 3, 5, 7, 11, 13, 17, 19]);\r\n  }\r\n\r\n  getNumbers(): number[] {\r\n    const numbers: number[] = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      numbers[i] = (i + 1);\r\n    }\r\n    return numbers;\r\n  }\r\n\r\n  isFieldAllowed(field: number): boolean {\r\n    return !!this.numbs[field];\r\n  }\r\n\r\n  setNumber(i: number) {\r\n    this.numbs[i] = !this.numbs[i];\r\n    this.initFields();\r\n  }\r\n\r\n  setStyle(style: number) {\r\n    this.style = style;\r\n  }\r\n\r\n  initFields() {\r\n    this.fields = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      if (this.numbs[i]) {\r\n        this.fields.push(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  isScoreGame(): boolean {\r\n    return this.style === 1;\r\n  }\r\n\r\n  isPunishGame(): boolean {\r\n    return this.style === 2;\r\n  }\r\n\r\n  isNoScoreGame(): boolean {\r\n    return this.style === 3;\r\n  }\r\n\r\n  isBlackOutGame(): boolean {\r\n    return this.style === 4;\r\n  }\r\n\r\n  private setAllowedField(fields: number[]) {\r\n    for (let i = 0; i < this.numbs.length; i++) {\r\n      this.numbs[i] = false;\r\n    }\r\n    fields.forEach(f => this.numbs[f - 1] = true);\r\n    this.initFields();\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\nimport {FieldValue} from '~models/field-value.model';\r\n\r\nexport class CricketState extends PlaygroundState {\r\n\r\n  fieldCount: FieldValue[];\r\n  punishCount: FieldValue[];\r\n  actFieldIndex: number;\r\n\r\n  constructor() {\r\n    super();\r\n    this.fieldCount = [];\r\n    this.punishCount = [];\r\n    this.actFieldIndex = 0;\r\n  }\r\n\r\n  getFieldCount(fieldIndex: number): number {\r\n    return this.getFieldValue(this.fieldCount, fieldIndex).value;\r\n  }\r\n\r\n  setFieldCount(fieldIndex: number, value: number) {\r\n    this.getFieldValue(this.fieldCount, fieldIndex).value = value;\r\n  }\r\n\r\n  getPunishCount(fieldIndex: number): number {\r\n    return this.getFieldValue(this.punishCount, fieldIndex).value;\r\n  }\r\n\r\n  setPunishCount(fieldIndex: number, value: number) {\r\n    this.getFieldValue(this.punishCount, fieldIndex).value = value;\r\n  }\r\n\r\n  getActFieldIndex(): number {\r\n    return this.actFieldIndex;\r\n  }\r\n\r\n  increaseActFieldIndex() {\r\n    this.actFieldIndex++;\r\n  }\r\n\r\n  clone(): CricketState {\r\n    const state = new CricketState();\r\n    state.actFieldIndex = this.actFieldIndex;\r\n    this.fieldCount.forEach(fv => state.fieldCount.push(fv.clone()));\r\n    this.punishCount.forEach(fv => state.punishCount.push(fv.clone()));\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Settings} from './models/settings.model';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\n@Component({\r\n  templateUrl: './fives.component.html',\r\n  animations: [slideInAnimation]\r\n})\r\nexport class FivesComponent extends Playground<PlaygroundState> {\r\n\r\n  settings: Settings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router, dialogService: DialogService) {\r\n    super(application, game, route, dialogService);\r\n    this.settings = new Settings();\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.score = this.settings.limit);\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    if (this.game.isTheLastThrow()) {\r\n      let sum = 0;\r\n      for (let i = 0; i < 3; i++) {\r\n        const t = player.throwsHistory[player.throwsHistory.length - i - 1];\r\n        sum += t.score * t.multi;\r\n      }\r\n      if (sum % this.settings.divider === 0) {\r\n        player.score -= (sum / this.settings.divider);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    this.game.players.forEach(p => p.setWin(p.score <= 0));\r\n    if (this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [title]=\"'Fives'\" [playground]=\"playground\"\r\n                [rules]=\"'The idea of the game to throw three darts into the board, in turn, to score a number that ' +\r\n                 'is divisible by five. The higher the number you score, the more points you can score. For every five ' +\r\n                  'scored, one point is awarded. E.g. if a player scores fifteen then he or she gains three points.'\">\r\n\r\n    <h2>Divider</h2>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.divider === divider?'primary':''\"\r\n            *ngFor=\"let divider of settings.getSelectableDividers()\"\r\n            (click)=\"settings.setDivider(divider)\">{{divider}}</button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Limit</h2>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.limit === limit?'primary':''\"\r\n            *ngFor=\"let limit of settings.getSelectableLimits()\"\r\n            (click)=\"settings.setLimit(limit)\">{{limit}}</button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <ng-container *ngIf=\"!settingsOpen\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [hasContent]=\"false\"></app-player-score>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {FivesComponent} from './fives.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: FivesComponent}\r\n    ])\r\n  ],\r\n  declarations: [FivesComponent]\r\n})\r\nexport class FivesModule {\r\n}\r\n","export class Settings {\r\n  divider: number;\r\n  limit: number;\r\n\r\n  constructor() {\r\n    this.divider = 5;\r\n    this.limit = 30;\r\n  }\r\n\r\n  getSelectableDividers(): number[] {\r\n    return [3, 4, 5, 6, 7, 8, 10];\r\n  }\r\n\r\n  getSelectableLimits(): number[] {\r\n    return [30, 50, 100];\r\n  }\r\n\r\n  setDivider(value: number) {\r\n    this.divider = value;\r\n  }\r\n\r\n  setLimit(value: number) {\r\n    this.limit = value;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Settings} from './models/settings.model';\r\nimport {FIELDS_COUNT, Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {HareAndHoundState} from './models/state.model';\r\n\r\n@Component({\r\n  templateUrl: './hare-and-hound.component.html',\r\n  animations: [slideInAnimation]\r\n})\r\nexport class HareAndHoundComponent extends Playground<HareAndHoundState> {\r\n\r\n  settings: Settings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router, dialogService: DialogService) {\r\n    super(application, game, route, dialogService, 2, 2);\r\n    this.settings = new Settings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const state = this.getPlayerState(player);\r\n    if (this.isFieldEnabled(fieldIndex, state.actFieldIndex)) {\r\n      state.increaseActFieldIndex(this.multiplier);\r\n      if (state.actFieldIndex >= (FIELDS_COUNT - 1)) {\r\n        state.actFieldIndex = state.actFieldIndex - (FIELDS_COUNT - 1);\r\n      }\r\n      player.score -= this.multiplier;\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    player.setWin((this.isHare() && player.score <= 0) ||\r\n      (!this.isHare() &&\r\n        (player.score + this.settings.getHareStartIndex()) <= this.game.players.find(p => this.isHare(p)).score));\r\n\r\n    if (!player.win && this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number, actFieldIndex?: number): boolean {\r\n    if (!actFieldIndex) {\r\n      actFieldIndex = this.getPlayerState(this.game.getActualPlayer()).actFieldIndex;\r\n    }\r\n    return fieldIndex === this.getFieldIndex(actFieldIndex);\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return this.isFieldEnabled(fieldIndex);\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    if (!this.isFieldEnabled(fieldIndex)) {\r\n      return this.game.players.some(p => fieldIndex === this.getFieldIndex(this.getPlayerState(p).actFieldIndex));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    const owners = this.game.players\r\n      .filter(p => this.getFieldIndex(this.getPlayerState(p).actFieldIndex) === fieldIndex)\r\n      .map(p => p.name);\r\n    return !!owners.length ? owners.join(' ') : '';\r\n  }\r\n\r\n  getFieldIcon(fieldIndex: number): string {\r\n    if (!this.isPrimaryField(fieldIndex) && !this.isSecondaryField(fieldIndex)) {\r\n      return '';\r\n    }\r\n    return (this.isHare() && this.isPrimaryField(fieldIndex) || (this.isSecondaryField(fieldIndex) && !this.isHare())) ? 'favorite' : 'directions_run';\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach((player, index) => {\r\n      player.score = FIELDS_COUNT - 1;\r\n      if (index === 0) {\r\n        player.state = new HareAndHoundState(this.settings.getHareStartIndex());\r\n      } else {\r\n        player.state = new HareAndHoundState(0);\r\n      }\r\n    });\r\n  }\r\n\r\n  private getFieldIndex(index: number) {\r\n    return this.settings.getFields()[index];\r\n  }\r\n\r\n  private isHare(player?: Player) {\r\n    if (!player) {\r\n      player = this.game.getActualPlayer();\r\n    }\r\n    return this.game.players.map(p => p.id).indexOf(player.id) === 0;\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [title]=\"'Hare and Hound'\" [playground]=\"playground\"\r\n                [rules]=\"'The frist player is the hare, and his opponent is the hound in pursuit. The hare must travel ' +\r\n                 'clockwise around the board starting at 20. The hare wins by returning to 20 before the hound catches ' +\r\n                  'up with him. The hound usually starts from either 12 or 5, depending on the preference of the ' +\r\n                   'players. The hound wins by overtaking the hare.'\">\r\n\r\n    <h2>Hound start position</h2>\r\n    <button mat-raised-button class=\"button\" [color]=\"(settings.houndStartIndex+1) === start?'primary':''\"\r\n            *ngFor=\"let start of settings.getSelectableHoundStart()\"\r\n            (click)=\"settings.setHoundStart(start - 1)\">{{start}}</button>\r\n\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <ng-container *ngIf=\"!settingsOpen\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [hasContent]=\"false\"></app-player-score>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {SharedModule} from '../shared/shared.module';\r\nimport {HareAndHoundComponent} from './hare-and-hound.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: HareAndHoundComponent}\r\n    ])\r\n  ],\r\n  declarations: [HareAndHoundComponent]\r\n})\r\nexport class HareAndHoundModule {\r\n}\r\n","export class Settings {\r\n  houndStartIndex: number;\r\n  hareStartIndex: number;\r\n\r\n  constructor() {\r\n    this.houndStartIndex = 11;\r\n    this.hareStartIndex = 19;\r\n  }\r\n\r\n  getSelectableHoundStart(): number[] {\r\n    return [14, 9, 12, 5, 20];\r\n  }\r\n\r\n  setHoundStart(value: number) {\r\n    this.houndStartIndex = value;\r\n  }\r\n\r\n  getFields(): number[] {\r\n    const index = this.getBaseFields().indexOf(this.houndStartIndex);\r\n    return [...this.getBaseFields().slice(index), ...this.getBaseFields().slice(0, index)];\r\n  }\r\n\r\n  getHareStartIndex(): number {\r\n    return this.getFields().indexOf(this.hareStartIndex);\r\n  }\r\n\r\n  private getBaseFields(): number[] {\r\n    return [19, 0, 17, 3, 12, 5, 9, 14, 1, 16, 2, 18, 6, 15, 7, 10, 13, 8, 11, 4];\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class HareAndHoundState extends PlaygroundState {\r\n\r\n  constructor(public actFieldIndex: number) {\r\n    super();\r\n  }\r\n\r\n  increaseActFieldIndex(value?: number) {\r\n    this.actFieldIndex += value ? value : 1;\r\n  }\r\n\r\n  decreaseActFieldIndex() {\r\n    this.actFieldIndex--;\r\n    if (this.actFieldIndex < 0) {\r\n      this.actFieldIndex = 0;\r\n    }\r\n  }\r\n\r\n  clone(): HareAndHoundState {\r\n    return new HareAndHoundState(this.actFieldIndex);\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {KillerState} from './models/state.model';\r\nimport {Settings} from './models/settings.model';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\nconst DANGER_ZONE_ICON = 'sentiment_very_dissatisfied';\r\n\r\n@Component({\r\n  templateUrl: './killer.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class KillerComponent extends Playground<KillerState> {\r\n\r\n  settings: Settings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router, dialogService: DialogService) {\r\n    super(application, game, route, dialogService, 2);\r\n    this.settings = new Settings();\r\n    this.nextEnabled = false;\r\n    this.zeroEnabled = false;\r\n    this.multiEnabled = false;\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const state: KillerState = this.getPlayerState(player);\r\n    if (this.game.round === 0) {\r\n      state.actField = fieldIndex;\r\n      player.score = score;\r\n      if (this.game.isActualPlayerTheLast()) {\r\n        this.nextEnabled = true;\r\n        this.zeroEnabled = true;\r\n        this.multiEnabled = true;\r\n      }\r\n    } else {\r\n      if (state.killer) {\r\n        if (this.settings.suicide && fieldIndex === state.actField && this.multiplier > 1) {\r\n          state.life = 0;\r\n          this.extraEndingMsg = 'SUICIDE!!!';\r\n        } else if (fieldIndex === state.actField) {\r\n          state.life = Number(state.life) + Number(this.multiplier);\r\n          if (state.life > this.settings.numberOfLives) {\r\n            state.life = this.settings.numberOfLives;\r\n          }\r\n        } else {\r\n          this.game.players.filter(p => p.id !== player.id && !this.getPlayerState(p).isInactive()).forEach(p => {\r\n            const s = this.getPlayerState(p);\r\n            if (fieldIndex === s.actField) {\r\n              s.life -= this.multiplier;\r\n              if (s.life < 0) {\r\n                s.life = 0;\r\n              }\r\n            }\r\n          });\r\n        }\r\n      } else if (fieldIndex === state.actField) {\r\n        state.boarding -= this.multiplier;\r\n        if (state.boarding <= 0) {\r\n          state.boarding = 0;\r\n        }\r\n        state.killer = state.boarding === 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    if (this.game.round !== 0) {\r\n      const activePlayers = this.game.players.filter(p => !this.getPlayerState(p).isInactive());\r\n      this.game.players.forEach(p => p.setWin(1 === activePlayers.length && !this.getPlayerState(p).isInactive()));\r\n    }\r\n    if (this.game.round === 0 || this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n    while (this.getPlayerState(this.game.getActualPlayer()).isInactive()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number): boolean {\r\n    if (this.game.round === 0) {\r\n      return fieldIndex !== 20 && !this.getAllEnabledFields().some(f => f === fieldIndex);\r\n    }\r\n    return this.getAllEnabledFields().some(f => f === fieldIndex);\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    if (this.game.round === 0) {\r\n      return this.isFieldEnabled(fieldIndex);\r\n    }\r\n    const state = this.getPlayerState(this.game.getActualPlayer());\r\n    if (state.killer) {\r\n      return this.isFieldEnabled(fieldIndex) && !this.isSecondaryField(fieldIndex);\r\n    }\r\n    return state.actField === fieldIndex;\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    const state = this.getPlayerState(this.game.getActualPlayer());\r\n    if (state.killer) {\r\n      return state.actField === fieldIndex;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getFieldIcon(fieldIndex: number): string {\r\n    if (this.game.players.some(p => {\r\n      const state = this.getPlayerState(p);\r\n      return !state.isInactive() && state.life <= 3 && state.actField === fieldIndex;\r\n    })) {\r\n      return DANGER_ZONE_ICON;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    const owner = this.game.players.find(p => (p.state as KillerState).actField === fieldIndex);\r\n    return owner ? `${owner.name}(${(owner.state as KillerState).life})` : '';\r\n  }\r\n\r\n  getPlayerField(player: Player): string {\r\n    const fieldIndex = this.getPlayerState(player).actField;\r\n    return fieldIndex === 20 ? 'B' : (fieldIndex + 1) + '';\r\n  }\r\n\r\n  isInactive(player: Player): boolean {\r\n    return this.getPlayerState(player).isInactive();\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player =>\r\n      player.state = new KillerState(this.settings.numberOfLives, this.settings.boardingLimit));\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return this.settings.numberOfLives > 0 && this.settings.boardingLimit > 0;\r\n  }\r\n\r\n  private getAllEnabledFields(): number[] {\r\n    return this.game.players.filter(p => !this.getPlayerState(p).isInactive())\r\n      .map(p => this.getPlayerState(p).actField);\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [title]=\"'Killer'\" [playground]=\"playground\"\r\n                [rules]=\"'Firstly each player draws lots i.e. a number between 1 - 20. Each player is then given ' +\r\n                 'between 3 & 5 lives. The objective of this game is for each thrower to first hit their own number ' +\r\n                  'three times to gain status of KILLER. Once they have achieved this they then can throw for their ' +\r\n                  'opponents number in any order they wish. Every time a KILLER status player hits an opponents ' +\r\n                  'number the opponent loses a life. KILLERS can also commit SUICIDE by hitting their own number\\'s ' +\r\n                  'triple. The winner of this game is the player that remains alive.'\">\r\n\r\n    <h2>Games</h2>\r\n    <div class=\"field-set\">\r\n      <mat-form-field appearance=\"outline\" class=\"big\">\r\n        <mat-label>Life limit</mat-label>\r\n        <input [(ngModel)]=\"settings.numberOfLives\" type=\"number\" matInput>\r\n      </mat-form-field>\r\n      <mat-form-field appearance=\"outline\" class=\"big\">\r\n        <mat-label>Boarding</mat-label>\r\n        <input [(ngModel)]=\"settings.boardingLimit\" type=\"number\" matInput>\r\n      </mat-form-field>\r\n    </div>\r\n    <mat-divider></mat-divider>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.suicide?'primary':''\"\r\n            (click)=\"settings.toggleSuicide()\">Suicide</button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <ng-container *ngIf=\"!settingsOpen\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}} {{isInactive(player) ? 'inactive' : ''}}\"\r\n          *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [scoreDisplayed]=\"false\" [highlighted]=\"getPlayerState(player).killer\">\r\n          <ng-container *ngIf=\"getPlayerField(player) !== '0'\">\r\n            <div class=\"score\"><label>Field: </label>{{getPlayerField(player)}}</div>\r\n            <div class=\"clear\"></div>\r\n            <div class=\"line\"></div>\r\n            <div class=\"score\">\r\n              <label>Life: </label>{{getPlayerState(player).life}}\r\n              <ng-container *ngIf=\"!getPlayerState(player).killer\"><label>Boarding: </label>{{getPlayerState(player).boarding}}</ng-container>\r\n            </div>\r\n          </ng-container>\r\n        </app-player-score>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {KillerComponent} from './killer.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: KillerComponent}\r\n    ])\r\n  ],\r\n  declarations: [KillerComponent]\r\n})\r\nexport class KillerModule {\r\n}\r\n","export class Settings {\r\n  numberOfLives: number;\r\n  boardingLimit: number;\r\n  suicide: boolean;\r\n\r\n  constructor() {\r\n    this.suicide = false;\r\n    this.numberOfLives = 7;\r\n    this.boardingLimit = 3;\r\n  }\r\n\r\n  toggleSuicide() {\r\n    this.suicide = !this.suicide;\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class KillerState extends PlaygroundState {\r\n\r\n  actField: number;\r\n  killer: boolean;\r\n\r\n  constructor(public life = 5, public boarding = 3) {\r\n    super();\r\n    this.actField = -1;\r\n    this.killer = false;\r\n  }\r\n\r\n  isInactive(): boolean {\r\n    return this.life <= 0;\r\n  }\r\n\r\n  clone(): KillerState {\r\n    const state = new KillerState(this.life, this.boarding);\r\n    state.actField = this.actField;\r\n    state.killer = this.killer;\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Settings} from './models/settings.model';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {KnockoutState} from './models/state.model';\r\n\r\n@Component({\r\n  templateUrl: './knockout.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class KnockoutComponent extends Playground<KnockoutState> {\r\n\r\n  settings: Settings;\r\n  score = 0;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router, dialogService: DialogService) {\r\n    super(application, game, route, dialogService, 2);\r\n    this.settings = new Settings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    player.score = player.getThrowsTotal();\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    if (this.game.isTheLastThrow()) {\r\n      if (this.score > player.getThrowsTotal()) {\r\n        this.getPlayerState(player).life--;\r\n      }\r\n      this.score = player.getThrowsTotal();\r\n      const activePlayers = this.game.players.filter(p => !this.getPlayerState(p).isInactive());\r\n      this.game.players.forEach(p => p.setWin(1 === activePlayers.length && !this.getPlayerState(p).isInactive()));\r\n      this.game.nextPlayer();\r\n    }\r\n    while (this.getPlayerState(this.game.getActualPlayer()).isInactive()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  isInactive(player: Player): boolean {\r\n    return this.getPlayerState(player).isInactive();\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player =>\r\n      player.state = new KnockoutState(this.settings.numberOfLives));\r\n    this.score = 0;\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return this.settings.numberOfLives > 0;\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [title]=\"'Knockout'\" [playground]=\"playground\"\r\n                [rules]=\"'The player selected to throw first must throw as many points as possible. The player next in ' +\r\n                 'line then must throw a higher score than the player throwing before him, if he fails to throw a ' +\r\n                  'higher score a ring is put around their score, once you have 3 rings next to your name, you drop ' +\r\n                   'out of the game.'\">\r\n    <h2>Games</h2>\r\n    <div class=\"field-set\">\r\n      <mat-form-field appearance=\"outline\" class=\"big\">\r\n        <mat-label>Life limit</mat-label>\r\n        <input [(ngModel)]=\"settings.numberOfLives\" type=\"number\" matInput>\r\n      </mat-form-field>\r\n    </div>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <ng-container *ngIf=\"!settingsOpen\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}} {{isInactive(player) ? 'inactive' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [scoreDisplayed]=\"false\">\r\n          <div class=\"clear\"></div>\r\n          <div class=\"score\">\r\n            <label>Life: </label>{{getPlayerState(player).life}}\r\n            <label>Score: </label>{{player.score}}\r\n          </div>\r\n        </app-player-score>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {SharedModule} from '../shared/shared.module';\r\nimport {KnockoutComponent} from './knockout.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: KnockoutComponent}\r\n    ])\r\n  ],\r\n  declarations: [KnockoutComponent]\r\n})\r\nexport class KnockoutModule {\r\n}\r\n","export class Settings {\r\n  numberOfLives: number;\r\n\r\n  constructor() {\r\n    this.numberOfLives = 5;\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class KnockoutState extends PlaygroundState {\r\n\r\n  constructor(public life = 5) {\r\n    super();\r\n  }\r\n\r\n  isInactive(): boolean {\r\n    return this.life <= 0;\r\n  }\r\n\r\n  clone(): KnockoutState {\r\n    return new KnockoutState(this.life);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\n\r\n\r\nconst materialImports = [\r\n  MatDialogModule,\r\n  MatButtonModule,\r\n  MatIconModule,\r\n  MatInputModule,\r\n  MatDividerModule,\r\n  MatAutocompleteModule\r\n];\r\n\r\n@NgModule({\r\n  imports: materialImports,\r\n  exports: materialImports,\r\n})\r\nexport class MaterialModule {\r\n}\r\n\r\n// Copyright 2018 Google Inc. All Rights Reserved.\r\n//   Use of this source code is governed by an MIT-style license that\r\n//   can be found in the LICENSE file at http://angular.io/license\r\n","import {animate, animateChild, group, query, style, transition, trigger} from '@angular/animations';\r\n\r\nexport const slideInAnimation =\r\n  trigger('routeAnimations', [\r\n    transition('* <=> *', [\r\n      style({position: 'relative'}),\r\n      query(':enter, :leave', [\r\n        style({\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%'\r\n        })\r\n      ], {optional: true}),\r\n      query(':enter', [\r\n        style({left: '-100%'})\r\n      ], {optional: true}),\r\n      query(':leave', animateChild(), {optional: true}),\r\n      group([\r\n        query(':leave', [\r\n          animate('300ms ease-out', style({left: '100%'}))\r\n        ], {optional: true}),\r\n        query(':enter', [\r\n          animate('300ms ease-out', style({left: '0%'}))\r\n        ], {optional: true})\r\n      ]),\r\n      query(':enter', animateChild(), {optional: true}),\r\n    ]),\r\n  ]);\r\n","export class Settings {\r\n\r\n  fields: number[];\r\n  numbs: boolean[] = [];\r\n  noScore: boolean;\r\n  halveIt: boolean;\r\n\r\n  constructor() {\r\n    this.fields = [];\r\n    this.noScore = false;\r\n    this.halveIt = false;\r\n    let defaultSet = true;\r\n    for (let i = 0; i < 21; i++) {\r\n      this.numbs[i] = defaultSet;\r\n      if (i === 19) {\r\n        defaultSet = false;\r\n      }\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  randomize() {\r\n    for (let i = 0; i < this.numbs.length; i++) {\r\n      this.numbs[i] = false;\r\n    }\r\n    for (let i = 0; i < 8; i++) {\r\n      let rand = Math.floor(Math.random() * 21);\r\n      while (this.numbs[rand]) {\r\n        rand = Math.floor(Math.random() * 21);\r\n      }\r\n      this.numbs[rand] = true;\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  toggleNoScore() {\r\n    this.noScore = !this.noScore;\r\n  }\r\n\r\n  toggleHalveIt() {\r\n    this.halveIt = !this.halveIt;\r\n  }\r\n\r\n\r\n  getNumbers() {\r\n    const numbers: number[] = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      numbers[i] = (i + 1);\r\n    }\r\n    return numbers;\r\n  }\r\n\r\n  setNumber(i: number) {\r\n    this.numbs[i] = !this.numbs[i];\r\n    this.initFields();\r\n  }\r\n\r\n  initFields() {\r\n    this.fields = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      if (this.numbs[i]) {\r\n        this.fields.push(i);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\nimport {FieldValue} from '~models/field-value.model';\r\n\r\nexport class ShanghaiState extends PlaygroundState {\r\n\r\n  fieldCount: FieldValue[];\r\n  fieldScore: FieldValue[];\r\n\r\n  constructor() {\r\n    super();\r\n    this.fieldCount = [];\r\n    this.fieldScore = [];\r\n  }\r\n\r\n  getFieldCount(field: number): number {\r\n    return this.getFieldValue(this.fieldCount, field).value;\r\n  }\r\n\r\n  increaseFieldCount(field: number, value: number) {\r\n    this.getFieldValue(this.fieldCount, field).value += value;\r\n  }\r\n\r\n  getFieldScore(field: number): number {\r\n    return this.getFieldValue(this.fieldScore, field).value;\r\n  }\r\n\r\n  increaseFieldScore(field: number, value: number) {\r\n    this.getFieldValue(this.fieldScore, field).value += value;\r\n  }\r\n\r\n  clone(): ShanghaiState {\r\n    const state = new ShanghaiState();\r\n    this.fieldCount.forEach(fv => state.fieldCount.push(fv.clone()));\r\n    this.fieldScore.forEach(fv => state.fieldScore.push(fv.clone()));\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {ShanghaiState} from './models/state.model';\r\nimport {Settings} from './models/settings.model';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\n@Component({\r\n  templateUrl: './shanghai.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class ShanghaiComponent extends Playground<ShanghaiState> {\r\n\r\n  settings: Settings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router, dialogService: DialogService) {\r\n    super(application, game, route, dialogService);\r\n    this.settings = new Settings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const state = this.getPlayerState(player);\r\n    if (this.isActiveField(fieldIndex)) {\r\n      state.increaseFieldCount(fieldIndex, 1);\r\n      state.increaseFieldScore(fieldIndex, this.multiplier);\r\n      if (this.settings.noScore) {\r\n        player.score += this.multiplier;\r\n      } else {\r\n        player.score += score * this.multiplier;\r\n      }\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    // Shanghai rule\r\n    if (this.game.isTheLastThrow()) {\r\n      let multi = 1;\r\n      const fieldIndex = this.settings.fields[this.game.round];\r\n      for (let i = 0; i < 3; i++) {\r\n        const t = player.throwsHistory[player.throwsHistory.length - i - 1];\r\n        if (t.score === Playground.getFieldValueFromIndex(fieldIndex)) {\r\n          multi *= (t.multi + 1);\r\n        }\r\n      }\r\n      if (multi === 1 && this.settings.halveIt) {\r\n        player.score = Math.round(player.score / 2);\r\n      }\r\n      player.setWin(multi === 24);\r\n      if (player.win) {\r\n        this.extraEndingMsg = 'SHANGHAI!!!';\r\n      }\r\n    }\r\n\r\n    const gameEnded = (this.game.round === (this.settings.fields.length - 1))\r\n      && this.game.isActualPlayerTheLast() && this.game.isTheLastThrow();\r\n    if (gameEnded) {\r\n      this.game.players.forEach(p => p.setWin(this.game.isTheBestPlayer(p)));\r\n    } else if (this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  getFieldValue(player: Player, fieldIndex: number): string {\r\n    const fieldCount = this.getPlayerState(player).getFieldCount(fieldIndex);\r\n    if (fieldCount === 0) {\r\n      return '○○○';\r\n    } else {\r\n      let str = '' + this.getPlayerState(player).getFieldScore(fieldIndex) * Playground.getFieldValueFromIndex(fieldIndex);\r\n      for (let i = 0; i < fieldCount; i++) {\r\n        str += '●';\r\n      }\r\n      for (let i = fieldCount; i < 3; i++) {\r\n        str += '○';\r\n      }\r\n      return str;\r\n    }\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.state = new ShanghaiState());\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return this.settings.fields.length > 0;\r\n  }\r\n\r\n  isActiveField(fieldIndex: number): boolean {\r\n    return this.settings.fields[this.game.round] === fieldIndex;\r\n  }\r\n\r\n  isFieldDoneForPlayer(fieldIndex: number): boolean {\r\n    return this.settings.fields.indexOf(fieldIndex) < this.game.round;\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number): boolean {\r\n    return this.settings.fields.indexOf(fieldIndex) === this.game.round;\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return this.isFieldEnabled(fieldIndex);\r\n  }\r\n\r\n  getTheFinalResult(): Player[] {\r\n    let winners = this.game.players.filter(p => p.win);\r\n    if (!winners.length) {\r\n      return [];\r\n    }\r\n    let max = winners[0].score;\r\n    winners.forEach(p => {\r\n      max = p.score > max ? p.score : max;\r\n    });\r\n    winners = winners.filter(p => p.score === max).map(p => p.clone());\r\n    const losers  = this.game.players.filter(p => !winners.some(w => w.id === p.id)).map(p => {\r\n      const c = p.clone();\r\n      c.win = false;\r\n      return c;\r\n    });\r\n    return [...winners, ...losers];\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [title]=\"'Shanghai / Halve It'\" [playground]=\"playground\"\r\n                [rules]=\"' Players start by throwing at the number 1 on the board. The object is to hit a single,' +\r\n                 'treble and double (in any order). This first player to hit a single, treble and double wins. If no' +\r\n                  'player achieves this on number 1, the play moves to number 2 and so on until someone wins.'\">\r\n\r\n    <h2>Fields</h2>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.numbs[i]?'primary':''\"\r\n            *ngFor=\"let numb of settings.getNumbers(); let i = index\" (click)=\"settings.setNumber(i)\">\r\n      {{numb === 21 ? 'B' : numb}}\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <button mat-raised-button class=\"button big capitalize\" (click)=\"settings.randomize()\">Randomize</button>\r\n    <button mat-raised-button class=\"button shortmedium\"  [color]=\"settings.noScore?'primary':''\"\r\n            (click)=\"settings.toggleNoScore()\">No score\r\n    </button>\r\n    <button mat-raised-button class=\"button shortmedium\"  [color]=\"settings.halveIt?'primary':''\"\r\n            (click)=\"settings.toggleHalveIt()\">Halve It\r\n    </button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <ng-container *ngIf=\"!settingsOpen\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\">\r\n          <div class=\"field-set\">\r\n            <div class=\"field {{isActiveField(field) ? 'active': ''}} {{isFieldDoneForPlayer(field) ? '' : 'highlighted'}}\"\r\n                 *ngFor=\"let field of settings.fields\">\r\n              {{field === 20 ? 'B' : (field + 1)}}: <span class=\"small\">{{ getFieldValue(player, field) }}</span>\r\n            </div>\r\n          </div>\r\n        </app-player-score>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {ShanghaiComponent} from './shanghai.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: ShanghaiComponent}\r\n    ])\r\n  ],\r\n  declarations: [ShanghaiComponent]\r\n})\r\nexport class ShanghaiModule {\r\n}\r\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Component, Inject} from '@angular/core';\r\nimport {Player} from '~models/player.model';\r\n\r\n@Component({\r\n  templateUrl: 'dialog.component.html',\r\n  styleUrls: ['dialog.component.scss']\r\n})\r\nexport class DialogComponent {\r\n  constructor(protected dialogRef: MatDialogRef<DialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: { title: string, content: string, players: Player[] }) {\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"dialog-container evo-typography\">\r\n  <div mat-dialog-title class=\"subtitle-1\"><p>{{ data.title }}</p></div>\r\n  <mat-dialog-content class=\"body-2\" *ngIf=\"!!data.content || !!data.players.length\">\r\n    <p>{{ data.content }}</p>\r\n    <div class=\"score-line\" *ngFor=\"let player of data.players; let i = index\" [class.winner]=\"player.win\">\r\n      <div>{{i+1}}. {{player.name}} <mat-icon color=\"warn\" *ngIf=\"player.win\">star</mat-icon></div>\r\n      <div>{{player.score}}</div>\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button mat-button [mat-dialog-close]=\"true\">Ok</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import {Component, Input} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {Router} from '@angular/router';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\n\r\n@Component({\r\n  selector: 'app-game-toolbar',\r\n  templateUrl: './game-toolbar.component.html',\r\n  styleUrls: ['./game-toolbar.component.scss']\r\n})\r\nexport class GameToolbarComponent {\r\n\r\n  @Input() playground: Playground<PlaygroundState>;\r\n\r\n  constructor(public route: Router) {\r\n  }\r\n\r\n  quit() {\r\n    this.route.navigate(['/']);\r\n    this.playground.game.resetScore();\r\n    this.playground.multiplier = 1;\r\n    this.playground.extraEndingMsg = '';\r\n  }\r\n\r\n  showSettings() {\r\n    this.playground.reset();\r\n    this.playground.settingsOpen = true;\r\n  }\r\n}\r\n","<div class=\"toolbar\">\r\n  <div class=\"buttons\">\r\n    <button mat-raised-button (click)=\"quit()\">\r\n      <mat-icon>menu</mat-icon>\r\n    </button>\r\n    <button mat-raised-button (click)=\"playground.newGame(true)\">\r\n      <mat-icon>refresh</mat-icon>\r\n    </button>\r\n    <button mat-raised-button (click)=\"showSettings()\">\r\n      <mat-icon>build</mat-icon>\r\n    </button>\r\n    <button mat-raised-button (click)=\"playground.undo()\">\r\n      <mat-icon>undo</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"round-info\">{{playground.game.round+1}}.</div>\r\n</div>\r\n<div class=\"clear\"></div>\r\n","import {Component, Input} from '@angular/core';\r\nimport {GameService} from '~services/game.service';\r\nimport {Playground} from '~models/playground.model';\r\n\r\n@Component({\r\n  selector: 'app-number-plate',\r\n  templateUrl: './number-plate.component.html',\r\n  styleUrls: ['./number-plate.component.scss']\r\n})\r\nexport class NumberPlateComponent {\r\n\r\n  @Input() playground: any;\r\n\r\n  constructor(public game: GameService) {\r\n  }\r\n\r\n  getNumbers(): number[] {\r\n    const numbers: number[] = [];\r\n    for (let i = 1; i <= 20; i++) {\r\n      numbers[i - 1] = i;\r\n    }\r\n    return numbers;\r\n  }\r\n\r\n  getNumberColor(fieldIndex: number): string {\r\n    if (this.playground.isPrimaryField(fieldIndex)) {\r\n      return 'primary';\r\n    } else if (this.playground.isSecondaryField(fieldIndex)) {\r\n      return 'accent';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  isNumberDisabled(fieldIndex: number): boolean {\r\n    return !this.playground.isFieldEnabled(fieldIndex) && !this.getNumberColor(fieldIndex);\r\n  }\r\n\r\n  throwNumber(fieldIndex: number) {\r\n    this.playground.throwNumber(this.playground.isFieldEnabled(fieldIndex) ? Playground.getFieldValueFromIndex(fieldIndex) : 0);\r\n  }\r\n}\r\n\r\n","<div class=\"side-right\">\r\n\r\n  <button mat-raised-button *ngFor=\"let i of getNumbers()\" class=\"number\" [color]=\"getNumberColor(i-1)\"\r\n          [disabled]=\"isNumberDisabled(i-1)\" (click)=\"throwNumber(i-1)\">\r\n    {{i}}\r\n    <mat-icon *ngIf=\"playground.getFieldIcon(i-1)\">{{ playground.getFieldIcon(i-1)}}</mat-icon>\r\n    <p class=\"field-note\" *ngIf=\"playground.getFieldNote(i-1)\">{{ playground.getFieldNote(i-1)}}</p>\r\n  </button>\r\n  <button mat-raised-button class=\"number\" [color]=\"getNumberColor(20)\" [disabled]=\"isNumberDisabled(20)\"\r\n          (click)=\"throwNumber(20)\">\r\n    Bull\r\n    <mat-icon *ngIf=\"playground.getFieldIcon(20)\">{{ playground.getFieldIcon(20)}}</mat-icon>\r\n    <p class=\"field-note\" *ngIf=\"playground.getFieldNote(20)\">{{ playground.getFieldNote(20)}}</p>\r\n  </button>\r\n\r\n  <button mat-raised-button class=\"number\" [color]=\"playground.multiplier === 2 ? 'primary' : ''\"\r\n          (click)=\"playground.doublePoint()\" [disabled]=\"!playground.multiEnabled\">Double</button>\r\n  <button mat-raised-button class=\"number\" [color]=\"playground.multiplier === 3 ? 'primary' : ''\"\r\n          (click)=\"playground.triplePoint()\" [disabled]=\"!playground.multiEnabled\">Triple</button>\r\n\r\n  <button mat-raised-button class=\"number\" (click)=\"playground.skip()\" [disabled]=\"!playground.nextEnabled\">Next</button>\r\n  <button mat-raised-button class=\"number\" (click)=\"playground.throwNumber(0)\" [disabled]=\"!playground.zeroEnabled\">0</button>\r\n</div>\r\n","import {Component, Input, ViewEncapsulation} from '@angular/core';\r\nimport {Player} from '~models/player.model';\r\n\r\n@Component({\r\n  selector: 'app-player-score',\r\n  templateUrl: './player-score.component.html',\r\n  styleUrls: ['./player-score.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class PlayerScoreComponent {\r\n  @Input() player: Player;\r\n  @Input() hasContent = true;\r\n  @Input() scoreDisplayed = true;\r\n  @Input() highlighted = false;\r\n}\r\n","<div class=\"player_info\">\r\n  <div class=\"name\"><mat-icon *ngIf=\"highlighted\">offline_bolt</mat-icon>{{player.name}}</div>\r\n  <div class=\"shoots\">\r\n    <div class=\"shoot\">{{!player.throws[0] ? '-' : player.throws[0]}}</div>\r\n    <div class=\"shoot\">{{!player.throws[1] ? '-' : player.throws[1]}}</div>\r\n    <div class=\"shoot\">{{!player.throws[2] ? '-' : player.throws[2]}}</div>\r\n    <div class=\"shoot total\">{{!player.getThrowsTotal() ? '0' : player.getThrowsTotal()}}</div>\r\n  </div>\r\n  <div class=\"clear\"></div>\r\n  <div class=\"line\" *ngIf=\"hasContent\"></div>\r\n  <ng-content></ng-content>\r\n  <div class=\"line\" *ngIf=\"scoreDisplayed\"></div>\r\n  <div class=\"score\" *ngIf=\"scoreDisplayed\">{{player.score}}</div>\r\n  <div class=\"clear\"></div>\r\n</div>\r\n","import {Component, Input} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {MatAutocompleteSelectedEvent} from '@angular/material/autocomplete';\r\n\r\n@Component({\r\n  selector: 'app-player-settings',\r\n  templateUrl: './player-settings.component.html',\r\n  styleUrls: ['./player-settings.component.scss']\r\n})\r\nexport class PlayerSettingsComponent {\r\n  @Input() playground: Playground<PlaygroundState>;\r\n  storedPlayers = [];\r\n\r\n  constructor(private application: ApplicationStateService) {\r\n    this.storedPlayers = this.application.getStoredPlayers();\r\n  }\r\n\r\n  getOptions() {\r\n    return this.storedPlayers.filter(o => this.playground.game.players\r\n      .map(p => p.name).indexOf(o) === -1);\r\n  }\r\n\r\n  addPlayer(playerNameInput: any) {\r\n    this.playground.addPlayer(playerNameInput);\r\n    this.storedPlayers = this.application.getStoredPlayers();\r\n  }\r\n\r\n  playerSelected(event: MatAutocompleteSelectedEvent, playerNameInput: HTMLInputElement) {\r\n    this.playground.addPlayer(event.option);\r\n    this.storedPlayers = this.application.getStoredPlayers();\r\n    playerNameInput.value = '';\r\n    playerNameInput.blur();\r\n  }\r\n}\r\n","<div class=\"add-player\">\r\n  <mat-form-field appearance=\"outline\" class=\"big\">\r\n    <mat-label>Player name</mat-label>\r\n    <input #playerNameInput type=\"text\" matInput placeholder=\"Enter name\"\r\n      [disabled]=\"!playground.canAddPlayer()\" [matAutocomplete]=\"auto\">\r\n    <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"playerSelected($event, playerNameInput)\">\r\n      <mat-option *ngFor=\"let option of getOptions()\" [value]=\"option\">\r\n        {{option}}\r\n      </mat-option>\r\n    </mat-autocomplete>\r\n  </mat-form-field>\r\n  <button mat-icon-button (click)=\"addPlayer(playerNameInput)\" [disabled]=\"!playground.canAddPlayer()\"><mat-icon>add_circle</mat-icon></button>\r\n</div>\r\n<div class=\"player-table\">\r\n  <div class=\"player-row\" *ngFor=\"let player of playground.game.players; let i = index\">\r\n    <div class=\"player-name\">{{player.name}}</div>\r\n    <button mat-icon-button (click)=\"playground.removePlayer(player)\"><mat-icon>remove_circle</mat-icon></button>\r\n  </div>\r\n</div>\r\n","import {Component, Input, ViewEncapsulation} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.component.html',\r\n  styleUrls: ['./settings.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SettingsComponent {\r\n  @Input() playground: Playground<PlaygroundState>;\r\n  @Input() title: string;\r\n  @Input() rules: string;\r\n}\r\n","<div class=\"settings\">\r\n  <h1>{{title}} Settings</h1>\r\n\r\n  <div id=\"rules\" *ngIf=\"rules\">\r\n    <details>\r\n      <summary>Click here for rules</summary>\r\n      <p>{{rules}}</p>\r\n    </details>\r\n  </div>\r\n\r\n  <h2>Players</h2>\r\n  <app-player-settings [playground]=\"playground\"></app-player-settings>\r\n  <mat-divider></mat-divider>\r\n\r\n  <ng-content></ng-content>\r\n\r\n  <mat-divider></mat-divider>\r\n  <button mat-raised-button class=\"button big\" (click)=\"playground.newGame()\">Start</button>\r\n  <button mat-raised-button class=\"button big\" (click)=\"playground.quit()\">Cancel</button>\r\n</div>\r\n","export class ApplicationSettings {\r\n  darkTheme = false;\r\n}\r\n","export class FieldValue {\n  field: number;\n  value: number;\n\n  constructor(field: number, value: number) {\n    this.field = field;\n    this.value = value;\n  }\n\n  clone(): FieldValue {\n    return new FieldValue(this.field, this.value);\n  }\n}\n","import {Throw} from './throw.model';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class Player {\r\n  score = 0;\r\n  throws: number[] = [];\r\n  throwsHistory: Throw[];\r\n  win = false;\r\n  winDateTime = 0;\r\n  first = true;\r\n  state: PlaygroundState;\r\n\r\n  constructor(public id: number, public name = '') {\r\n  }\r\n\r\n  setWin(win = true) {\r\n    this.win = win;\r\n    this.winDateTime = win ? new Date().getTime() : 0;\r\n  }\r\n\r\n  getThrowsTotal(): number {\r\n    return this.throws.reduce((a, b) => a + b, 0);\r\n  }\r\n\r\n  addThrowHistory(thr: Throw) {\r\n    this.throwsHistory.push(thr);\r\n  }\r\n\r\n  reset() {\r\n    this.score = 0;\r\n    this.throws = [];\r\n    this.throwsHistory = [];\r\n    this.win = false;\r\n    this.winDateTime = 0;\r\n    this.first = true;\r\n  }\r\n\r\n  clone(): Player {\r\n    const player = new Player(this.id, this.name);\r\n    player.score = this.score;\r\n    player.throws = [];\r\n    this.throws.forEach(t => {\r\n      player.throws.push(t);\r\n    });\r\n    player.throwsHistory = this.throwsHistory;\r\n    player.win = this.win;\r\n    player.winDateTime = this.winDateTime;\r\n    player.first = this.first;\r\n    player.throwsHistory = [];\r\n    this.throwsHistory.forEach(throws => {\r\n      player.throwsHistory.push(throws.clone());\r\n    });\r\n    if (this.state) {\r\n      player.state = this.state.clone();\r\n    }\r\n    return player;\r\n  }\r\n}\r\n","import {FieldValue} from './field-value.model';\r\n\r\nexport abstract class PlaygroundState {\r\n\r\n  getFieldValue(list: FieldValue[], fieldIndex: number): FieldValue {\r\n    const filtered = list.filter(f => f.field === fieldIndex);\r\n    if (filtered.length === 0) {\r\n      list.push(new FieldValue(fieldIndex, 0));\r\n    }\r\n    return list.filter(f => f.field === fieldIndex)[0];\r\n  }\r\n\r\n  abstract clone(): PlaygroundState;\r\n}\r\n","import {OnInit} from '@angular/core';\r\nimport {v4 as uuid} from 'uuid';\r\nimport {GameService} from '../services/game.service';\r\nimport {Player} from './player.model';\r\nimport {Throw} from './throw.model';\r\nimport {Router} from '@angular/router';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\nexport const FIELDS_COUNT = 21;\r\nconst MAXIMUM_NUMBER_OF_PLAYERS = 6;\r\n\r\nexport abstract class Playground<T extends PlaygroundState> implements OnInit {\r\n\r\n  throwEnabled = true;\r\n  settingsOpen = true;\r\n  gameHistory: GameService[];\r\n  nextEnabled = true;\r\n  zeroEnabled = true;\r\n  multiEnabled = true;\r\n  playground = this;\r\n  multiplier: number;\r\n  extraEndingMsg: string;\r\n\r\n  protected constructor(public application: ApplicationStateService,\r\n                        public game: GameService,\r\n                        public route: Router,\r\n                        public dialogService: DialogService,\r\n                        public minimumNumberOfPlayers = 1,\r\n                        public maximumNumberOfPlayers?: number) {\r\n  }\r\n\r\n  static getFieldValueFromIndex(fieldIndex: number): number {\r\n    return fieldIndex === 20 ? 25 : fieldIndex + 1;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.settingsOpen = true;\r\n    this.extraEndingMsg = '';\r\n  }\r\n\r\n  throwNumber(score: number) {\r\n    if (this.throwEnabled) {\r\n      this.saveGameInHistory();\r\n      this.throwEnabled = false;\r\n      if (score === 25 && this.multiplier === 3) {\r\n        this.multiplier = 1;\r\n      }\r\n\r\n      const actualPlayer = this.game.getActualPlayer();\r\n      const fieldIndex = score === 25 ? 20 : score - 1;\r\n\r\n      actualPlayer.addThrowHistory(new Throw(score, this.multiplier, this.game.actualThrow));\r\n      if (this.game.actualThrow === 0) {\r\n        actualPlayer.throws = [];\r\n      }\r\n      actualPlayer.throws[this.game.actualThrow] = score * this.multiplier;\r\n      this.game.actualThrow++;\r\n\r\n      this.calculatePoints(actualPlayer, fieldIndex, score);\r\n      this.checkPlayerState(actualPlayer);\r\n\r\n      this.multiplier = 1;\r\n      const winners = this.game.players.filter(p => p.win);\r\n      if (winners.length > 0) {\r\n        if ((this.game.victoryFirst || this.game.getNumberOfPlayers() - winners.length <= 1) || !this.game.victoryFirst) {\r\n          if (!this.extraEndingMsg) {\r\n            this.extraEndingMsg = 'Round: #' + (this.game.round + 1);\r\n          }\r\n          this.dialogService.openDialog('Game Over!', this.extraEndingMsg, this.getTheFinalResult());\r\n          this.newGame(true);\r\n        } else {\r\n          while (this.game.getActualPlayer().win) {\r\n            this.game.nextPlayer();\r\n          }\r\n        }\r\n      }\r\n      this.throwEnabled = true;\r\n    }\r\n  }\r\n\r\n  getPlayerState(player: Player): T {\r\n    return player.state as T;\r\n  }\r\n\r\n  canAddPlayer(): boolean {\r\n    return this.game.getNumberOfPlayers() < MAXIMUM_NUMBER_OF_PLAYERS;\r\n  }\r\n\r\n  addPlayer(name: any) {\r\n    if (!!name.value.trim().length && !this.game.players.some(p => p.name === name.value)) {\r\n      this.game.players.push(new Player(uuid(), name.value));\r\n      this.application.storePlayer(name.value);\r\n    }\r\n    name.value = '';\r\n  }\r\n\r\n  removePlayer(player: Player) {\r\n    this.game.players = this.game.players.filter(p => p !== player);\r\n  }\r\n\r\n  newGame(rotate = false) {\r\n    this.settingsOpen = !this.playerSettingsValidation() || !this.customSettingsValidation();\r\n    if (!this.playerSettingsValidation()) {\r\n      this.dialogService.openErrorDialog('Error!', 'Number of players are incorrect.');\r\n    } else if (this.settingsOpen) {\r\n      this.dialogService.openErrorDialog('Error!', 'Settings is incorrect.');\r\n    }\r\n    if (rotate) {\r\n      this.game.rotatePlayers();\r\n    }\r\n    this.reset();\r\n  }\r\n\r\n  triplePoint() {\r\n    this.multiplier = this.multiplier === 3 ? 1 : 3;\r\n  }\r\n\r\n  doublePoint() {\r\n    this.multiplier = this.multiplier === 2 ? 1 : 2;\r\n  }\r\n\r\n  undo() {\r\n    if (this.gameHistory.length > 0) {\r\n      this.game = this.gameHistory.pop();\r\n    }\r\n  }\r\n\r\n  skip() {\r\n    const actThrow = this.game.actualThrow;\r\n    this.throwNumber(0);\r\n    if (actThrow !== 2) {\r\n      this.skip();\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.gameHistory = [];\r\n    this.game.resetScore();\r\n    this.multiplier = 1;\r\n    this.extraEndingMsg = '';\r\n    this.customReset();\r\n  }\r\n\r\n  quit() {\r\n    this.reset();\r\n    this.route.navigate(['/']);\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return true;\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number): boolean {\r\n    return true;\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return false;\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    return false;\r\n  }\r\n\r\n  getFieldIcon(fieldIndex: number): string {\r\n    return '';\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    return '';\r\n  }\r\n\r\n  getTheFinalResult(): Player[] {\r\n    let winners = this.game.players.filter(p => p.win);\r\n    if (!winners.length) {\r\n      return [];\r\n    }\r\n    winners = winners.sort((p1, p2) => p1.winDateTime < p2.winDateTime ? -1 : 1)\r\n      .slice(0, 1).map(p => p.clone());\r\n    const losers = this.game.players.filter(p => !winners.some(w => w.id === p.id))\r\n      .map(p => {\r\n        const c = p.clone();\r\n        c.win = false;\r\n        return c;\r\n      });\r\n    return [...winners, ...losers];\r\n  }\r\n\r\n  private playerSettingsValidation(): boolean {\r\n    const players: Player[] = [];\r\n    this.game.players.forEach(player => {\r\n      if (player.name.length !== 0) {\r\n        players.push(player);\r\n      }\r\n    });\r\n    this.game.players = players;\r\n    return players.length >= this.minimumNumberOfPlayers &&\r\n      (!this.maximumNumberOfPlayers || players.length <= this.maximumNumberOfPlayers);\r\n  }\r\n\r\n  private saveGameInHistory() {\r\n    this.gameHistory.push(this.game.clone());\r\n  }\r\n\r\n  abstract customReset(): void;\r\n\r\n  abstract calculatePoints(player: Player, fieldIndex: number, score: number);\r\n\r\n  abstract checkPlayerState(player: Player);\r\n}\r\n","export class Throw {\n  field: string;\n\n  constructor(public score: number, public multi: number, public order: number) {\n    this.field = this.score === 25 ? 'B' :  this.score + '';\n  }\n\n  clone(): Throw {\n    return new Throw(this.score, this.multi, this.order);\n  }\n}\n","import {Injectable} from '@angular/core';\r\nimport {ApplicationSettings} from '~models/application-settings.model';\r\n\r\nconst APPLICATION_KEY = 'ApplicationSettings';\r\nconst PLAYER_KEY = 'Players';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class ApplicationStateService {\r\n\r\n  settings = new ApplicationSettings();\r\n\r\n  constructor() {\r\n    const data = localStorage.getItem(APPLICATION_KEY);\r\n    if (data) {\r\n      this.settings = JSON.parse(data);\r\n    }\r\n    this.setTheme();\r\n  }\r\n\r\n  toggleDarkTheme() {\r\n    this.settings.darkTheme = !this.settings.darkTheme;\r\n    this.setTheme();\r\n    this.saveSettings();\r\n  }\r\n\r\n  getStoredPlayers(): string[] {\r\n    const data = localStorage.getItem(PLAYER_KEY);\r\n    if (data) {\r\n      return JSON.parse(data);\r\n    }\r\n    return [];\r\n  }\r\n\r\n  storePlayer(name: string) {\r\n    const players = [name, ...this.getStoredPlayers()].filter((v, i, a) => a.indexOf(v) === i);\r\n    localStorage.setItem(PLAYER_KEY, JSON.stringify(players));\r\n  }\r\n\r\n  private setTheme() {\r\n    if (this.settings.darkTheme) {\r\n      document.body.classList.add('dark-theme');\r\n    } else {\r\n      document.body.className = document.body.className.replace('dark-theme', '');\r\n    }\r\n  }\r\n\r\n  private saveSettings() {\r\n    localStorage.setItem(APPLICATION_KEY, JSON.stringify(this.settings));\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\r\nimport {DialogComponent} from '~components/dialog/dialog.component';\r\nimport {Player} from '~models/player.model';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class DialogService {\r\n\r\n  constructor(private dialog: MatDialog) {\r\n  }\r\n\r\n  openDialog(title = '', content = '', players: Player[] = []): MatDialogRef<DialogComponent> {\r\n    return this.dialog.open(DialogComponent, {\r\n      panelClass: 'success-dialog',\r\n      data: {title, content, players},\r\n    });\r\n  }\r\n\r\n  openErrorDialog(title = '', content = ''): MatDialogRef<DialogComponent> {\r\n    return this.dialog.open(DialogComponent, {\r\n      panelClass: 'error-dialog',\r\n      data: {title, content, players: []},\r\n    });\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {Player} from '../models/player.model';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class GameService {\r\n  players: Player[] = [];\r\n  actualPlayerIndex: number;\r\n  actualThrow: number;\r\n  round: number;\r\n  victoryFirst = true;\r\n\r\n  toggleVictoryFirst() {\r\n    this.victoryFirst = !this.victoryFirst;\r\n  }\r\n\r\n  isTheLastThrow(): boolean {\r\n    return this.actualThrow === 3;\r\n  }\r\n\r\n  getActualPlayer(): Player {\r\n    return this.players[this.actualPlayerIndex];\r\n  }\r\n\r\n  nextPlayer(): void {\r\n    if (this.isActualPlayerTheLast()) {\r\n      this.nextRound();\r\n    }\r\n    this.actualPlayerIndex = (this.actualPlayerIndex + 1) % this.getNumberOfPlayers();\r\n    this.actualThrow = 0;\r\n  }\r\n\r\n  getNumberOfPlayers(): number {\r\n    return this.players.length;\r\n  }\r\n\r\n  getTheFirstPlayer(): Player {\r\n    return this.players[0];\r\n  }\r\n\r\n  isTheFirstPlayer(player: Player): boolean {\r\n    return player.id === this.getTheFirstPlayer().id;\r\n  }\r\n\r\n  isActualPlayerIsTheFirst(): boolean {\r\n    return this.isTheFirstPlayer(this.getActualPlayer());\r\n  }\r\n\r\n  getTheLastPlayer(): Player {\r\n    return this.players[this.getNumberOfPlayers() - 1];\r\n  }\r\n\r\n  isTheLastPlayer(player: Player): boolean {\r\n    return player.id === this.getTheLastPlayer().id;\r\n  }\r\n\r\n  isActualPlayerTheLast(): boolean {\r\n    return this.isTheLastPlayer(this.getActualPlayer());\r\n  }\r\n\r\n  isTheBestPlayer(actPlayer: Player): boolean {\r\n    let max = this.players[0].score;\r\n    this.players.forEach(player => {\r\n      max = player.score > max ? player.score : max;\r\n    });\r\n    return actPlayer.score === max;\r\n  }\r\n\r\n  isTheWorstPlayer(actPlayer: Player): boolean {\r\n    let min = this.players[0].score;\r\n    this.players.forEach(player => {\r\n      min = player.score < min ? player.score : min;\r\n    });\r\n    return actPlayer.score === min;\r\n  }\r\n\r\n  nextRound(): void {\r\n    this.round++;\r\n  }\r\n\r\n  resetScore(): void {\r\n    this.players.forEach(player => player.reset());\r\n    this.actualPlayerIndex = 0;\r\n    this.actualThrow = 0;\r\n    this.round = 0;\r\n  }\r\n\r\n  rotatePlayers(): void {\r\n    this.players.push(this.players.shift());\r\n  }\r\n\r\n  clone(): GameService {\r\n    const game = new GameService();\r\n    game.actualPlayerIndex = this.actualPlayerIndex;\r\n    game.actualThrow = this.actualThrow;\r\n    game.round = this.round;\r\n    const players: Player[] = [];\r\n    this.players.forEach(player => {\r\n      players.push(player.clone());\r\n    });\r\n    game.players = players;\r\n    return game;\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {CommonModule} from '@angular/common';\r\nimport {MaterialModule} from '../material.module';\r\nimport {DialogComponent} from '~components/dialog/dialog.component';\r\nimport {GameToolbarComponent} from '~components/game-toolbar/game-toolbar.component';\r\nimport {NumberPlateComponent} from '~components/number-plate/number-plate.component';\r\nimport {PlayerSettingsComponent} from '~components/player-settings/player-settings.component';\r\nimport {SettingsComponent} from '~components/settings/settings.component';\r\nimport {PlayerScoreComponent} from '~components/player-score/player-score.component';\r\n\r\nconst components = [NumberPlateComponent, GameToolbarComponent,\r\n  DialogComponent, PlayerSettingsComponent, SettingsComponent, PlayerScoreComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, MaterialModule],\r\n  declarations: components,\r\n  exports: [CommonModule, FormsModule, MaterialModule, ...components],\r\n  entryComponents: [DialogComponent]\r\n})\r\nexport class SharedModule {\r\n}\r\n","export class Settings {\r\n\r\n  startValue = 301;\r\n  start = 1;\r\n  checkout = 1;\r\n\r\n  isNormalStart(): boolean {\r\n    return this.start === 1;\r\n  }\r\n\r\n  isDoubleStart(): boolean {\r\n    return this.start === 2;\r\n  }\r\n\r\n  isTripleStart(): boolean {\r\n    return this.start === 3;\r\n  }\r\n\r\n  isNormalCheckout(): boolean {\r\n    return this.checkout === 1;\r\n  }\r\n\r\n  isDoubleCheckout(): boolean {\r\n    return this.checkout === 2;\r\n  }\r\n\r\n  isTripleCheckout(): boolean {\r\n    return this.checkout === 3;\r\n  }\r\n\r\n  isHighScoreGame(): boolean {\r\n    return this.checkout === 4;\r\n  }\r\n\r\n  setStart(start: number) {\r\n    this.start = start;\r\n  }\r\n\r\n  setCheckout(checkout: number) {\r\n    this.checkout = checkout;\r\n  }\r\n\r\n  setStartValue(startValue: number) {\r\n    this.startValue = startValue;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Settings} from './models/settings.model';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\n@Component({\r\n  templateUrl: './x01.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class X01Component extends Playground<PlaygroundState> {\r\n\r\n  settings: Settings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router, dialogService: DialogService) {\r\n    super(application, game, route, dialogService);\r\n    this.settings = new Settings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const validStart = !player.first || this.settings.isNormalStart()\r\n      || (player.first\r\n        && ((this.settings.isDoubleStart() && this.multiplier === 2)\r\n          || (this.settings.isTripleStart() && this.multiplier === 3)));\r\n    if (validStart) {\r\n      const actualScore = score * this.multiplier;\r\n      player.first = false;\r\n      player.score -= actualScore;\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    let next = false;\r\n    if ((this.settings.isHighScoreGame() && player.score <= 0) ||\r\n      ((player.score === 0 && (this.settings.isNormalCheckout()\r\n        || (this.settings.isDoubleCheckout() && this.multiplier === 2)\r\n        || (this.settings.isTripleCheckout() && this.multiplier === 3))))) {\r\n      player.setWin();\r\n      next = true;\r\n    } else if (player.score <= 0\r\n      || (this.settings.isDoubleCheckout() && player.score < 2)\r\n      || (this.settings.isTripleCheckout() && player.score < 3)) {\r\n      player.throws.forEach(t => player.score += t);\r\n      next = true;\r\n      this.dialogService.openErrorDialog(`${this.game.getActualPlayer().name} busted!`);\r\n    }\r\n    if (this.game.isTheLastThrow() || next) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.score = this.settings.startValue);\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [title]=\"'X01'\" [playground]=\"playground\"\r\n                [rules]=\"'All players start with 301/501 points and attempt to reach zero. If a player scores more ' +\r\n                 'than the total required to reach zero, the player “busts” and the score returns to the score that ' +\r\n                  'was existing at the start of the turn.'\">\r\n\r\n    <h2>Games</h2>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.startValue===101?'primary':''\"\r\n            (click)=\"settings.setStartValue(101)\">101\r\n    </button>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.startValue===201?'primary':''\"\r\n            (click)=\"settings.setStartValue(201)\">201\r\n    </button>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.startValue===301?'primary':''\"\r\n            (click)=\"settings.setStartValue(301)\">301\r\n    </button>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.startValue===501?'primary':''\"\r\n            (click)=\"settings.setStartValue(501)\">501\r\n    </button>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.startValue===701?'primary':''\"\r\n            (click)=\"settings.setStartValue(701)\">701\r\n    </button>\r\n    <button mat-raised-button class=\"button\" [color]=\"settings.startValue===901?'primary':''\"\r\n            (click)=\"settings.setStartValue(901)\">901\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Check In</h2>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.start===1?'primary':''\"\r\n            (click)=\"settings.setStart(1)\">Single\r\n    </button>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.start===2?'primary':''\"\r\n            (click)=\"settings.setStart(2)\">Double\r\n    </button>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.start===3?'primary':''\"\r\n            (click)=\"settings.setStart(3)\">Triple\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Check Out</h2>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.checkout===1?'primary':''\"\r\n            (click)=\"settings.setCheckout(1)\">Single\r\n    </button>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.checkout===2?'primary':''\"\r\n            (click)=\"settings.setCheckout(2)\">Double\r\n    </button>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.checkout===3?'primary':''\"\r\n            (click)=\"settings.setCheckout(3)\">Triple\r\n    </button>\r\n    <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.checkout===4?'primary':''\"\r\n            (click)=\"settings.setCheckout(4)\">None\r\n    </button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <ng-container *ngIf=\"!settingsOpen\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [hasContent]=\"false\"></app-player-score>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {X01Component} from './x01.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: X01Component}\r\n    ])\r\n  ],\r\n  declarations: [X01Component]\r\n})\r\nexport class X01Module {\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}