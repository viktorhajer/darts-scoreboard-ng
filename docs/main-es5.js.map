{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-game-types.ts","webpack:///src/app/app-routing.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/aroundclock/around-clock.component.ts","webpack:///src/app/aroundclock/around-clock.component.html","webpack:///src/app/aroundclock/around-clock.module.ts","webpack:///src/app/aroundclock/models/around-clock.settings.model.ts","webpack:///src/app/aroundclock/models/around-clock.state.model.ts","webpack:///src/app/capture-the-flag/capture-the-flag.component.ts","webpack:///src/app/capture-the-flag/capture-the-flag.component.html","webpack:///src/app/capture-the-flag/capture-the-flag.module.ts","webpack:///src/app/capture-the-flag/models/capture-the-flag.settings.model.ts","webpack:///src/app/capture-the-flag/models/capture-the-flag.state.model.ts","webpack:///src/app/cricket/cricket.component.ts","webpack:///src/app/cricket/cricket.component.html","webpack:///src/app/cricket/cricket.module.ts","webpack:///src/app/cricket/models/cricet.settings.model.ts","webpack:///src/app/cricket/models/cricet.state.model.ts","webpack:///src/app/duel/duel.component.ts","webpack:///src/app/duel/duel.component.html","webpack:///src/app/duel/duel.module.ts","webpack:///src/app/duel/models/duel.settings.model.ts","webpack:///src/app/duel/models/duel.state.model.ts","webpack:///src/app/fives/fives.component.ts","webpack:///src/app/fives/fives.component.html","webpack:///src/app/fives/fives.module.ts","webpack:///src/app/fives/models/fives.settings.model.ts","webpack:///src/app/hare-and-hound/hare-and-hound.component.ts","webpack:///src/app/hare-and-hound/hare-and-hound.component.html","webpack:///src/app/hare-and-hound/hare-and-hound.module.ts","webpack:///src/app/hare-and-hound/models/hare-and-hound.settings.model.ts","webpack:///src/app/hare-and-hound/models/hare-and-hound.state.model.ts","webpack:///src/app/imitator/imitator.component.ts","webpack:///src/app/imitator/imitator.component.html","webpack:///src/app/imitator/imitator.module.ts","webpack:///src/app/imitator/models/imitator.settings.model.ts","webpack:///src/app/imitator/models/imitator.state.model.ts","webpack:///src/app/killer/killer.component.ts","webpack:///src/app/killer/killer.component.html","webpack:///src/app/killer/killer.module.ts","webpack:///src/app/killer/models/killer.settings.model.ts","webpack:///src/app/killer/models/killer.state.model.ts","webpack:///src/app/knockout/knockout.component.ts","webpack:///src/app/knockout/knockout.component.html","webpack:///src/app/knockout/knockout.module.ts","webpack:///src/app/knockout/models/knockout.settings.model.ts","webpack:///src/app/knockout/models/knockout.state.model.ts","webpack:///src/app/material.module.ts","webpack:///src/app/route-animation.ts","webpack:///src/app/scam/models/scam.settings.model.ts","webpack:///src/app/scam/scam.component.ts","webpack:///src/app/scam/scam.component.html","webpack:///src/app/scam/scam.module.ts","webpack:///src/app/shanghai/models/shanghai.settings.model.ts","webpack:///src/app/shanghai/models/shanghai.state.model.ts","webpack:///src/app/shanghai/shanghai.component.ts","webpack:///src/app/shanghai/shanghai.component.html","webpack:///src/app/shanghai/shanghai.module.ts","webpack:///src/app/shared/components/confirm-dialog/confirm-dialog.component.ts","webpack:///src/app/shared/components/confirm-dialog/confirm-dialog.component.html","webpack:///src/app/shared/components/dialog/dialog.component.ts","webpack:///src/app/shared/components/dialog/dialog.component.html","webpack:///src/app/shared/components/game-history-dialog/game-history-dialog.component.ts","webpack:///src/app/shared/components/game-history-dialog/game-history-dialog.component.html","webpack:///src/app/shared/components/game-statistics-dialog/game-statistics-dialog.component.ts","webpack:///src/app/shared/components/game-statistics-dialog/game-statistics-dialog.component.html","webpack:///src/app/shared/components/game-toolbar/game-toolbar.component.ts","webpack:///src/app/shared/components/game-toolbar/game-toolbar.component.html","webpack:///src/app/shared/components/game-type-statistics-dialog/game-type-statistics-dialog.component.ts","webpack:///src/app/shared/components/game-type-statistics-dialog/game-type-statistics-dialog.component.html","webpack:///src/app/shared/components/menu/menu.component.ts","webpack:///src/app/shared/components/menu/menu.component.html","webpack:///src/app/shared/components/number-plate-shanghai/number-plate-shanghai.component.ts","webpack:///src/app/shared/components/number-plate-shanghai/number-plate-shanghai.component.html","webpack:///src/app/shared/components/number-plate-visual/number-plate-visual.component.ts","webpack:///src/app/shared/components/number-plate-visual/number-plate-visual.component.html","webpack:///src/app/shared/components/number-plate/number-plate.component.ts","webpack:///src/app/shared/components/number-plate/number-plate.component.html","webpack:///src/app/shared/components/player-score/player-score.component.ts","webpack:///src/app/shared/components/player-score/player-score.component.html","webpack:///src/app/shared/components/player-settings/player-settings.component.ts","webpack:///src/app/shared/components/player-settings/player-settings.component.html","webpack:///src/app/shared/components/settings/settings.component.ts","webpack:///src/app/shared/components/settings/settings.component.html","webpack:///src/app/shared/models/application-settings.model.ts","webpack:///src/app/shared/models/field-value.model.ts","webpack:///src/app/shared/models/game-statistics.model.ts","webpack:///src/app/shared/models/player.model.ts","webpack:///src/app/shared/models/playground-state.model.ts","webpack:///src/app/shared/models/playground.model.ts","webpack:///src/app/shared/models/throw.model.ts","webpack:///src/app/shared/services/application-state.service.ts","webpack:///src/app/shared/services/bot.service.ts","webpack:///src/app/shared/services/dialog.service.ts","webpack:///src/app/shared/services/game.service.ts","webpack:///src/app/shared/services/sound.service.ts","webpack:///src/app/shared/services/statistics.service.ts","webpack:///src/app/shared/services/storage.service.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/theme.constant.ts","webpack:///src/app/x01/models/x01.settings.model.ts","webpack:///src/app/x01/x01.component.ts","webpack:///src/app/x01/x01.component.html","webpack:///src/app/x01/x01.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","data","name","color","icon","bot","component","loadChildren","redirectTo","AppComponent","applicationStateService","soundService","document","addEventListener","event","scale","preventDefault","passive","audioElement","audioElementRef","nativeElement","selector","templateUrl","styleUrls","animations","AppModule","forRoot","imports","declarations","bootstrap","settings","AroundClockComponent","application","game","route","dialogService","botService","statisticsService","hiddenInfo","player","fieldIndex","score","scoreReal","state","getPlayerState","originalMulti","multiplier","targetedField","getFieldIndex","actFieldIndex","hasChanges","handlePromoterSaboteur","throwsHistory","length","fields","increaseActFieldIndex","jump","setWin","isTheLastThrow","punishment","life","multi","i","t","decreaseActFieldIndex","no","nextPlayer","firstDeath","activePlayers","players","filter","p","isInactive","getTheBestPlayers","forEach","getActualPlayer","target","index","calculateTarget","isDoublePoint","doublePoint","isTriplePoint","triplePoint","setTimeout","throwNumber","isFieldEnabled","getFieldValueFromIndex","style","bullPos","findIndex","f","playerPos","diff","some","isPrimaryField","owners","map","substr","join","setStyle","max","saboteur","promoter","realFieldIndex","otherPlayer","otherPlayerState","palFirst","AroundClockModule","forChild","AroundClockSettings","getBaseFields","getClockFields","getAnticlockFields","getRandom","reverse","slice","getRecurrence","getPirate","getTripleClockFields","getZoneClockFields","Array","size","randomFields","random","Math","floor","push","AroundClockState","value","CaptureTheFlagComponent","isActiveField","increaseFieldCount","getFieldCount","noScore","checkWinner","actualFieldIndex","isTheBestPlayer","fieldCount","str","min","randomCity","randomCountry","randomContinent","indexOf","find","winners","win","clone","losers","w","c","total","sum","reduce","a","b","CaptureTheFlagModule","CaptureTheFlagSettings","sort","Number","CaptureTheFlagState","field","getFieldValue","fv","CricketComponent","isFieldClosed","playerFieldCount","isBlackOutGame","getActFieldIndex","isFieldDoneForPlayer","isFieldClosedForOthers","setFieldCount","punishPlayers","getPlayerTotal","punishStyle","isPunishGame","isPlayerDone","isTheWorstPlayer","getPunishScore","isNoScoreGame","getFieldScore","getPlayerToDisplay","remaining","padStart","toUpperCase","isSecondaryField","playerToDisplay","getPlayerTotalForPunishGame","isScoreGame","getPlayerTotalForScoreGame","getPunishCount","setPunishCount","closed","done","CricketModule","CricketSettings","numbs","defaultSet","initFields","maxField","n","setAllowedField","numbers","CricketState","punishCount","DuelComponent","actualScore","ownFields","isNotOwnField","handover","targetPoint","isFieldAllowed","startPoint","DuelModule","DuelSettings","star","DuelState","FivesComponent","divider","noCheat","actualThrow","mod","getThrowsTotal","all","limit","FivesModule","FivesSettings","HareAndHoundComponent","isHare","getHareStartIndex","houndStartIndex","getFields","HareAndHoundModule","HareAndHoundSettings","hareStartIndex","HareAndHoundState","ImitatorComponent","nextEnabled","punished","newScore","newFieldIndex","isTheLastPlayer","round","ImitatorModule","ImitatorSettings","r","ImitatorState","DANGER_ZONE_ICON","KillerComponent","zeroEnabled","multiEnabled","actField","isActualPlayerTheLast","killer","suicide","extraEndingMsg","numberOfLives","s","boarding","getAllEnabledFields","owner","shortName","boardingLimit","KillerModule","KillerSettings","KillerState","KnockoutComponent","getPreviousPlayer","getNextPlayer","getActivePlayers","KnockoutModule","KnockoutSettings","KnockoutState","materialImports","MaterialModule","slideInAnimation","position","top","left","width","optional","ScamSettings","stopper","punishmentValue","ScamComponent","isTheFirstPlayer","scr","bests","calculateMultiTarget","ScamModule","ShanghaiSettings","halveIt","rand","ShanghaiState","fieldScore","ShanghaiComponent","increaseFieldScore","gameEnded","ShanghaiModule","ConfirmDialogComponent","dialogRef","close","confirm","cancel","DialogComponent","GameHistoryDialogComponent","statistics","Date","getTime","stat","pna","split","result","appVersion","GameStatisticsDialogComponent","getRatio","l","GameToolbarComponent","showConfirmation","navigate","playground","resetScore","newGame","reset","settingsOpen","undo","info","getRound","content","callback","gameHistory","openConfirmDialog","afterClosed","subscribe","reversRound","quit","showSettings","GameTypeStatisticsDialogComponent","count","MenuComponent","router","dialog","openGameTypeStatistics","getGameTypeStatistics","openGameHistory","getGameStatistics","randomGame","openGameStatistics","NumberPlateShanghaiComponent","skip","actualIndex","next","ARC_WIDTH","NumberPlateVisualComponent","ngUnsubscribeHasChange","drawTable","pipe","flag","complete","remove","svg","append","attr","bullIndex","drawArcPosition","drawText","throwZero","drawArc","PI","colorSlice","colorSliceMulti","startAngle","endAngle","getNumberColor","getFieldNote","isAlertField","isNumberDisabled","querySelector","classList","add","text","rotate","x","y","className","onclick","on","innerRadius","outerRadius","styleClass","radius","encapsulation","None","NumberPlateComponent","PlayerScoreComponent","hasContent","scoreDisplayed","lifeDisplayed","highlighted","PlayerSettingsComponent","storedPlayers","getStoredPlayers","o","playerNameInput","addPlayer","option","blur","playerSelected","SettingsComponent","openGameStatisticsDialog","getGameHistory","openStatistics","openHistory","ApplicationSettings","theme","details","FieldValue","GameStatistics","Player","winDateTime","first","thr","throws","PlaygroundState","list","filtered","FIELDS_COUNT","MAXIMUM_NUMBER_OF_PLAYERS","Playground","gameTitle","gameName","minimumNumberOfPlayers","maximumNumberOfPlayers","throwEnabled","now","args","saveGameInHistory","actualPlayer","addThrowHistory","calculatePoints","checkPlayerState","victoryFirst","getNumberOfPlayers","finishStatistics","openDialog","getTheFinalResult","toLowerCase","botThrow","trim","storePlayer","playerSettingsValidation","customSettingsValidation","msg","openErrorDialog","rotatePlayers","pop","actThrow","customReset","startStatistics","parseStatistics","p1","p2","gameStatistics","toISOString","g","decoratePlayerStat","getGameConfig","saveStatistics","pl","Throw","order","APPLICATION_KEY","PLAYER_KEY","ApplicationStateService","availableThemes","localStorage","getItem","JSON","parse","setTheme","saveSettings","v","setItem","stringify","Object","properties","property","documentElement","setProperty","providedIn","PLAYER_NAME","PLAYER_DELAY","PLAYER_DELAY_FAST","MAX_LEVEL","PLAYER_LEVEL","BotService","targets","actual","upOrBottomLine","mistakeLevel","TARGET_MATRIX","DialogService","title","open","panelClass","maxWidth","maxHeight","height","GameService","actualPlayerIndex","nextRound","getTheFirstPlayer","getTheLastPlayer","actPlayer","best","shift","SoundService","soundFileName","src","play","STAT_NAME_SEPARATOR","STATISTICS_STORAGE_KEY","StatisticsService","storageService","getObject","setObject","playerName","playerStat","games","type","console","log","StorageService","storage","key","removeItem","components","SharedModule","entryComponents","X01Settings","startValue","start","checkout","X01Component","validStart","isNormalStart","isDoubleStart","isTripleStart","isHighScoreGame","isNormalCheckout","isDoubleCheckout","isTripleCheckout","X01Module","environment","version","production","bootstrapModule","err","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {Routes} from '@angular/router';\r\n\r\nexport const routes: Routes = [\r\n  {\r\n    path: 'x01',\r\n    data: {name: 'Classic X01', color: '#009688', icon: 'emoji_food_beverage', bot: true}\r\n  },\r\n  {\r\n    path: 'cricket',\r\n    data: {name: 'Ultimate Cricket', color: '#0a756b', icon: 'sports_cricket'}\r\n  },\r\n  {\r\n    path: 'around-clock',\r\n    data: {name: 'Around The Clock', color: '#0f5851', icon: 'cached', bot: true}\r\n  },\r\n  {\r\n    path: 'shanghai',\r\n    data: {name: 'Shanghai, Halve It', color: '#0f5851', icon: 'emoji_symbols'}\r\n  },\r\n  {\r\n    path: 'fives',\r\n    data: {name: 'Fives', color: '#009688', icon: 'add_box'}\r\n  },\r\n  {\r\n    path: 'hare-and-hound',\r\n    data: {name: 'Hare and Hound', color: '#0a756b', icon: 'cruelty_free'}\r\n  },\r\n  {\r\n    path: 'knockout',\r\n    data: {name: 'Knockout', color: '#009688', icon: 'sports_mma'}\r\n  },\r\n  {\r\n    path: 'killer',\r\n    data: {name: 'Killer', color: '#0a756b', icon: 'gps_fixed'}\r\n  },\r\n  {\r\n    path: 'capture-the-flag',\r\n    data: {name: 'Capture the Flag', color: '#0a756b', icon: 'flag'}\r\n  },\r\n  {\r\n    path: 'duel',\r\n    data: {name: 'Duel', color: '#0a756b', icon: 'emoji_events'}\r\n  },\r\n  {\r\n    path: 'imitator',\r\n    data: {name: 'Imitator', color: '#0a756b', icon: 'group'}\r\n  },\r\n  {\r\n    path: 'scam',\r\n    data: {name: 'Scam', color: '#0a756b', icon: 'group_work', bot: true}\r\n  }\r\n];\r\n","import {Routes} from '@angular/router';\nimport {MenuComponent} from './shared/components/menu/menu.component';\nimport {X01Module} from './x01/x01.module';\nimport {CricketModule} from './cricket/cricket.module';\nimport {AroundClockModule} from './aroundclock/around-clock.module';\nimport {ShanghaiModule} from './shanghai/shanghai.module';\nimport {KillerModule} from './killer/killer.module';\nimport {FivesModule} from './fives/fives.module';\nimport {HareAndHoundModule} from './hare-and-hound/hare-and-hound.module';\nimport {KnockoutModule} from './knockout/knockout.module';\nimport {CaptureTheFlagModule} from './capture-the-flag/capture-the-flag.module';\nimport {ImitatorModule} from './imitator/imitator.module';\nimport {ScamModule} from './scam/scam.module';\nimport {DuelModule} from './duel/duel.module';\n\nexport const routes: Routes = [\n  {\n    path: '',\n    component: MenuComponent\n  },\n  {\n    path: 'x01',\n    loadChildren: () => X01Module\n  },\n  {\n    path: 'cricket',\n    loadChildren: () => CricketModule\n  },\n  {\n    path: 'around-clock',\n    loadChildren: () => AroundClockModule\n  },\n  {\n    path: 'shanghai',\n    loadChildren: () => ShanghaiModule\n  },\n  {\n    path: 'fives',\n    loadChildren: () => FivesModule\n  },\n  {\n    path: 'hare-and-hound',\n    loadChildren: () => HareAndHoundModule\n  },\n  {\n    path: 'knockout',\n    loadChildren: () => KnockoutModule\n  },\n  {\n    path: 'killer',\n    loadChildren: () => KillerModule\n  },\n  {\n    path: 'capture-the-flag',\n    loadChildren: () => CaptureTheFlagModule\n  },\n  {\n    path: 'duel',\n    loadChildren: () => DuelModule\n  },\n  {\n    path: 'imitator',\n    loadChildren: () => ImitatorModule\n  },\n  {\n    path: 'scam',\n    loadChildren: () => ScamModule\n  },\n  {\n    path: '**', redirectTo: ''\n  }\n];\n","import {AfterViewInit, Component, ElementRef, ViewChild} from '@angular/core';\nimport {slideInAnimation} from './route-animation';\nimport {ApplicationStateService} from '~services/application-state.service';\nimport {SoundService} from '~services/sound.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html',\n  styleUrls: ['./app.component.scss'],\n  animations: [slideInAnimation]\n})\nexport class AppComponent implements AfterViewInit {\n\n  @ViewChild('audioElement') audioElementRef: ElementRef;\n\n  constructor(public applicationStateService: ApplicationStateService,\n              private soundService: SoundService) {\n    document.addEventListener('touchmove',  (event: any) => {\n      if (event.scale !== 1) { event.preventDefault(); }\n    }, { passive: false });\n  }\n\n  ngAfterViewInit() {\n    this.soundService.audioElement = this.audioElementRef.nativeElement;\n  }\n}\n","<audio #audioElement></audio>\r\n<div [@routeAnimations]=\"outlet && outlet.isActivated && outlet.activatedRoute\">\r\n  <router-outlet #outlet=\"outlet\"></router-outlet>\r\n</div>\r\n<div class=\"theme-chooser\">\r\n<!--  <button (click)=\"applicationStateService.toggleColorTheme()\" class=\"button primary icon\"><mat-icon>invert_colors</mat-icon></button>-->\r\n  <button (click)=\"applicationStateService.toggleDetails()\" class=\"button icon\" [class.primary]=\"applicationStateService.settings.details\">\r\n    <mat-icon>track_changes</mat-icon>\r\n  </button>\r\n</div>\r\n","import {AppComponent} from './app.component';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {SharedModule} from './shared/shared.module';\nimport {RouterModule} from '@angular/router';\nimport {routes} from './app-routing';\n\n@NgModule({\n  imports: [\n    BrowserModule, BrowserAnimationsModule, RouterModule.forRoot(routes), SharedModule\n  ],\n  declarations: [AppComponent],\n  exports: [RouterModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Component} from '@angular/core';\nimport {Playground} from '~models/playground.model';\nimport {GameService} from '~services/game.service';\nimport {Router} from '@angular/router';\nimport {DialogService} from '~services/dialog.service';\nimport {slideInAnimation} from '../route-animation';\nimport {ApplicationStateService} from '~services/application-state.service';\nimport {Player} from '~models/player.model';\nimport {AroundClockState} from './models/around-clock.state.model';\nimport {AroundClockSettings} from './models/around-clock.settings.model';\nimport {SoundService} from '~services/sound.service';\nimport {StatisticsService} from '~services/statistics.service';\nimport {BotService, PLAYER_DELAY} from '~services/bot.service';\n\n@Component({\n  templateUrl: './around-clock.component.html',\n  animations: [slideInAnimation],\n})\nexport class AroundClockComponent extends Playground<AroundClockState> {\n\n  settings: AroundClockSettings;\n  hiddenInfo = true;\n\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\n    super('Around The Clock', application, game, route, dialogService, soundService, botService, statisticsService, 'around-clock', 2);\n    this.settings = new AroundClockSettings();\n  }\n\n  calculatePoints(player: Player, fieldIndex: number, score: number, scoreReal: number) {\n    const state = this.getPlayerState(player);\n    const originalMulti = this.multiplier;\n    const targetedField = this.getFieldIndex(state.actFieldIndex) === fieldIndex;\n    const hasChanges = this.handlePromoterSaboteur(player, scoreReal, originalMulti, targetedField);\n    if (hasChanges && score != 0) {\n      player.throwsHistory[player.throwsHistory.length - 1].score = 0;\n    }\n    if (!hasChanges && targetedField) {\n      // last throw\n      if (state.actFieldIndex >= this.settings.fields.length - this.multiplier) {\n        this.multiplier = this.multiplier === 1 ? 1 : this.settings.fields.length - (state.actFieldIndex + 1);\n      }\n      state.increaseActFieldIndex(this.settings.jump ? this.multiplier : 1);\n      if (state.actFieldIndex >= this.settings.fields.length) {\n        state.actFieldIndex = this.settings.fields.length;\n      }\n    }\n    player.score++;\n  }\n\n  checkPlayerState(player: Player) {\n    const state = this.getPlayerState(player);\n    if ((this.settings.fields.length - 1) < state.actFieldIndex) {\n      player.setWin();\n    } else if (this.game.isTheLastThrow()) {\n      if (this.settings.punishment || this.settings.life !== 0) {\n        let multi = 0;\n        for (let i = 0; i < 3; i++) {\n          const t = player.throwsHistory[player.throwsHistory.length - i - 1];\n          multi += t.score;\n        }\n        if (multi === 0) {\n          if (this.settings.punishment) {\n            state.decreaseActFieldIndex();\n          }\n          if (this.settings.life !== 0) {\n            this.soundService.no();\n            player.life--;\n          }\n        }\n      }\n      this.game.nextPlayer();\n    }\n\n    if (this.settings.firstDeath) {\n      const activePlayers = this.game.players.filter(p => !p.isInactive());\n      if (activePlayers.length < this.game.players.length) {\n        this.getTheBestPlayers().forEach(p => p.setWin(true));\n      }\n    }\n\n    if (this.settings.life !== 0 && this.game.players.length > 1) {\n      const activePlayers = this.game.players.filter(p => !p.isInactive());\n      if (activePlayers.length === 1) {\n        activePlayers[0].setWin(true);\n      } else if (!!activePlayers.length) {\n        while (this.game.getActualPlayer().isInactive()) {\n          this.game.nextPlayer();\n        }\n      }\n    }\n  }\n\n  botThrow() {\n    const state = this.getPlayerState(this.game.getActualPlayer());\n    const target = this.getFieldIndex(state.actFieldIndex);\n    const index = this.botService.calculateTarget(target);\n\n    if (target === index && this.botService.isDoublePoint()) {\n      this.doublePoint();\n    } else if (target === index && this.botService.isTriplePoint()) {\n      this.triplePoint();\n    }\n\n    setTimeout(() => {\n      this.throwNumber([this.isFieldEnabled(index) ? Playground.getFieldValueFromIndex(index) : 0,\n        Playground.getFieldValueFromIndex(index)]);\n    }, PLAYER_DELAY);\n  }\n\n  getDistanceFromRandom(): string {\n    if (this.settings.style === 3) {\n      const bullPos = this.settings.fields.findIndex(f => f === 20);\n      const playerPos = this.getPlayerState(this.game.getActualPlayer()).actFieldIndex;\n      const diff = bullPos - playerPos;\n      return diff >= 0 ? diff + '' : '';\n    }\n    return '';\n  }\n\n  toggleHiddenInfo() {\n    this.hiddenInfo = !this.hiddenInfo;\n  }\n\n  isFieldEnabled(fieldIndex: number): boolean {\n    return this.game.players.some(p => this.getFieldIndex(this.getPlayerState(p).actFieldIndex) === fieldIndex);\n  }\n\n  isPrimaryField(fieldIndex: number): boolean {\n    return fieldIndex === this.getFieldIndex(this.getPlayerState(this.game.getActualPlayer()).actFieldIndex);\n  }\n\n  isSecondaryField(fieldIndex: number): boolean {\n    if (!this.isPrimaryField(fieldIndex)) {\n      return this.game.players.filter(p => p !== this.game.getActualPlayer())\n        .some(p => fieldIndex === this.getFieldIndex(this.getPlayerState(p).actFieldIndex));\n    }\n    return false;\n  }\n\n  getFieldNote(fieldIndex: number): string {\n    const owners = this.game.players\n      .filter(p => this.getFieldIndex(this.getPlayerState(p).actFieldIndex) === fieldIndex).map(p => p.name.substr(0, 1));\n    return !!owners.length ? owners.join(',') : '';\n  }\n\n  customReset() {\n    this.game.players.forEach(player => {\n      player.life = this.settings.life;\n      player.state = new AroundClockState();\n    });\n    this.settings.setStyle();\n  }\n\n  decoratePlayerStat(player: Player): string {\n    return player.name;\n  }\n\n  private getTheBestPlayers(): Player[] {\n    const activePlayers = this.game.players.filter(p => !p.isInactive());\n    let max = 0;\n    activePlayers.forEach(p => {\n      const index = this.getPlayerState(p).actFieldIndex;\n      max = index > max ? index : max;\n    });\n    return activePlayers.filter(p => this.getPlayerState(p).actFieldIndex === max);\n  }\n\n  private getFieldIndex(index: number) {\n    return this.settings.fields[index];\n  }\n\n  private handlePromoterSaboteur(player: Player, scoreReal: number, originalMulti: number, targetedField: boolean): boolean {\n    let hasChanges = false;\n    if ((this.settings.saboteur || this.settings.promoter) && scoreReal !== 0) {\n      const realFieldIndex = scoreReal === 25 ? 20 : scoreReal - 1;\n      this.game.players.filter(p => p.id !== player.id).forEach(otherPlayer => {\n        const otherPlayerState = this.getPlayerState(otherPlayer);\n        if (this.getFieldIndex(otherPlayerState.actFieldIndex) === realFieldIndex && (!targetedField || (this.settings.palFirst && otherPlayerState.actFieldIndex != 0))) {\n          if (this.settings.saboteur) {\n            otherPlayerState.decreaseActFieldIndex(this.settings.jump ? originalMulti : 1);\n          } else {\n            otherPlayerState.increaseActFieldIndex(this.settings.jump ? originalMulti : 1);\n            if (otherPlayerState.actFieldIndex >= this.settings.fields.length) {\n              otherPlayerState.actFieldIndex = this.settings.fields.length - 1;\n            }\n          }\n          hasChanges = true;\n        }\n      });\n    }\n    return hasChanges;\n  }\n}\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Games</h2>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.jump\" (click)=\"settings.toggleJump()\">\r\n      Enable Jump\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.punishment\" (click)=\"settings.togglePunishment()\">\r\n      Punishment\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.saboteur\" (click)=\"settings.toggleSaboteur()\">\r\n      Saboteur\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.promoter\" (click)=\"settings.togglePromoter()\">\r\n      Promoter\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.life === 3\" (click)=\"settings.toggleTreeLives()\">\r\n      Tree Lives\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.life === 5\" (click)=\"settings.toggleFiveLives()\">\r\n      Five Lives\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.life === 7\" (click)=\"settings.toggleSevenLives()\">\r\n      Seven Lives\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.life === 10\" (click)=\"settings.toggleTenLives()\">\r\n      Ten Lives\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.firstDeath\" (click)=\"settings.toggleFirstDeath()\">\r\n      First Death\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.palFirst\" (click)=\"settings.togglePalFirst()\">\r\n      Pal First\r\n    </button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.setFavorite()\">\r\n      FAV\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Field's order</h2>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==0\" (click)=\"settings.setStyle(0)\">\r\n      Ascending\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==4\" (click)=\"settings.setStyle(4)\">\r\n      Descending\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==1\" (click)=\"settings.setStyle(1)\">\r\n      Clockwise\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==2\" (click)=\"settings.setStyle(2)\">\r\n      Anticlockwise\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==8\" (click)=\"settings.setStyle(8)\">\r\n      TripleClock\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==9\" (click)=\"settings.setStyle(9)\">\r\n      ZoneClock\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==3\" (click)=\"settings.setStyle(3)\">\r\n      Random\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==6\" (click)=\"settings.setStyle(6)\">\r\n      Random11\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==5\" (click)=\"settings.setStyle(5)\">\r\n      Recurrence\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==7\" (click)=\"settings.setStyle(7)\">\r\n      Pirate\r\n    </button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"hidden-info\" [class.hidden]=\"hiddenInfo\" (click)=\"toggleHiddenInfo()\">{{getDistanceFromRandom()}}</div>\r\n      <div class=\"player\r\n        {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\r\n        {{settings.life !== 0 && player.isInactive() ? 'inactive' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [scoreDisplayed]=\"false\" [lifeDisplayed]=\"settings.life !== 0\" [hasContent]=\"false\">\r\n        </app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {AroundClockComponent} from './around-clock.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: AroundClockComponent}\r\n    ])\r\n  ],\r\n  declarations: [AroundClockComponent]\r\n})\r\nexport class AroundClockModule {\r\n}\r\n","import {FIELDS_COUNT} from '~models/playground.model';\n\nexport class AroundClockSettings {\n  jump: boolean;\n  punishment: boolean;\n  life: number;\n  saboteur: boolean;\n  promoter: boolean;\n  style: number;\n  fields: number[];\n  firstDeath: boolean;\n  palFirst: boolean;\n\n  constructor() {\n    this.style = 0;\n    this.jump = true;\n    this.firstDeath = true;\n    this.punishment = true;\n    this.life = 0;\n    this.promoter = false;\n    this.saboteur = true;\n    this.palFirst = false;\n    this.fields = AroundClockSettings.getBaseFields();\n  }\n\n  setStyle(style?: number) {\n    if (!!style || style === 0) {\n      this.style = style;\n    }\n    switch (this.style) {\n      case 1:\n        this.fields = AroundClockSettings.getClockFields();\n        break;\n      case 2:\n        this.fields = AroundClockSettings.getAnticlockFields();\n        break;\n      case 3:\n        this.fields = AroundClockSettings.getRandom();\n        break;\n      case 4:\n        this.fields = [...AroundClockSettings.getBaseFields().reverse().slice(1), 20];\n        break;\n      case 5:\n        this.fields = AroundClockSettings.getRecurrence();\n        break;\n      case 6:\n        this.fields = AroundClockSettings.getRandom(11);\n        break;\n      case 7:\n        this.fields = AroundClockSettings.getPirate();\n        break;\n      case 8:\n        this.fields = AroundClockSettings.getTripleClockFields();\n        break;\n      case 9:\n        this.fields = AroundClockSettings.getZoneClockFields();\n        break;\n      default:\n        this.fields = AroundClockSettings.getBaseFields();\n    }\n  }\n\n  toggleFirstDeath() {\n    this.firstDeath = !this.firstDeath;\n  }\n\n  togglePalFirst() {\n    this.palFirst = !this.palFirst;\n  }\n\n  toggleJump() {\n    this.jump = !this.jump;\n  }\n\n  togglePunishment() {\n    this.punishment = !this.punishment;\n  }\n\n  toggleTreeLives() {\n    this.life = this.life === 3 ? 0 : 3;\n  }\n\n  toggleFiveLives() {\n    this.life = this.life === 5 ? 0 : 5;\n  }\n\n  toggleSevenLives() {\n    this.life = this.life === 7 ? 0 : 7;\n  }\n\n  toggleTenLives() {\n    this.life = this.life === 10 ? 0 : 10;\n  }\n\n  toggleSaboteur() {\n    this.saboteur = !this.saboteur;\n    if (this.saboteur) {\n      this.promoter = false;\n    }\n  }\n\n  togglePromoter() {\n    this.promoter = !this.promoter;\n    if (this.promoter) {\n      this.saboteur = false;\n    }\n  }\n\n  setFavorite() {\n    this.style = 9;\n    this.jump = true;\n    this.firstDeath = true;\n    this.punishment = true;\n    this.life = 10;\n    this.promoter = false;\n    this.saboteur = true;\n    this.palFirst = true;\n    this.fields = AroundClockSettings.getZoneClockFields();\n  }\n\n  private static getBaseFields(): number[] {\n    return [...Array(FIELDS_COUNT).keys()];\n  }\n\n  private static getClockFields(): number[] {\n    return [0, 17, 3, 12, 5, 9, 14, 1, 16, 2, 18, 6, 15, 7, 10, 13, 8, 11, 4, 19, 20];\n  }\n\n  private static getAnticlockFields(): number[] {\n    return [4, 11, 8, 13, 10, 7, 15, 6, 18, 2, 16, 1, 14, 9, 5, 12, 3, 17, 0, 19, 20];\n  }\n\n  private static getTripleClockFields(): number[] {\n    return [0, 12, 14, 2, 15, 13, 4, 17, 5, 1, 18, 7, 8, 19, 3, 9, 16, 6, 10, 11, 20];\n  }\n\n  private static getZoneClockFields(): number[] {\n    return [0, 12, 17, 9, 3, 1, 5, 2, 14, 15, 16, 7, 18, 10, 6, 20, 13, 19, 8, 4, 11];\n  }\n\n  private static getRandom(size?: number): number[] {\n    let fields = AroundClockSettings.getBaseFields();\n    if (!size) {\n      size = fields.length;\n    }\n    const randomFields = [];\n    for (let i = (size - 1); i >= 0; i--) {\n      const random = Math.floor(Math.random() * fields.length);\n      randomFields.push(fields[random]);\n      fields = [...fields.slice(0, random), ...fields.slice(random + 1)];\n    }\n    return randomFields;\n  }\n\n  private static getPirate(): number[] {\n    let fields = AroundClockSettings.getRandom();\n    for (let i = 0; i < 4; i++) {\n      const random = Math.floor(Math.random() * fields.length);\n      if (fields[random] === 20) {\n        i--;\n      } else {\n        fields[random] = 20;\n      }\n    }\n    return fields;\n  }\n\n  private static getRecurrence(): number[] {\n    let fields = AroundClockSettings.getBaseFields();\n    const randomFields = [];\n    for (let i = (fields.length - 1); i >= 0; i--) {\n      const random = Math.floor(Math.random() * fields.length);\n      randomFields.push(fields[random]);\n    }\n    return randomFields;\n  }\n}\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class AroundClockState extends PlaygroundState {\r\n\r\n  actFieldIndex: number;\r\n\r\n  constructor() {\r\n    super();\r\n    this.actFieldIndex = 0;\r\n  }\r\n\r\n  increaseActFieldIndex(value?: number) {\r\n    this.actFieldIndex += value ? value : 1;\r\n  }\r\n\r\n  decreaseActFieldIndex(value = 1) {\r\n    this.actFieldIndex -= value;\r\n    if (this.actFieldIndex < 0) {\r\n      this.actFieldIndex = 0;\r\n    }\r\n  }\r\n\r\n  clone(): AroundClockState {\r\n    const state = new AroundClockState();\r\n    state.actFieldIndex = this.actFieldIndex;\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\nimport {Playground} from '~models/playground.model';\nimport {GameService} from '~services/game.service';\nimport {Player} from '~models/player.model';\nimport {Router} from '@angular/router';\nimport {DialogService} from '~services/dialog.service';\nimport {slideInAnimation} from '../route-animation';\nimport {ApplicationStateService} from '~services/application-state.service';\nimport {CaptureTheFlagState} from './models/capture-the-flag.state.model';\nimport {CaptureTheFlagSettings} from './models/capture-the-flag.settings.model';\nimport {SoundService} from '~services/sound.service';\nimport {StatisticsService} from '~services/statistics.service';\nimport {BotService} from '~services/bot.service';\n\n@Component({\n  templateUrl: './capture-the-flag.component.html',\n  animations: [slideInAnimation],\n})\nexport class CaptureTheFlagComponent extends Playground<CaptureTheFlagState> {\n\n  settings: CaptureTheFlagSettings;\n\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\n    super('Capture the Flag', application, game, route, dialogService, soundService, botService, statisticsService, 'ctf');\n    this.settings = new CaptureTheFlagSettings();\n  }\n\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\n    const state = this.getPlayerState(player);\n    if (this.isActiveField(fieldIndex)) {\n      state.increaseFieldCount(fieldIndex, this.multiplier);\n      if (state.getFieldCount(fieldIndex) >= 3) {\n        player.score += this.settings.noScore ? 1 : score;\n        this.checkWinner(player);\n        this.game.actualFieldIndex++;\n      }\n    } else if (fieldIndex === 20) {\n      state.increaseFieldCount(this.settings.fields[this.game.actualFieldIndex], 3);\n      player.score += this.settings.noScore ? 1 : this.settings.fields[this.game.actualFieldIndex] + 1;\n      this.checkWinner(player);\n      this.game.actualFieldIndex++;\n    }\n  }\n\n  checkPlayerState(player: Player) {\n    if (this.game.actualFieldIndex === this.settings.fields.length) {\n      this.game.players.forEach(p => p.setWin(this.game.isTheBestPlayer(p)));\n    } else if (this.game.isTheLastThrow()) {\n      this.game.nextPlayer();\n    }\n  }\n\n  getFieldValue(player: Player, fieldIndex: number): string {\n    const fieldCount = this.getPlayerState(player).getFieldCount(fieldIndex);\n    if (fieldCount === 0) {\n      return '○○○';\n    } else {\n      let str = '';\n      for (let i = 0; i < Math.min(fieldCount, 3); i++) {\n        str += '●';\n      }\n      for (let i = fieldCount; i < 3; i++) {\n        str += '○';\n      }\n      return str;\n    }\n  }\n\n  customReset() {\n    this.game.actualFieldIndex = 0;\n    this.game.players.forEach(player => player.state = new CaptureTheFlagState());\n    if (this.settings.style === 0) {\n      this.settings.randomCity();\n    } else if (this.settings.style === 1) {\n      this.settings.randomCountry();\n    } else {\n      this.settings.randomContinent();\n    }\n  }\n\n  customSettingsValidation(): boolean {\n    return this.settings.fields.length > 0;\n  }\n\n  isActiveField(fieldIndex: number): boolean {\n    return this.settings.fields[this.game.actualFieldIndex] === fieldIndex;\n  }\n\n  isFieldEnabled(fieldIndex: number): boolean {\n    return fieldIndex === 20 || this.settings.fields.indexOf(fieldIndex) === this.game.actualFieldIndex;\n  }\n\n  isPrimaryField(fieldIndex: number): boolean {\n    return this.isFieldEnabled(fieldIndex);\n  }\n\n  getFieldNote(fieldIndex: number): string {\n    const player = this.game.players.find(player => this.getPlayerState(player).getFieldCount(fieldIndex) >= 3);\n    return player ? player.name : '';\n  }\n\n  getTheFinalResult(): Player[] {\n    let winners = this.game.players.filter(p => p.win);\n    if (!winners.length) {\n      return [];\n    }\n    let max = winners[0].score;\n    winners.forEach(p => {\n      max = p.score > max ? p.score : max;\n    });\n    winners = winners.filter(p => p.score === max).map(p => p.clone());\n    const losers = this.game.players.filter(p => !winners.some(w => w.id === p.id)).map(p => {\n      const c = p.clone();\n      c.win = false;\n      return c;\n    });\n    return [...winners, ...losers];\n  }\n\n  getGameConfig(): string {\n    return this.settings.fields.length+'';\n  }\n\n  private checkWinner(player: Player) {\n    let total = this.settings.fields.length;\n    const sum = player.score;\n    if (!this.settings.noScore) {\n      total = this.settings.fields.reduce((a, b) => a + b, 0);\n    }\n    if (sum > Math.floor(total / 2)) {\n      player.setWin(true);\n    }\n  }\n}\n","<div id=\"playgroundContent\">\n\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style === 0\"\n            (click)=\"settings.randomCity()\">City (5)\n    </button>\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style === 1\"\n            (click)=\"settings.randomCountry()\">Country (10)\n    </button>\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style === 2\"\n            (click)=\"settings.randomContinent()\">Contin. (20)\n    </button>\n    <button class=\"button shortmedium\" [class.primary]=\"settings.noScore\"\n            (click)=\"settings.toggleNoScore()\">No score\n    </button>\n  </app-settings>\n\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\n           *ngFor=\"let player of game.players; let i = index\">\n        <app-player-score [player]=\"player\">\n          <div class=\"field-set\">\n            <div class=\"field {{isActiveField(field) ? 'highlighted': ''}}\"\n                 *ngFor=\"let field of settings.fields\">\n              {{field === 20 ? 'B' : (field + 1)}}: <span class=\"small\">{{ getFieldValue(player, field) }}</span>\n            </div>\n          </div>\n        </app-player-score>\n      </div>\n    </div>\n  </div>\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\n  </app-number-plate-visual>\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\n</div>\n","import {NgModule} from '@angular/core';\nimport {RouterModule} from '@angular/router';\nimport {SharedModule} from '../shared/shared.module';\nimport {CaptureTheFlagComponent} from './capture-the-flag.component';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    RouterModule.forChild([\n      {path: '', component: CaptureTheFlagComponent}\n    ])\n  ],\n  declarations: [CaptureTheFlagComponent]\n})\nexport class CaptureTheFlagModule {\n}\n","import {FIELDS_COUNT} from '~models/playground.model';\n\nexport class CaptureTheFlagSettings {\n\n  fields: number[];\n  style: number;\n  noScore = false;\n\n  constructor() {\n    this.fields = [];\n    this.noScore = false;\n    this.randomCountry();\n  }\n\n  randomCity() {\n    this.style = 0;\n    this.fields = CaptureTheFlagSettings.getRandom(5);\n    this.fields[this.fields.length] = 20;\n  }\n\n  randomCountry() {\n    this.style = 1;\n    this.fields = CaptureTheFlagSettings.getRandom(10);\n    this.fields[this.fields.length] = 20;\n  }\n\n  randomContinent() {\n    this.style = 2;\n    this.fields = CaptureTheFlagSettings.getRandom(20);\n    this.fields[this.fields.length] = 20;\n  }\n\n  toggleNoScore() {\n    this.noScore = !this.noScore;\n  }\n\n  private static getBaseFields(): number[] {\n    return [...Array(FIELDS_COUNT).keys()];\n  }\n\n  private static getRandom(size?: number): number[] {\n    let fields = CaptureTheFlagSettings.getBaseFields();\n    if (!size) {\n      size = fields.length;\n    }\n    const randomFields = [];\n    for (let i = (size - 1); i >= 0; i--) {\n      const random = Math.floor(Math.random() * fields.length);\n      if (fields[random] === 20) {\n        i++;\n      } else {\n        randomFields.push(fields[random]);\n        fields = [...fields.slice(0, random), ...fields.slice(random + 1)];\n      }\n    }\n    return randomFields.sort((a, b) => Number(a) - Number(b));\n  }\n}\n","import {PlaygroundState} from '~models/playground-state.model';\nimport {FieldValue} from '~models/field-value.model';\n\nexport class CaptureTheFlagState extends PlaygroundState {\n\n  actFieldIndex: number;\n  fieldCount: FieldValue[];\n\n  constructor() {\n    super();\n    this.fieldCount = [];\n    this.actFieldIndex = 0;\n  }\n\n  getFieldCount(field: number): number {\n    return this.getFieldValue(this.fieldCount, field).value;\n  }\n\n  increaseFieldCount(field: number, value: number) {\n    this.getFieldValue(this.fieldCount, field).value += value;\n  }\n\n  getActFieldIndex(): number {\n    return this.actFieldIndex;\n  }\n\n  increaseActFieldIndex() {\n    this.actFieldIndex++;\n  }\n\n  clone(): CaptureTheFlagState {\n    const state = new CaptureTheFlagState();\n    state.actFieldIndex = this.actFieldIndex;\n    this.fieldCount.forEach(fv => state.fieldCount.push(fv.clone()));\n    return state;\n  }\n}\n","import {Component} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {CricketSettings} from './models/cricet.settings.model';\r\nimport {CricketState} from './models/cricet.state.model';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {StatisticsService} from '~services/statistics.service';\r\nimport {BotService} from '~services/bot.service';\r\n\r\n@Component({\r\n  templateUrl: './cricket.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class CricketComponent extends Playground<CricketState> {\r\n\r\n  settings: CricketSettings;\r\n  playerToDisplay: Player;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\r\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\r\n    super('Ultimate Cricket', application, game, route, dialogService, soundService, botService, statisticsService, 'cricket');\r\n    this.settings = new CricketSettings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    if (this.settings.fields.indexOf(fieldIndex) !== -1 && !this.isFieldClosed(fieldIndex)) {\r\n      const playerFieldCount = this.getPlayerState(player).getFieldCount(fieldIndex);\r\n      if (!this.settings.isBlackOutGame() ||\r\n        this.settings.fields[this.getPlayerState(player).getActFieldIndex()] === fieldIndex ||\r\n        this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n\r\n        if (this.isFieldClosedForOthers(player, fieldIndex) && (playerFieldCount + this.multiplier) > 3) {\r\n          this.getPlayerState(player).setFieldCount(fieldIndex, 3);\r\n        } else {\r\n          let multiplier = this.multiplier;\r\n          if (playerFieldCount < 3 && (playerFieldCount + this.multiplier) >= 3) {\r\n            multiplier = (playerFieldCount + this.multiplier) % 3;\r\n          }\r\n          this.getPlayerState(player).setFieldCount(fieldIndex, playerFieldCount + this.multiplier);\r\n          this.multiplier = multiplier;\r\n        }\r\n      }\r\n\r\n      if (this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n        if (this.settings.isBlackOutGame()) {\r\n          if (this.settings.fields[this.getPlayerState(player).getActFieldIndex()] === fieldIndex) {\r\n            this.getPlayerState(player).increaseActFieldIndex();\r\n          }\r\n        }\r\n        this.punishPlayers(fieldIndex);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    this.game.players.forEach(p => p.score = this.getPlayerTotal(p));\r\n    const punishStyle = this.settings.isPunishGame() || this.settings.isBlackOutGame();\r\n    this.game.players.forEach(p => p.setWin(\r\n      this.isPlayerDone(p) &&\r\n      ((!punishStyle && this.game.isTheBestPlayer(p)) || (punishStyle && this.game.isTheWorstPlayer(p)))));\r\n    if (this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  getFieldValue(player: Player, fieldIndex: number): string {\r\n    const score = this.getPunishScore(player, fieldIndex);\r\n    const punishStyle = this.settings.isPunishGame() || this.settings.isBlackOutGame();\r\n    const playerFieldCount = this.getPlayerState(player).getFieldCount(fieldIndex);\r\n\r\n    let str = '';\r\n    if (punishStyle && score !== 0) {\r\n      str += score;\r\n    }\r\n\r\n    if (playerFieldCount === 0 && str.length === 0) {\r\n      return '○';\r\n    } else if (playerFieldCount > 3 && !punishStyle && !this.settings.isNoScoreGame()) {\r\n      return this.getFieldScore(player, fieldIndex) + '';\r\n    } else if (playerFieldCount === 3 || ((punishStyle || this.settings.isNoScoreGame()) && playerFieldCount > 3)) {\r\n      str += '●●●';\r\n    } else {\r\n      for (let i = 0; i < playerFieldCount; i++) {\r\n        str += '●';\r\n      }\r\n    }\r\n    return str;\r\n  }\r\n\r\n  isActiveField(player: Player, fieldIndex: number): boolean {\r\n    return this.settings.fields[this.getPlayerState(player).getActFieldIndex()] === fieldIndex;\r\n  }\r\n\r\n  isFieldDoneForPlayer(player: Player, fieldIndex: number): boolean {\r\n    return this.getPlayerState(player).getFieldCount(fieldIndex) >= 3;\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number): boolean {\r\n    if (this.settings.isNoScoreGame()) {\r\n      return this.settings.fields.indexOf(fieldIndex) !== -1 && !this.isFieldDoneForPlayer(this.getPlayerToDisplay(), fieldIndex);\r\n    }\r\n    return this.settings.fields.indexOf(fieldIndex) !== -1 && !this.isFieldClosed(fieldIndex);\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return this.isFieldEnabled(fieldIndex) &&\r\n      !this.isFieldDoneForPlayer(this.getPlayerToDisplay(), fieldIndex);\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    return this.isFieldEnabled(fieldIndex) &&\r\n      this.isFieldDoneForPlayer(this.getPlayerToDisplay(), fieldIndex);\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    if (this.isPrimaryField(fieldIndex)) {\r\n      const playerFieldCount = this.getPlayerState(this.getPlayerToDisplay()).getFieldCount(fieldIndex);\r\n      const remaining = ''.padStart(3 - playerFieldCount, '●');\r\n      return remaining + '\\n' + this.game.players.filter(p => this.isFieldDoneForPlayer(p, fieldIndex))\r\n        .map(p => p.name.substr(0, 1)).join(',').toUpperCase();\r\n    } else if (this.isSecondaryField(fieldIndex)) {\r\n      return this.game.players.filter(p => !this.isFieldDoneForPlayer(p, fieldIndex))\r\n        .map(p => p.name.substr(0, 1)).join(',').toUpperCase();\r\n    }\r\n    return '';\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.state = new CricketState());\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return this.settings.fields.length > 0;\r\n  }\r\n\r\n  changePlayerToDisplay(player?: Player) {\r\n    this.playerToDisplay = player;\r\n    setTimeout(() => this.playerToDisplay = null, 1500);\r\n  }\r\n\r\n  decoratePlayerStat(player: Player): string {\r\n    return player.name;\r\n  }\r\n\r\n  getGameConfig(): string {\r\n    return this.settings.fields.length+','+this.settings.style;\r\n  }\r\n\r\n  private getPlayerToDisplay(): Player {\r\n    return !!this.playerToDisplay ? this.playerToDisplay : this.game.getActualPlayer();\r\n  }\r\n\r\n  private getPlayerTotal(player: Player) {\r\n    let total = 0;\r\n    if (this.settings.isPunishGame() || this.settings.isBlackOutGame()) {\r\n      total = this.getPlayerTotalForPunishGame(player);\r\n    } else if (this.settings.isScoreGame()) {\r\n      total = this.getPlayerTotalForScoreGame(player);\r\n    }\r\n    return total;\r\n  }\r\n\r\n  private getPlayerTotalForScoreGame(player: Player) {\r\n    let total = 0;\r\n    this.settings.fields.forEach(fieldIndex => {\r\n      if (this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n        total += (this.getPlayerState(player).getFieldCount(fieldIndex) - 3) * Playground.getFieldValueFromIndex(fieldIndex);\r\n      }\r\n    }, this);\r\n    return total;\r\n  }\r\n\r\n  private getPlayerTotalForPunishGame(player: Player) {\r\n    let total = 0;\r\n    this.settings.fields.forEach(fieldIndex => {\r\n      total += this.getPlayerState(player).getPunishCount(fieldIndex) * Playground.getFieldValueFromIndex(fieldIndex);\r\n    }, this);\r\n    return total;\r\n  }\r\n\r\n  private punishPlayers(fieldIndex: number) {\r\n    this.game.players.forEach(player => {\r\n      if (!this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n        this.getPlayerState(player).setPunishCount(fieldIndex, this.getPlayerState(player).getPunishCount(fieldIndex) + this.multiplier);\r\n      }\r\n    }, this);\r\n  }\r\n\r\n  private getFieldScore(player: Player, fieldIndex: number): number {\r\n    if (this.isFieldDoneForPlayer(player, fieldIndex)) {\r\n      return (this.getPlayerState(player).getFieldCount(fieldIndex) - 3) * Playground.getFieldValueFromIndex(fieldIndex);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  private getPunishScore(player: Player, fieldIndex: number): number {\r\n    return this.getPlayerState(player).getPunishCount(fieldIndex) * Playground.getFieldValueFromIndex(fieldIndex);\r\n  }\r\n\r\n  private isFieldClosed(fieldIndex: number): boolean {\r\n    let closed = true;\r\n    this.game.players.forEach(player => {\r\n      closed = closed && this.isFieldDoneForPlayer(player, fieldIndex);\r\n    }, this);\r\n    return closed;\r\n  }\r\n\r\n  private isFieldClosedForOthers(player: Player, fieldIndex: number): boolean {\r\n    let closed = true;\r\n    this.game.players.forEach(p => {\r\n      if (p.id !== player.id) {\r\n        closed = closed && this.isFieldDoneForPlayer(p, fieldIndex);\r\n      }\r\n    }, this);\r\n    return closed;\r\n  }\r\n\r\n  private isPlayerDone(player: Player): boolean {\r\n    let done = true;\r\n    this.settings.fields.forEach(fieldIndex => {\r\n      done = done && this.isFieldDoneForPlayer(player, fieldIndex);\r\n    });\r\n    return done;\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Fields</h2>\r\n    <button class=\"button\" [class.primary]=\"settings.isFieldAllowed(i)\"\r\n            *ngFor=\"let numb of settings.getNumbers(); let i = index\" (click)=\"settings.setNumber(i)\">\r\n      {{numb === 21 ? 'B' : numb}}\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n    <button class=\"button shortmedium\" (click)=\"settings.upper()\">Upper</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.lower()\">Lower</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.left()\">Left</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.right()\">Right</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.odd()\">Odd</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.even()\">Even</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.prime()\">Prime</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.notPrime()\">Not prime</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize(5)\">Random 05</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize(10)\">Random 10</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize(15)\">Random 15</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.small()\">Small</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.high()\">High</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.star()\">Star</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.cross()\">Cross</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.all()\">All</button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Style</h2>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==1\"\r\n            (click)=\"settings.setStyle(1)\">Classic\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==2\"\r\n            (click)=\"settings.setStyle(2)\">Cut-Throat\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==3\"\r\n            (click)=\"settings.setStyle(3)\">No Score\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==4\"\r\n            (click)=\"settings.setStyle(4)\">Black Out\r\n    </button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           (click)=\"changePlayerToDisplay(player)\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\">\r\n          <div class=\"field-set\">\r\n            <div\r\n                class=\"field {{isActiveField(player, field) && settings.isBlackOutGame()  ? 'active': ''}} {{!isFieldDoneForPlayer(player, field) ? 'highlighted' : ''}}\"\r\n                *ngFor=\"let field of settings.fields\">\r\n              {{field === 20 ? 'B' : (field + 1)}}: <span class=\"small\">{{ getFieldValue(player, field) }}</span>\r\n            </div>\r\n          </div>\r\n        </app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {CricketComponent} from './cricket.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: CricketComponent}\r\n    ])\r\n  ],\r\n  declarations: [CricketComponent]\r\n})\r\nexport class CricketModule {\r\n}\r\n","export class CricketSettings {\r\n\r\n  fields: number[] = [14, 15, 16, 17, 18, 19, 20];\r\n  numbs: boolean[] = [];\r\n  style: number;\r\n\r\n  constructor() {\r\n    this.style = 2;\r\n    let defaultSet = false;\r\n    for (let i = 0; i < 21; i++) {\r\n      this.numbs[i] = defaultSet;\r\n      if (i === 13) {\r\n        defaultSet = true;\r\n      }\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  randomize(maxField: number) {\r\n    for (let i = 0; i < this.numbs.length; i++) {\r\n      this.numbs[i] = false;\r\n    }\r\n    while(this.numbs.filter(n => !!n).length !== maxField) {\r\n      this.numbs[Math.floor(Math.random() * 21)] = true;\r\n    }\r\n    this.numbs[this.numbs.length - 1] = true;\r\n    this.initFields();\r\n  }\r\n\r\n  all() {\r\n    this.setAllowedField([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21]);\r\n  }\r\n\r\n  small() {\r\n    this.setAllowedField([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 21]);\r\n  }\r\n\r\n  high() {\r\n    this.setAllowedField([11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21]);\r\n  }\r\n\r\n  star() {\r\n    this.setAllowedField([20, 9, 14, 13, 4, 16, 7, 2, 15, 21]);\r\n  }\r\n\r\n  cross() {\r\n    this.setAllowedField([20, 3, 11, 6, 21]);\r\n  }\r\n\r\n  upper() {\r\n    this.setAllowedField([14, 9, 12, 5, 20, 1, 18, 4, 13, 21]);\r\n  }\r\n\r\n  lower() {\r\n    this.setAllowedField([10, 15, 2, 17, 3, 19, 7, 16, 8, 21]);\r\n  }\r\n\r\n  left() {\r\n    this.setAllowedField([12, 9, 14, 11, 8, 16, 7, 5, 19, 21]);\r\n  }\r\n\r\n  right() {\r\n    this.setAllowedField([1, 18, 4, 13, 6, 10, 15, 2, 17, 21]);\r\n  }\r\n\r\n  odd() {\r\n    this.setAllowedField([1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21]);\r\n  }\r\n\r\n  even() {\r\n    this.setAllowedField([2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 21]);\r\n  }\r\n\r\n  prime() {\r\n    this.setAllowedField([2, 3, 5, 7, 11, 13, 17, 19, 21]);\r\n  }\r\n\r\n  notPrime() {\r\n    this.setAllowedField([1, 4, 6, 8, 9, 10, 12, 14, 15, 16, 18, 20, 21]);\r\n  }\r\n\r\n  getNumbers(): number[] {\r\n    const numbers: number[] = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      numbers[i] = (i + 1);\r\n    }\r\n    return numbers;\r\n  }\r\n\r\n  isFieldAllowed(field: number): boolean {\r\n    return !!this.numbs[field];\r\n  }\r\n\r\n  setNumber(i: number) {\r\n    this.numbs[i] = !this.numbs[i];\r\n    this.initFields();\r\n  }\r\n\r\n  setStyle(style: number) {\r\n    this.style = style;\r\n  }\r\n\r\n  initFields() {\r\n    this.fields = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      if (this.numbs[i]) {\r\n        this.fields.push(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  isScoreGame(): boolean {\r\n    return this.style === 1;\r\n  }\r\n\r\n  isPunishGame(): boolean {\r\n    return this.style === 2;\r\n  }\r\n\r\n  isNoScoreGame(): boolean {\r\n    return this.style === 3;\r\n  }\r\n\r\n  isBlackOutGame(): boolean {\r\n    return this.style === 4;\r\n  }\r\n\r\n  setAllowedField(fields: number[]) {\r\n    for (let i = 0; i < this.numbs.length; i++) {\r\n      this.numbs[i] = false;\r\n    }\r\n    fields.forEach(f => this.numbs[f - 1] = true);\r\n    this.initFields();\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\nimport {FieldValue} from '~models/field-value.model';\r\n\r\nexport class CricketState extends PlaygroundState {\r\n\r\n  fieldCount: FieldValue[];\r\n  punishCount: FieldValue[];\r\n  actFieldIndex: number;\r\n\r\n  constructor() {\r\n    super();\r\n    this.fieldCount = [];\r\n    this.punishCount = [];\r\n    this.actFieldIndex = 0;\r\n  }\r\n\r\n  getFieldCount(fieldIndex: number): number {\r\n    return this.getFieldValue(this.fieldCount, fieldIndex).value;\r\n  }\r\n\r\n  setFieldCount(fieldIndex: number, value: number) {\r\n    this.getFieldValue(this.fieldCount, fieldIndex).value = value;\r\n  }\r\n\r\n  getPunishCount(fieldIndex: number): number {\r\n    return this.getFieldValue(this.punishCount, fieldIndex).value;\r\n  }\r\n\r\n  setPunishCount(fieldIndex: number, value: number) {\r\n    this.getFieldValue(this.punishCount, fieldIndex).value = value;\r\n  }\r\n\r\n  getActFieldIndex(): number {\r\n    return this.actFieldIndex;\r\n  }\r\n\r\n  increaseActFieldIndex() {\r\n    this.actFieldIndex++;\r\n  }\r\n\r\n  clone(): CricketState {\r\n    const state = new CricketState();\r\n    state.actFieldIndex = this.actFieldIndex;\r\n    this.fieldCount.forEach(fv => state.fieldCount.push(fv.clone()));\r\n    this.punishCount.forEach(fv => state.punishCount.push(fv.clone()));\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {DuelSettings} from './models/duel.settings.model';\r\nimport {DuelState} from './models/duel.state.model';\r\nimport {StatisticsService} from '~services/statistics.service';\r\nimport {BotService} from '~services/bot.service';\r\n\r\n@Component({\r\n  templateUrl: './duel.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class DuelComponent extends Playground<DuelState> {\r\n\r\n  settings: DuelSettings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\r\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\r\n    super('Duel', application, game, route, dialogService, soundService, botService, statisticsService, 'duel', 2);\r\n    this.settings = new DuelSettings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const state = this.getPlayerState(player);\r\n    const actualScore = score * this.multiplier;\r\n    if (score === 0) {\r\n      player.score -= this.settings.punishment;\r\n    } else if (state.ownFields.some(i => i === fieldIndex)) {\r\n      player.score += actualScore;\r\n    } else if (this.isNotOwnField(fieldIndex)) {\r\n      player.score -= actualScore;\r\n      if (this.settings.handover) {\r\n        const player = this.game.players.find(p => p != this.game.getActualPlayer() && this.getPlayerState(p).ownFields.some(i => i === fieldIndex));\r\n        if (player) {\r\n          player.score += actualScore;\r\n        }\r\n      }\r\n    } else {\r\n      state.ownFields.push(fieldIndex);\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    this.game.players.forEach(p => p.setWin(p.score >= this.settings.targetPoint));\r\n    const activePlayers = this.game.players.filter(p => !this.isInactive(p));\r\n    if (activePlayers.length === 1) {\r\n      activePlayers[0].setWin(true);\r\n    }\r\n    if (!activePlayers) {\r\n      player.setWin(true);\r\n    } else {\r\n      if (this.game.isTheLastThrow()) {\r\n        this.game.nextPlayer();\r\n      }\r\n      while (this.isInactive(this.game.getActualPlayer())) {\r\n        this.game.nextPlayer();\r\n      }\r\n    }\r\n  }\r\n\r\n  isInactive(player: Player): boolean {\r\n    return player.score <= 0;\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return this.getPlayerState(this.game.getActualPlayer()).ownFields.some(i => i === fieldIndex);\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    return this.settings.isFieldAllowed(fieldIndex) &&\r\n      !this.game.players.some(p => this.getPlayerState(p).ownFields.some(i => i === fieldIndex));\r\n  }\r\n\r\n  isAlertField(fieldIndex: number): boolean {\r\n    return this.game.players.some(p => p != this.game.getActualPlayer() && this.getPlayerState(p).ownFields.some(i => i === fieldIndex));\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    const player = this.game.players.find(p => this.getPlayerState(p).ownFields.some(i => i === fieldIndex))\r\n    if (player) {\r\n      return player.name.substr(0, 1).toUpperCase();\r\n    }\r\n    return '';\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => {\r\n      player.state = new DuelState();\r\n      player.score = this.settings.startPoint;\r\n    });\r\n  }\r\n\r\n  getGameConfig(): string {\r\n    return this.settings.fields.length+','+this.settings.targetPoint+','+this.settings.startPoint;\r\n  }\r\n\r\n  private isNotOwnField(fieldIndex: number): boolean {\r\n    return !this.settings.isFieldAllowed(fieldIndex) ||\r\n      this.game.players.some(p => p != this.game.getActualPlayer() && this.getPlayerState(p).ownFields.some(i => i === fieldIndex));\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Games</h2>\r\n    <div class=\"field-set\">\r\n      <mat-form-field appearance=\"outline\" class=\"big\">\r\n        <mat-label>Life limit</mat-label>\r\n        <input [(ngModel)]=\"settings.startPoint\" type=\"number\" matInput>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field appearance=\"outline\" class=\"big\">\r\n        <mat-label>Boarding</mat-label>\r\n        <input [(ngModel)]=\"settings.targetPoint\" type=\"number\" matInput>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field appearance=\"outline\" class=\"big\">\r\n        <mat-label>Punishment</mat-label>\r\n        <input [(ngModel)]=\"settings.punishment\" type=\"number\" matInput>\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <br/>\r\n\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.handover ? 'primary' : ''\"\r\n            (click)=\"settings.toggleHandOver()\">Hand Over</button>\r\n\r\n    <br/>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Fields</h2>\r\n    <button class=\"button\" [class.primary]=\"settings.isFieldAllowed(i)\"\r\n            *ngFor=\"let numb of settings.getNumbers(); let i = index\" (click)=\"settings.setNumber(i)\">\r\n      {{numb === 21 ? 'B' : numb}}\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n    <button class=\"button shortmedium\" (click)=\"settings.upper()\">Upper</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.lower()\">Lower</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.left()\">Left</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.right()\">Right</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.odd()\">Odd</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.even()\">Even</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.prime()\">Prime</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.notPrime()\">Not prime</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize(5)\">Random 05</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize(10)\">Random 10</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize(15)\">Random 15</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.small()\">Small</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.high()\">High</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.star()\">Star</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.cross()\">Cross</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.all()\">All</button>\r\n\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}} {{isInactive(player) ? 'inactive' : ''}}\"\r\n          *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [hasContent]=\"false\"></app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {DuelComponent} from './duel.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: DuelComponent}\r\n    ])\r\n  ],\r\n  declarations: [DuelComponent]\r\n})\r\nexport class DuelModule {\r\n}\r\n","import {CricketSettings} from '../../cricket/models/cricet.settings.model';\r\n\r\nexport class DuelSettings extends CricketSettings {\r\n  startPoint: number;\r\n  targetPoint: number;\r\n  punishment: number;\r\n  handover: boolean;\r\n\r\n  constructor() {\r\n    super();\r\n    this.star();\r\n    this.startPoint = 30;\r\n    this.targetPoint = 200;\r\n    this.punishment = 10;\r\n    this.handover = true;\r\n  }\r\n\r\n  star() {\r\n    this.setAllowedField([20, 1, 4, 13, 6, 15, 2, 3, 19, 16, 8, 14, 9]);\r\n  }\r\n\r\n  cross() {\r\n    this.setAllowedField([5, 20, 18, 4, 6, 10, 2, 17, 7, 16, 11, 14]);\r\n  }\r\n\r\n  toggleHandOver() {\r\n    this.handover = !this.handover;\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class DuelState extends PlaygroundState {\r\n\r\n  ownFields = [];\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  clone(): DuelState {\r\n    const state = new DuelState();\r\n    state.ownFields = [...this.ownFields];\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {FivesSettings} from './models/fives.settings.model';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {StatisticsService} from '~services/statistics.service';\r\nimport {BotService} from '~services/bot.service';\r\n\r\n@Component({\r\n  templateUrl: './fives.component.html',\r\n  animations: [slideInAnimation]\r\n})\r\nexport class FivesComponent extends Playground<PlaygroundState> {\r\n\r\n  settings: FivesSettings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\r\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\r\n    super('Fives', application, game, route, dialogService, soundService, botService, statisticsService, 'fives');\r\n    this.settings = new FivesSettings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    if (this.game.isTheLastThrow()) {\r\n      let sum = 0;\r\n      for (let i = 0; i < 3; i++) {\r\n        const t = player.throwsHistory[player.throwsHistory.length - i - 1];\r\n        sum += t.score * t.multi;\r\n      }\r\n      if (sum % this.settings.divider === 0) {\r\n        if (this.settings.noCheat && player.throwsHistory[player.throwsHistory.length - 1].score === 0 && sum !== 0) {\r\n          sum = 0;\r\n        }\r\n        player.score -= (sum / this.settings.divider);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    this.game.players.forEach(p => p.setWin(p.score <= 0));\r\n    if (this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    if (this.game.actualThrow === 2) {\r\n      const mod = this.settings.divider - (this.game.getActualPlayer().getThrowsTotal() % this.settings.divider);\r\n      let max = mod + this.settings.divider;\r\n      const all = [mod];\r\n      while (max <= 20) {\r\n        all.push(max);\r\n        max += this.settings.divider;\r\n      }\r\n      return all.some(f => f === fieldIndex + 1);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.score = this.settings.limit);\r\n  }\r\n\r\n  getGameConfig(): string {\r\n    return this.settings.divider + ',' + this.settings.limit;\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Games</h2>\r\n    <button class=\"button\" [class.primary]=\"settings.noCheat\" (click)=\"settings.toggleNoCheat()\">\r\n      No Cheat\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Divider</h2>\r\n    <button class=\"button\" [class.primary]=\"settings.divider === divider\"\r\n            *ngFor=\"let divider of settings.getSelectableDividers()\"\r\n            (click)=\"settings.setDivider(divider)\">{{divider}}</button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Limit</h2>\r\n    <button class=\"button\" [class.primary]=\"settings.limit === limit\"\r\n            *ngFor=\"let limit of settings.getSelectableLimits()\"\r\n            (click)=\"settings.setLimit(limit)\">{{limit}}</button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [hasContent]=\"false\"></app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {FivesComponent} from './fives.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: FivesComponent}\r\n    ])\r\n  ],\r\n  declarations: [FivesComponent]\r\n})\r\nexport class FivesModule {\r\n}\r\n","export class FivesSettings {\r\n  divider: number;\r\n  limit: number;\r\n  noCheat: boolean;\r\n\r\n  constructor() {\r\n    this.divider = 5;\r\n    this.limit = 20;\r\n    this.noCheat = true;\r\n  }\r\n\r\n  getSelectableDividers(): number[] {\r\n    return [3, 4, 5, 6, 7, 8, 10];\r\n  }\r\n\r\n  getSelectableLimits(): number[] {\r\n    return [10, 20, 30, 50, 100];\r\n  }\r\n\r\n  setDivider(value: number) {\r\n    this.divider = value;\r\n  }\r\n\r\n  setLimit(value: number) {\r\n    this.limit = value;\r\n  }\r\n\r\n  toggleNoCheat() {\r\n    this.noCheat = !this.noCheat;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {FIELDS_COUNT, Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {HareAndHoundSettings} from './models/hare-and-hound.settings.model';\r\nimport {HareAndHoundState} from './models/hare-and-hound.state.model';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {STAT_NAME_SEPARATOR, StatisticsService} from '~services/statistics.service';\r\nimport {BotService} from '~services/bot.service';\r\n\r\n@Component({\r\n  templateUrl: './hare-and-hound.component.html',\r\n  animations: [slideInAnimation]\r\n})\r\nexport class HareAndHoundComponent extends Playground<HareAndHoundState> {\r\n\r\n  settings: HareAndHoundSettings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\r\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\r\n    super('Hare and Hound', application, game, route, dialogService, soundService, botService, statisticsService, 'hare-hound', 2, 2);\r\n    this.settings = new HareAndHoundSettings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const state = this.getPlayerState(player);\r\n    if (this.isFieldEnabled(fieldIndex, state.actFieldIndex)) {\r\n      state.increaseActFieldIndex(this.multiplier);\r\n      if (state.actFieldIndex >= (FIELDS_COUNT - 1)) {\r\n        state.actFieldIndex = state.actFieldIndex - (FIELDS_COUNT - 1);\r\n      }\r\n      player.score -= this.multiplier;\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    player.setWin((this.isHare() && player.score <= 0) ||\r\n      (!this.isHare() &&\r\n        (player.score + this.settings.getHareStartIndex()) <= this.game.players.find(p => this.isHare(p)).score));\r\n\r\n    if (!player.win && this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number, actFieldIndex?: number): boolean {\r\n    if (!actFieldIndex) {\r\n      actFieldIndex = this.getPlayerState(this.game.getActualPlayer()).actFieldIndex;\r\n    }\r\n    return fieldIndex === this.getFieldIndex(actFieldIndex);\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return this.isFieldEnabled(fieldIndex);\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    if (!this.isFieldEnabled(fieldIndex)) {\r\n      return this.game.players.some(p => fieldIndex === this.getFieldIndex(this.getPlayerState(p).actFieldIndex));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    const owners = this.game.players\r\n      .filter(p => this.getFieldIndex(this.getPlayerState(p).actFieldIndex) === fieldIndex)\r\n      .map(p => p.name.substr(0, 1));\r\n    return !!owners.length ? owners.join(',') : '';\r\n  }\r\n\r\n  getFieldIcon(fieldIndex: number): string {\r\n    if (!this.isPrimaryField(fieldIndex) && !this.isSecondaryField(fieldIndex)) {\r\n      return '';\r\n    }\r\n    return (this.isHare() && this.isPrimaryField(fieldIndex) || (this.isSecondaryField(fieldIndex) && !this.isHare())) ? 'favorite' : 'directions_run';\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach((player, index) => {\r\n      player.score = FIELDS_COUNT - 1;\r\n      if (index === 0) {\r\n        player.state = new HareAndHoundState(this.settings.getHareStartIndex());\r\n      } else {\r\n        player.state = new HareAndHoundState(0);\r\n      }\r\n    });\r\n  }\r\n\r\n  decoratePlayerStat(player: Player): string {\r\n    return player.name + STAT_NAME_SEPARATOR + `${this.isHare(player) ? '0' : '1'}`;\r\n  }\r\n\r\n  getGameConfig(): string {\r\n    return (20 - HareAndHoundSettings.getBaseFields().indexOf(this.settings.houndStartIndex)) + '';\r\n  }\r\n\r\n  private getFieldIndex(index: number) {\r\n    return this.settings.getFields()[index];\r\n  }\r\n\r\n  private isHare(player?: Player) {\r\n    if (!player) {\r\n      player = this.game.getActualPlayer();\r\n    }\r\n    return this.game.players.map(p => p.id).indexOf(player.id) === 0;\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Hound start position</h2>\r\n    <button class=\"button\" [class.primary]=\"(settings.houndStartIndex+1) === start\"\r\n            *ngFor=\"let start of settings.getSelectableHoundStart()\"\r\n            (click)=\"settings.setHoundStart(start - 1)\">{{start}}</button>\r\n\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [hasContent]=\"false\"></app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {SharedModule} from '../shared/shared.module';\r\nimport {HareAndHoundComponent} from './hare-and-hound.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: HareAndHoundComponent}\r\n    ])\r\n  ],\r\n  declarations: [HareAndHoundComponent]\r\n})\r\nexport class HareAndHoundModule {\r\n}\r\n","export class HareAndHoundSettings {\r\n  houndStartIndex: number;\r\n  hareStartIndex: number;\r\n\r\n  constructor() {\r\n    this.houndStartIndex = 13;\r\n    this.hareStartIndex = 19;\r\n  }\r\n\r\n  getSelectableHoundStart(): number[] {\r\n    return [7, 16, 8, 11, 14, 9, 12, 5];\r\n  }\r\n\r\n  setHoundStart(value: number) {\r\n    this.houndStartIndex = value;\r\n  }\r\n\r\n  getFields(): number[] {\r\n    const index = HareAndHoundSettings.getBaseFields().indexOf(this.houndStartIndex);\r\n    return [...HareAndHoundSettings.getBaseFields().slice(index), ...HareAndHoundSettings.getBaseFields().slice(0, index)];\r\n  }\r\n\r\n  getHareStartIndex(): number {\r\n    return this.getFields().indexOf(this.hareStartIndex);\r\n  }\r\n\r\n  static getBaseFields(): number[] {\r\n    return [19, 0, 17, 3, 12, 5, 9, 14, 1, 16, 2, 18, 6, 15, 7, 10, 13, 8, 11, 4];\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class HareAndHoundState extends PlaygroundState {\r\n\r\n  constructor(public actFieldIndex: number) {\r\n    super();\r\n  }\r\n\r\n  increaseActFieldIndex(value?: number) {\r\n    this.actFieldIndex += value ? value : 1;\r\n  }\r\n\r\n  decreaseActFieldIndex() {\r\n    this.actFieldIndex--;\r\n    if (this.actFieldIndex < 0) {\r\n      this.actFieldIndex = 0;\r\n    }\r\n  }\r\n\r\n  clone(): HareAndHoundState {\r\n    return new HareAndHoundState(this.actFieldIndex);\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {ImitatorSettings} from './models/imitator.settings.model';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {ImitatorState} from './models/imitator.state.model';\r\nimport {StatisticsService} from '~services/statistics.service';\r\nimport {BotService} from '~services/bot.service';\r\n\r\n@Component({\r\n  templateUrl: './imitator.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class ImitatorComponent extends Playground<ImitatorState> {\r\n\r\n  settings: ImitatorSettings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\r\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\r\n    super('Imitator', application, game, route, dialogService, soundService, botService, statisticsService, 'imitator');\r\n    this.nextEnabled = false;\r\n    this.settings = new ImitatorSettings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const state = this.getPlayerState(player);\r\n    if (this.game.actualThrow === 1) {\r\n      state.punished = fieldIndex !== state.actFieldIndex;\r\n    } else if (this.game.actualThrow === 2) {\r\n      const newScore = state.punished && score === 0 ? 25 : score;\r\n      player.score += (state.punished ? newScore * -1 : newScore) * this.multiplier;\r\n    } else {\r\n      this.game.nextPlayer();\r\n      const newFieldIndex = score === 0 ? Math.floor(Math.random() * 20) : fieldIndex;\r\n      this.getPlayerState(this.game.getActualPlayer()).actFieldIndex = newFieldIndex;\r\n    }\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return this.game.actualThrow === 0 && this.getPlayerState(this.game.getActualPlayer()).actFieldIndex === fieldIndex;\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    if (this.game.isTheLastPlayer(player) && (this.game.round + 1) === this.settings.round && this.game.actualThrow === 2) {\r\n      this.game.players.forEach(p => p.setWin(this.game.isTheBestPlayer(p)));\r\n    }\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.state = new ImitatorState());\r\n  }\r\n\r\n  getGameConfig(): string {\r\n    return this.settings.round + '';\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Number of Round</h2>\r\n    <button class=\"button\" [class.primary]=\"settings.round===3\" (click)=\"settings.setRound(3)\">\r\n      3\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.round===5\" (click)=\"settings.setRound(5)\">\r\n      5\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.round===10\" (click)=\"settings.setRound(10)\">\r\n      10\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.round===15\" (click)=\"settings.setRound(15)\">\r\n      15\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.round===20\" (click)=\"settings.setRound(20)\">\r\n      20\r\n    </button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" [reversRound]=\"settings.round\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [hasContent]=\"false\"></app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {SharedModule} from '../shared/shared.module';\r\nimport {RouterModule} from '@angular/router';\r\nimport {ImitatorComponent} from './imitator.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: ImitatorComponent}\r\n    ])\r\n  ],\r\n  declarations: [ImitatorComponent]\r\n})\r\nexport class ImitatorModule {\r\n}\r\n","export class ImitatorSettings {\n\n  round = 5;\n\n  setRound(r: number) {\n    this.round = r;\n  }\n}\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class ImitatorState extends PlaygroundState {\r\n\r\n  actFieldIndex: number;\r\n  punished: boolean;\r\n\r\n  constructor() {\r\n    super();\r\n    this.actFieldIndex = Math.floor(Math.random() * 20);\r\n    this.punished = false;\r\n  }\r\n\r\n  clone(): ImitatorState {\r\n    const state = new ImitatorState();\r\n    state.actFieldIndex = this.actFieldIndex;\r\n    state.punished = this.punished;\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {KillerState} from './models/killer.state.model';\r\nimport {KillerSettings} from './models/killer.settings.model';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {StatisticsService} from '~services/statistics.service';\r\nimport {BotService} from '~services/bot.service';\r\n\r\nconst DANGER_ZONE_ICON = 'sentiment_very_dissatisfied';\r\n\r\n@Component({\r\n  templateUrl: './killer.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class KillerComponent extends Playground<KillerState> {\r\n\r\n  settings: KillerSettings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\r\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\r\n    super('Killer', application, game, route, dialogService, soundService, botService, statisticsService, 'killer', 2);\r\n    this.settings = new KillerSettings();\r\n    this.nextEnabled = false;\r\n    this.zeroEnabled = false;\r\n    this.multiEnabled = false;\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const state = this.getPlayerState(player);\r\n    if (this.game.round === 0) {\r\n      state.actField = fieldIndex;\r\n      player.score = score;\r\n      if (this.game.isActualPlayerTheLast()) {\r\n        this.nextEnabled = true;\r\n        this.zeroEnabled = true;\r\n        this.multiEnabled = true;\r\n      }\r\n    } else {\r\n      if (state.killer) {\r\n        if (this.settings.suicide && fieldIndex === state.actField && this.multiplier > 1) {\r\n          player.life = 0;\r\n          this.extraEndingMsg = 'SUICIDE!!!';\r\n        } else if (fieldIndex === state.actField) {\r\n          player.life = Number(player.life) + Number(this.multiplier);\r\n          if (player.life > this.settings.numberOfLives) {\r\n            player.life = this.settings.numberOfLives;\r\n          }\r\n        } else {\r\n          this.game.players.filter(p => p.id !== player.id && !p.isInactive()).forEach(p => {\r\n            const s = this.getPlayerState(p);\r\n            if (fieldIndex === s.actField) {\r\n              p.life -= this.multiplier;\r\n              this.soundService.no();\r\n              if (p.life < 0) {\r\n                p.life = 0;\r\n              }\r\n            }\r\n          });\r\n        }\r\n      } else if (fieldIndex === state.actField) {\r\n        state.boarding -= this.multiplier;\r\n        if (state.boarding <= 0) {\r\n          state.boarding = 0;\r\n        }\r\n        state.killer = state.boarding === 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    if (this.game.round !== 0) {\r\n      const activePlayers = this.game.players.filter(p => !p.isInactive());\r\n      this.game.players.forEach(p => p.setWin(1 === activePlayers.length && !p.isInactive()));\r\n    }\r\n    if (this.game.round === 0 || this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n    while (this.game.getActualPlayer().isInactive()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number): boolean {\r\n    if (this.game.round === 0) {\r\n      return fieldIndex !== 20 && !this.getAllEnabledFields().some(f => f === fieldIndex);\r\n    }\r\n    return this.getAllEnabledFields().some(f => f === fieldIndex);\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    if (this.game.round === 0) {\r\n      return this.isFieldEnabled(fieldIndex);\r\n    }\r\n    const state = this.getPlayerState(this.game.getActualPlayer());\r\n    if (state.killer) {\r\n      return this.isFieldEnabled(fieldIndex) && !this.isSecondaryField(fieldIndex);\r\n    }\r\n    return state.actField === fieldIndex;\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    const state = this.getPlayerState(this.game.getActualPlayer());\r\n    if (state.killer) {\r\n      return state.actField === fieldIndex;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getFieldIcon(fieldIndex: number): string {\r\n    if (this.game.players.some(p => {\r\n      const state = this.getPlayerState(p);\r\n      return !p.isInactive() && p.life <= 3 && state.actField === fieldIndex;\r\n    })) {\r\n      return DANGER_ZONE_ICON;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    const owner = this.game.players.find(p => (p.state as KillerState).actField === fieldIndex);\r\n\r\n    if (owner) {\r\n      const shortName = owner.name.substr(0, 1);\r\n      const boarding = (owner.state as KillerState).boarding;\r\n      if ((owner.state as KillerState).killer) {\r\n        return `${shortName}: ${owner.life}`;\r\n      }\r\n      return `${shortName}: ${boarding + ' - ' + owner.life}`;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getPlayerField(player: Player): string {\r\n    const fieldIndex = this.getPlayerState(player).actField;\r\n    return fieldIndex === 20 ? 'B' : (fieldIndex + 1) + '';\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => {\r\n      player.state = new KillerState(this.settings.boardingLimit);\r\n      player.life = this.settings.numberOfLives;\r\n    });\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return this.settings.numberOfLives > 0 && this.settings.boardingLimit > 0;\r\n  }\r\n\r\n  decoratePlayerStat(player: Player): string {\r\n    return player.name;\r\n  }\r\n\r\n  getGameConfig(): string {\r\n    return this.settings.boardingLimit + ',' + this.settings.numberOfLives;\r\n  }\r\n\r\n  private getAllEnabledFields(): number[] {\r\n    return this.game.players.filter(p => !p.isInactive())\r\n      .map(p => this.getPlayerState(p).actField);\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Games</h2>\r\n    <div class=\"field-set\">\r\n      <mat-form-field appearance=\"outline\" class=\"big\">\r\n        <mat-label>Life limit</mat-label>\r\n        <input [(ngModel)]=\"settings.numberOfLives\" type=\"number\" matInput>\r\n      </mat-form-field>\r\n      <mat-form-field appearance=\"outline\" class=\"big\">\r\n        <mat-label>Boarding</mat-label>\r\n        <input [(ngModel)]=\"settings.boardingLimit\" type=\"number\" matInput>\r\n      </mat-form-field>\r\n    </div>\r\n    <mat-divider></mat-divider>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.suicide\"\r\n            (click)=\"settings.toggleSuicide()\">Suicide</button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}} {{player.isInactive() ? 'inactive' : ''}}\"\r\n          *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [scoreDisplayed]=\"false\" [highlighted]=\"getPlayerState(player).killer\">\r\n          <ng-container *ngIf=\"getPlayerField(player) !== '0'\">\r\n            <div class=\"score\"><label>Field: </label>{{getPlayerField(player)}}</div>\r\n            <div class=\"clear\"></div>\r\n            <div class=\"line\"></div>\r\n            <div class=\"score\">\r\n              <label>Life: </label>{{player.life}}\r\n              <ng-container *ngIf=\"!getPlayerState(player).killer\"><label>Boarding: </label>{{getPlayerState(player).boarding}}</ng-container>\r\n            </div>\r\n          </ng-container>\r\n        </app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {KillerComponent} from './killer.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: KillerComponent}\r\n    ])\r\n  ],\r\n  declarations: [KillerComponent]\r\n})\r\nexport class KillerModule {\r\n}\r\n","export class KillerSettings {\r\n  numberOfLives: number;\r\n  boardingLimit: number;\r\n  suicide: boolean;\r\n\r\n  constructor() {\r\n    this.suicide = false;\r\n    this.numberOfLives = 7;\r\n    this.boardingLimit = 3;\r\n  }\r\n\r\n  toggleSuicide() {\r\n    this.suicide = !this.suicide;\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class KillerState extends PlaygroundState {\r\n\r\n  actField: number;\r\n  killer: boolean;\r\n\r\n  constructor(public boarding = 3) {\r\n    super();\r\n    this.actField = -1;\r\n    this.killer = false;\r\n  }\r\n\r\n  clone(): KillerState {\r\n    const state = new KillerState(this.boarding);\r\n    state.actField = this.actField;\r\n    state.killer = this.killer;\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {KnockoutSettings} from './models/knockout.settings.model';\r\nimport {KnockoutState} from './models/knockout.state.model';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {StatisticsService} from '~services/statistics.service';\r\nimport {BotService} from '~services/bot.service';\r\n\r\n@Component({\r\n  templateUrl: './knockout.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class KnockoutComponent extends Playground<KnockoutState> {\r\n\r\n  settings: KnockoutSettings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\r\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\r\n    super('Knockout', application, game, route, dialogService, soundService, botService, statisticsService, 'knockout', 2);\r\n    this.settings = new KnockoutSettings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    player.score = player.getThrowsTotal();\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    if (this.game.isTheLastThrow()) {\r\n      const score = this.getPlayerState(player).score;\r\n      if (score > player.getThrowsTotal()) {\r\n        player.life--;\r\n        this.soundService.no();\r\n      } else if (this.settings.killer && score !== 0 && score === player.getThrowsTotal()\r\n        && player.throwsHistory[player.throwsHistory.length - 1].score !== 0) {\r\n        this.game.getPreviousPlayer().life--;\r\n        this.soundService.no();\r\n      }\r\n      this.getPlayerState(this.game.getNextPlayer()).score = player.getThrowsTotal();\r\n      const activePlayers = this.game.getActivePlayers();\r\n      this.game.players.forEach(p => p.setWin(1 === activePlayers.length && !p.isInactive()));\r\n      this.game.nextPlayer();\r\n    }\r\n    while (this.game.getActualPlayer().isInactive()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => {\r\n      player.state = new KnockoutState();\r\n      player.life = this.settings.numberOfLives;\r\n    });\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return this.settings.numberOfLives > 0;\r\n  }\r\n\r\n  getInfo(): number {\r\n    const player = this.game.getActualPlayer();\r\n    const state = this.getPlayerState(player);\r\n    return (state.score ? state.score : 0) - (this.game.actualThrow === 0 ? 0 : player.score);\r\n  }\r\n\r\n  decoratePlayerStat(player: Player): string {\r\n    return player.name;\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Games</h2>\r\n    <div class=\"field-set\">\r\n      <mat-form-field appearance=\"outline\" class=\"big\">\r\n        <mat-label>Life limit</mat-label>\r\n        <input [(ngModel)]=\"settings.numberOfLives\" type=\"number\" matInput>\r\n      </mat-form-field>\r\n    </div>\r\n    <br/>\r\n    <button class=\"button medium\" [class.primary]=\"settings.killer\" (click)=\"settings.toggleKiller()\">\r\n      Below the belt\r\n    </button>\r\n\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" [info]=\"getInfo()\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}} {{player.isInactive() ? 'inactive' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [scoreDisplayed]=\"true\" [lifeDisplayed]=\"true\" [hasContent]=\"false\">\r\n        </app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {SharedModule} from '../shared/shared.module';\r\nimport {KnockoutComponent} from './knockout.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: KnockoutComponent}\r\n    ])\r\n  ],\r\n  declarations: [KnockoutComponent]\r\n})\r\nexport class KnockoutModule {\r\n}\r\n","export class KnockoutSettings {\r\n  numberOfLives: number;\r\n  killer: boolean;\r\n\r\n  constructor() {\r\n    this.numberOfLives = 5;\r\n    this.killer = true;\r\n  }\r\n\r\n  toggleKiller() {\r\n    this.killer = !this.killer;\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class KnockoutState extends PlaygroundState {\r\n\r\n  constructor(public score = 0) {\r\n    super();\r\n  }\r\n\r\n  clone(): KnockoutState {\r\n    return new KnockoutState(this.score);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\n\r\n\r\nconst materialImports = [\r\n  MatDialogModule,\r\n  MatButtonModule,\r\n  MatIconModule,\r\n  MatInputModule,\r\n  MatDividerModule,\r\n  MatAutocompleteModule\r\n];\r\n\r\n@NgModule({\r\n  imports: materialImports,\r\n  exports: materialImports,\r\n})\r\nexport class MaterialModule {\r\n}\r\n\r\n// Copyright 2018 Google Inc. All Rights Reserved.\r\n//   Use of this source code is governed by an MIT-style license that\r\n//   can be found in the LICENSE file at http://angular.io/license\r\n","import {animate, animateChild, group, query, style, transition, trigger} from '@angular/animations';\r\n\r\nexport const slideInAnimation =\r\n  trigger('routeAnimations', [\r\n    transition('* <=> *', [\r\n      style({position: 'relative'}),\r\n      query(':enter, :leave', [\r\n        style({\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%'\r\n        })\r\n      ], {optional: true}),\r\n      query(':enter', [\r\n        style({left: '-100%'})\r\n      ], {optional: true}),\r\n      query(':leave', animateChild(), {optional: true}),\r\n      group([\r\n        query(':leave', [\r\n          animate('300ms ease-out', style({left: '100%'}))\r\n        ], {optional: true}),\r\n        query(':enter', [\r\n          animate('300ms ease-out', style({left: '0%'}))\r\n        ], {optional: true})\r\n      ]),\r\n      query(':enter', animateChild(), {optional: true}),\r\n    ]),\r\n  ]);\r\n","import {CricketSettings} from '../../cricket/models/cricet.settings.model';\n\nexport class ScamSettings extends CricketSettings {\n\n  stopper = false;\n  punishment = true;\n  reverse = false;\n  punishmentValue = 25;\n\n  constructor() {\n   super();\n   this.style = 1;\n   this.all();\n  }\n\n  toggleStopper() {\n    this.stopper = !this.stopper;\n  }\n\n  toggleReverse() {\n    this.reverse = !this.reverse;\n  }\n\n  togglePunishment() {\n    this.punishment = !this.punishment;\n  }\n}\n","import {Component} from '@angular/core';\nimport {FIELDS_COUNT, Playground} from '~models/playground.model';\nimport {GameService} from '~services/game.service';\nimport {Player} from '~models/player.model';\nimport {Router} from '@angular/router';\nimport {PlaygroundState} from '~models/playground-state.model';\nimport {DialogService} from '~services/dialog.service';\nimport {slideInAnimation} from '../route-animation';\nimport {ApplicationStateService} from '~services/application-state.service';\nimport {ScamSettings} from './models/scam.settings.model';\nimport {SoundService} from '~services/sound.service';\nimport {StatisticsService} from '~services/statistics.service';\nimport {BotService, PLAYER_DELAY_FAST} from '~services/bot.service';\n\n@Component({\n  templateUrl: './scam.component.html',\n  animations: [slideInAnimation],\n})\nexport class ScamComponent extends Playground<PlaygroundState> {\n\n  settings: ScamSettings;\n\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\n    super('Scam', application, game, route, dialogService, soundService, botService, statisticsService, 'scam', 2);\n    this.settings = new ScamSettings();\n  }\n\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\n    if (!!this.game.numbs[fieldIndex]) {\n      if (this.settings.stopper && this.game.isTheFirstPlayer(player)) {\n        this.game.numbs[fieldIndex] = 0;\n      } else if (this.settings.stopper) {\n        player.score += (this.settings.isNoScoreGame() ? 1 : score) * this.multiplier * (this.settings.reverse ? -1 : 1);\n      } else {\n        player.score += (this.settings.isNoScoreGame() ? 1 : score) * this.multiplier * (this.settings.reverse ? -1 : 1);\n        this.game.numbs[fieldIndex] = 0;\n      }\n    } else if (this.settings.punishment && ((this.settings.stopper && !this.game.isTheFirstPlayer(player)) || !this.settings.stopper)) {\n      const newScore = score === 0 ? this.settings.punishmentValue : score;\n      const scr = (this.settings.isNoScoreGame() ? 1 : newScore) * this.multiplier;\n      player.score -= scr;\n    }\n  }\n\n  checkPlayerState(player: Player) {\n    if (!this.game.numbs.some(n => n)) {\n      const bests = this.game.getTheBestPlayers();\n      this.game.players.forEach(p => p.setWin(bests.some(b => b.name === p.name)));\n    }\n    if (this.game.isTheLastThrow()) {\n      this.game.nextPlayer();\n    }\n  }\n\n  isPrimaryField(fieldIndex: number): boolean {\n    return !!this.game.numbs[fieldIndex];\n  }\n\n  isAlertField(fieldIndex: number): boolean {\n    return this.settings.punishment && !this.game.numbs[fieldIndex];\n  }\n\n  isFieldEnabled(fieldIndex: number): boolean {\n    return this.settings.punishment || !!this.game.numbs[fieldIndex];\n  }\n\n  customReset() {\n    this.game.numbs = this.settings.numbs.map(i => i ? 1 : 0);\n    this.settings.fields.forEach(f => this.settings.numbs[f] = true);\n  }\n\n  getGameConfig(): string {\n    return this.settings.fields.length + '';\n  }\n\n  botThrow() {\n    let fields = [...Array(FIELDS_COUNT).keys()];\n    if (this.settings.reverse) {\n      fields.reverse();\n    }\n    fields = fields.filter(index => this.game.numbs[index]).slice(-4).slice(0, 3);\n    const index = this.botService.calculateMultiTarget(fields);\n    if (this.botService.isDoublePoint()) {\n      this.doublePoint();\n    } else if (this.botService.isTriplePoint()) {\n      this.triplePoint();\n    }\n    setTimeout(() => {\n      this.throwNumber([this.isFieldEnabled(index) ? Playground.getFieldValueFromIndex(index) : 0,\n        Playground.getFieldValueFromIndex(index)]);\n    }, PLAYER_DELAY_FAST);\n  }\n}\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Fields</h2>\r\n    <button class=\"button\" [class.primary]=\"settings.isFieldAllowed(i)\"\r\n            *ngFor=\"let numb of settings.getNumbers(); let i = index\" (click)=\"settings.setNumber(i)\">\r\n      {{numb === 21 ? 'B' : numb}}\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n    <button class=\"button shortmedium\" (click)=\"settings.upper()\">Upper</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.lower()\">Lower</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.left()\">Left</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.right()\">Right</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.odd()\">Odd</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.even()\">Even</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.prime()\">Prime</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.notPrime()\">Not prime</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize(5)\">Random 05</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize(10)\">Random 10</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize(15)\">Random 15</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.small()\">Small</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.high()\">High</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.star()\">Star</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.cross()\">Cross</button>\r\n    <button class=\"button shortmedium\" (click)=\"settings.all()\">All</button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Style</h2>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==1\"\r\n            (click)=\"settings.setStyle(1)\">Classic\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.stopper\"\r\n            (click)=\"settings.toggleStopper()\">Stopper\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.style==3\"\r\n            (click)=\"settings.setStyle(3)\">No Score\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.punishment\"\r\n            (click)=\"settings.togglePunishment()\">Punish(25)\r\n    </button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [hasContent]=\"false\"\r\n          [highlighted]=\"settings.stopper && game.isTheFirstPlayer(player)\"\r\n          [scoreDisplayed]=\"!settings.stopper || !game.isTheFirstPlayer(player)\">\r\n        </app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {ScamComponent} from './scam.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: ScamComponent}\r\n    ])\r\n  ],\r\n  declarations: [ScamComponent]\r\n})\r\nexport class ScamModule {\r\n}\r\n","export class ShanghaiSettings {\r\n\r\n  fields: number[];\r\n  numbs: boolean[] = [];\r\n  noScore: boolean;\r\n  halveIt: boolean;\r\n\r\n  constructor() {\r\n    this.fields = [];\r\n    this.noScore = false;\r\n    this.halveIt = true;\r\n    let defaultSet = true;\r\n    for (let i = 0; i < 21; i++) {\r\n      this.numbs[i] = defaultSet;\r\n      if (i === 19) {\r\n        defaultSet = false;\r\n      }\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  randomize() {\r\n    for (let i = 0; i < this.numbs.length; i++) {\r\n      this.numbs[i] = false;\r\n    }\r\n    for (let i = 0; i < 8; i++) {\r\n      let rand = Math.floor(Math.random() * 21);\r\n      while (this.numbs[rand]) {\r\n        rand = Math.floor(Math.random() * 21);\r\n      }\r\n      this.numbs[rand] = true;\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  toggleNoScore() {\r\n    this.noScore = !this.noScore;\r\n  }\r\n\r\n  toggleHalveIt() {\r\n    this.halveIt = !this.halveIt;\r\n  }\r\n\r\n\r\n  getNumbers() {\r\n    const numbers: number[] = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      numbers[i] = (i + 1);\r\n    }\r\n    return numbers;\r\n  }\r\n\r\n  setNumber(i: number) {\r\n    this.numbs[i] = !this.numbs[i];\r\n    this.initFields();\r\n  }\r\n\r\n  initFields() {\r\n    this.fields = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      if (this.numbs[i]) {\r\n        this.fields.push(i);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\nimport {FieldValue} from '~models/field-value.model';\r\n\r\nexport class ShanghaiState extends PlaygroundState {\r\n\r\n  fieldCount: FieldValue[];\r\n  fieldScore: FieldValue[];\r\n\r\n  constructor() {\r\n    super();\r\n    this.fieldCount = [];\r\n    this.fieldScore = [];\r\n  }\r\n\r\n  getFieldCount(field: number): number {\r\n    return this.getFieldValue(this.fieldCount, field).value;\r\n  }\r\n\r\n  increaseFieldCount(field: number, value: number) {\r\n    this.getFieldValue(this.fieldCount, field).value += value;\r\n  }\r\n\r\n  getFieldScore(field: number): number {\r\n    return this.getFieldValue(this.fieldScore, field).value;\r\n  }\r\n\r\n  increaseFieldScore(field: number, value: number) {\r\n    this.getFieldValue(this.fieldScore, field).value += value;\r\n  }\r\n\r\n  clone(): ShanghaiState {\r\n    const state = new ShanghaiState();\r\n    this.fieldCount.forEach(fv => state.fieldCount.push(fv.clone()));\r\n    this.fieldScore.forEach(fv => state.fieldScore.push(fv.clone()));\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {ShanghaiSettings} from './models/shanghai.settings.model';\r\nimport {ShanghaiState} from './models/shanghai.state.model';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {STAT_NAME_SEPARATOR, StatisticsService} from '~services/statistics.service';\r\nimport {BotService} from '~services/bot.service';\r\n\r\n@Component({\r\n  templateUrl: './shanghai.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class ShanghaiComponent extends Playground<ShanghaiState> {\r\n\r\n  settings: ShanghaiSettings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\r\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\r\n    super('Shanghai / Halve It', application, game, route, dialogService, soundService, botService, statisticsService, 'shanghai');\r\n    this.settings = new ShanghaiSettings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const state = this.getPlayerState(player);\r\n    if (this.isActiveField(fieldIndex)) {\r\n      state.increaseFieldCount(fieldIndex, 1);\r\n      state.increaseFieldScore(fieldIndex, this.multiplier);\r\n      if (this.settings.noScore) {\r\n        player.score += this.multiplier;\r\n      } else {\r\n        player.score += score * this.multiplier;\r\n      }\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    // Shanghai rule\r\n    if (this.game.isTheLastThrow()) {\r\n      let multi = 1;\r\n      const fieldIndex = this.settings.fields[this.game.round];\r\n      for (let i = 0; i < 3; i++) {\r\n        const t = player.throwsHistory[player.throwsHistory.length - i - 1];\r\n        if (t.score === Playground.getFieldValueFromIndex(fieldIndex)) {\r\n          multi *= (t.multi + 1);\r\n        }\r\n      }\r\n      if (multi === 1 && this.settings.halveIt) {\r\n        player.score = Math.round(player.score / 2);\r\n      }\r\n      player.setWin(multi === 24);\r\n      if (player.win) {\r\n        this.extraEndingMsg = 'SHANGHAI!!!';\r\n      }\r\n    }\r\n\r\n    const gameEnded = (this.game.round === (this.settings.fields.length - 1))\r\n      && this.game.isActualPlayerTheLast() && this.game.isTheLastThrow();\r\n    if (gameEnded) {\r\n      this.game.players.forEach(p => p.setWin(this.game.isTheBestPlayer(p)));\r\n    } else if (this.game.isTheLastThrow()) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  getFieldValue(player: Player, fieldIndex: number): string {\r\n    const fieldCount = this.getPlayerState(player).getFieldCount(fieldIndex);\r\n    if (fieldCount === 0) {\r\n      return '○○○';\r\n    } else {\r\n      let str = '' + this.getPlayerState(player).getFieldScore(fieldIndex) * Playground.getFieldValueFromIndex(fieldIndex);\r\n      for (let i = 0; i < fieldCount; i++) {\r\n        str += '●';\r\n      }\r\n      for (let i = fieldCount; i < 3; i++) {\r\n        str += '○';\r\n      }\r\n      return str;\r\n    }\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.state = new ShanghaiState());\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return this.settings.fields.length > 0;\r\n  }\r\n\r\n  isActiveField(fieldIndex: number): boolean {\r\n    return this.settings.fields[this.game.round] === fieldIndex;\r\n  }\r\n\r\n  isFieldDoneForPlayer(fieldIndex: number): boolean {\r\n    return this.settings.fields.indexOf(fieldIndex) < this.game.round;\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number): boolean {\r\n    return this.settings.fields.indexOf(fieldIndex) === this.game.round;\r\n  }\r\n\r\n  getActualFieldIndex(): number {\r\n    return this.settings.fields[this.game.round];\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return this.isFieldEnabled(fieldIndex);\r\n  }\r\n\r\n  getTheFinalResult(): Player[] {\r\n    let winners = this.game.players.filter(p => p.win);\r\n    if (!winners.length) {\r\n      return [];\r\n    }\r\n    let max = winners[0].score;\r\n    winners.forEach(p => {\r\n      max = p.score > max ? p.score : max;\r\n    });\r\n    winners = winners.filter(p => p.score === max).map(p => p.clone());\r\n    const losers = this.game.players.filter(p => !winners.some(w => w.id === p.id)).map(p => {\r\n      const c = p.clone();\r\n      c.win = false;\r\n      return c;\r\n    });\r\n    return [...winners, ...losers];\r\n  }\r\n\r\n  decoratePlayerStat(player: Player): string {\r\n    return player.name + STAT_NAME_SEPARATOR + player.score + ((player.win && this.extraEndingMsg) ? ('/s') : '');\r\n  }\r\n\r\n  getGameConfig(): string {\r\n    return this.settings.fields.length + ',' + (this.settings.halveIt ? '1' : '0');\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Fields</h2>\r\n    <button class=\"button\" [class.primary]=\"settings.numbs[i]\"\r\n            *ngFor=\"let numb of settings.getNumbers(); let i = index\" (click)=\"settings.setNumber(i)\">\r\n      {{numb === 21 ? 'B' : numb}}\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <button class=\"button shortmedium\" (click)=\"settings.randomize()\">Randomize</button>\r\n    <button class=\"button shortmedium\"  [class.primary]=\"settings.noScore\"\r\n            (click)=\"settings.toggleNoScore()\">No score\r\n    </button>\r\n    <button class=\"button shortmedium\"  [class.primary]=\"settings.halveIt\"\r\n            (click)=\"settings.toggleHalveIt()\">Halve It\r\n    </button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\">\r\n          <div class=\"field-set\">\r\n            <div class=\"field {{isActiveField(field) ? 'active': ''}} {{isFieldDoneForPlayer(field) ? '' : 'highlighted'}}\"\r\n                 *ngFor=\"let field of settings.fields\">\r\n              {{field === 20 ? 'B' : (field + 1)}}: <span class=\"small\">{{ getFieldValue(player, field) }}</span>\r\n            </div>\r\n          </div>\r\n        </app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n  <app-number-plate-shanghai [playground]=\"playground\" [actualIndex]=\"getActualFieldIndex()\"\r\n                             *ngIf=\"!settingsOpen && !application.settings.details\"></app-number-plate-shanghai>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {ShanghaiComponent} from './shanghai.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: ShanghaiComponent}\r\n    ])\r\n  ],\r\n  declarations: [ShanghaiComponent]\r\n})\r\nexport class ShanghaiModule {\r\n}\r\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Component, Inject} from '@angular/core';\r\n\r\n@Component({\r\n  templateUrl: 'confirm-dialog.component.html',\r\n  styleUrls: ['confirm-dialog.component.scss']\r\n})\r\nexport class ConfirmDialogComponent {\r\n  constructor(protected dialogRef: MatDialogRef<ConfirmDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: { title: string, content: string }) {\r\n  }\r\n\r\n  cancel(): void {\r\n    this.dialogRef.close(false);\r\n  }\r\n\r\n  confirm(): void {\r\n    this.dialogRef.close(true);\r\n  }\r\n}\r\n","<div class=\"dialog-container\">\r\n  <div mat-dialog-title class=\"subtitle-1\"><p>{{ data.title }}</p></div>\r\n  <mat-dialog-content class=\"body-2\" *ngIf=\"!!data.content\">\r\n    <p>{{ data.content }}</p>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button class=\"button primary\" (click)=\"confirm()\">OK</button>\r\n    <button class=\"button\" (click)=\"cancel()\">Cancel</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Component, Inject} from '@angular/core';\r\nimport {Player} from '~models/player.model';\r\n\r\n@Component({\r\n  templateUrl: 'dialog.component.html',\r\n  styleUrls: ['dialog.component.scss']\r\n})\r\nexport class DialogComponent {\r\n  constructor(protected dialogRef: MatDialogRef<DialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: { title: string, content: string, players: Player[] }) {\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"dialog-container\">\r\n  <div mat-dialog-title class=\"subtitle-1\"><p>{{ data.title }}</p></div>\r\n  <mat-dialog-content class=\"body-2\" *ngIf=\"!!data.content || !!data.players.length\">\r\n    <p>{{ data.content }}</p>\r\n    <div class=\"score-line\" *ngFor=\"let player of data.players; let i = index\" [class.winner]=\"player.win\">\r\n      <div>{{i+1}}. {{player.name}} <mat-icon color=\"warn\" *ngIf=\"player.win\">star</mat-icon></div>\r\n      <div>{{player.score}}</div>\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button [mat-dialog-close]=\"true\" class=\"button primary\">Ok</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Component, Inject} from '@angular/core';\r\nimport {GameStatistics} from '~models/game-statistics.model';\r\nimport {STAT_NAME_SEPARATOR} from '~services/statistics.service';\r\nimport {environment} from '../../../../environments/environment';\r\n\r\n@Component({\r\n  templateUrl: 'game-history-dialog.component.html',\r\n  styleUrls: ['game-history-dialog.component.scss']\r\n})\r\nexport class GameHistoryDialogComponent {\r\n  constructor(protected dialogRef: MatDialogRef<GameHistoryDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: { statistics: GameStatistics[] }) {\r\n    data.statistics.sort((a, b) => new Date(b.s).getTime() - new Date(a.s).getTime());\r\n  }\r\n\r\n  getDuration(stat: GameStatistics): Date {\r\n    return new Date(new Date(stat.f).getTime() - new Date(stat.s).getTime());\r\n  }\r\n\r\n  getPlayers(players: string[]): string[] {\r\n    return players.map(p => {\r\n      const pna = p.split(STAT_NAME_SEPARATOR);\r\n      let result = pna[0];\r\n      if (pna.length === 2) {\r\n        result += '(' + pna[1] + ')';\r\n      }\r\n      return result;\r\n    });\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  getAppVersion(): string {\r\n    return environment.appVersion ? environment.appVersion : '';\r\n  }\r\n}\r\n","<div class=\"dialog-container\">\r\n  <div mat-dialog-title class=\"subtitle-1\">\r\n    <p>History</p>\r\n    <p>v{{ getAppVersion() }}</p>\r\n  </div>\r\n  <mat-dialog-content class=\"body-2\">\r\n    <table cellpadding=\"0\" cellspacing=\"0\" class=\"statistics-table\">\r\n      <tr>\r\n        <th>Date</th>\r\n        <th>Duration</th>\r\n        <th>Type</th>\r\n        <th>Config</th>\r\n        <th>Round</th>\r\n        <th>Winner(s)</th>\r\n        <th>Loser(s)</th>\r\n      </tr>\r\n      <tr *ngFor=\"let stat of data.statistics\">\r\n        <td>{{ stat.s | date:'medium' }}</td>\r\n        <td>{{ getDuration(stat) | date: 'mm:ss' }}</td>\r\n        <td>{{ stat.g }}</td>\r\n        <td>{{ stat.c }}</td>\r\n        <td>{{ stat.r + 1 }}</td>\r\n        <td>{{ getPlayers(stat.w) }}</td>\r\n        <td>{{ getPlayers(stat.l) }}</td>\r\n      </tr>\r\n    </table>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button [mat-dialog-close]=\"true\" class=\"button primary\">Ok</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Component, Inject} from '@angular/core';\r\nimport {PlayerStatistics} from '~models/player-statistics.model';\r\n\r\n@Component({\r\n  templateUrl: 'game-statistics-dialog.component.html',\r\n  styleUrls: ['game-statistics-dialog.component.scss']\r\n})\r\nexport class GameStatisticsDialogComponent {\r\n  constructor(protected dialogRef: MatDialogRef<GameStatisticsDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: { statistics: PlayerStatistics[] }) {\r\n    data.statistics.sort((a, b) => this.getRatio(b) - this.getRatio(a));\r\n  }\r\n\r\n  getRatio(stat: PlayerStatistics): number {\r\n    return Math.round(stat.w / (stat.w + stat.l) * 100);\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"dialog-container\">\r\n  <div mat-dialog-title class=\"subtitle-1\"><p>Statistics</p></div>\r\n  <mat-dialog-content class=\"body-2\">\r\n    <table cellpadding=\"0\" cellspacing=\"0\" class=\"statistics-table\">\r\n      <tr>\r\n        <th>Player</th>\r\n        <th>Wins</th>\r\n        <th>Loses</th>\r\n        <th>All</th>\r\n        <th>Rate</th>\r\n      </tr>\r\n      <tr *ngFor=\"let stat of data.statistics\">\r\n        <td>{{ stat.n }}</td>\r\n        <td>{{ stat.w }}</td>\r\n        <td>{{ stat.l }}</td>\r\n        <td>{{ stat.l + stat.w }}</td>\r\n        <td>{{ getRatio(stat) }} %</td>\r\n      </tr>\r\n    </table>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button [mat-dialog-close]=\"true\" class=\"button primary\">Ok</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import {Component, Input} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {Router} from '@angular/router';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\n@Component({\r\n  selector: 'app-game-toolbar',\r\n  templateUrl: './game-toolbar.component.html',\r\n  styleUrls: ['./game-toolbar.component.scss']\r\n})\r\nexport class GameToolbarComponent {\r\n\r\n  @Input() playground: Playground<PlaygroundState>;\r\n  @Input() reversRound: number;\r\n  @Input() info: number;\r\n\r\n  constructor(public route: Router,\r\n              public application: ApplicationStateService,\r\n              private dialogService: DialogService) {\r\n  }\r\n\r\n  quit() {\r\n    this.showConfirmation('Are you sure you want to navigate away from this page?', () => {\r\n      this.route.navigate(['/']);\r\n      this.playground.game.resetScore();\r\n      this.playground.multiplier = 1;\r\n      this.playground.extraEndingMsg = '';\r\n    });\r\n  }\r\n\r\n  newGame() {\r\n    this.showConfirmation('Are you sure you want to start a new game?', () => {\r\n      this.playground.newGame(true);\r\n    });\r\n  }\r\n\r\n  showSettings() {\r\n    this.showConfirmation('Are you sure you want to navigate to the settings page?', () => {\r\n      this.playground.reset();\r\n      this.playground.settingsOpen = true;\r\n    });\r\n  }\r\n\r\n  undo() {\r\n    this.playground.undo();\r\n  }\r\n\r\n  getInfo(): number {\r\n    return this.info || this.info === 0 ? this.info : this.getRound();\r\n  }\r\n\r\n  private showConfirmation(content: string, callback: () => void) {\r\n    if (this.playground.gameHistory.length) {\r\n      this.dialogService.openConfirmDialog('Confirmation', content)\r\n        .afterClosed().subscribe(data => {\r\n        if (data) {\r\n          callback();\r\n        }\r\n      });\r\n    } else {\r\n      callback();\r\n    }\r\n  }\r\n\r\n  private getRound(): number {\r\n    const round = this.playground.game.round;\r\n    return this.reversRound ? (this.reversRound - round) : (round + 1);\r\n  }\r\n}\r\n","<div class=\"toolbar\">\r\n  <button class=\"button icon-button\" (click)=\"newGame()\">\r\n    <mat-icon>refresh</mat-icon>\r\n  </button>\r\n  <button class=\"button icon-button\" (click)=\"undo()\">\r\n    <mat-icon>undo</mat-icon>\r\n  </button>\r\n</div>\r\n\r\n<div class=\"round-info\" [class.detailed]=\"application.settings.details\">\r\n  {{getInfo()}}\r\n</div>\r\n\r\n<div class=\"theme-chooser\">\r\n  <button (click)=\"quit()\" class=\"button primary icon\"><mat-icon>menu</mat-icon></button>\r\n  <button (click)=\"showSettings()\" class=\"button primary icon\"><mat-icon>build</mat-icon></button>\r\n</div>\r\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Component, Inject} from '@angular/core';\r\nimport {GameTypeStatistics} from '~models/game-type-statistics.model';\r\n\r\n@Component({\r\n  templateUrl: 'game-type-statistics-dialog.component.html',\r\n  styleUrls: ['game-type-statistics-dialog.component.scss']\r\n})\r\nexport class GameTypeStatisticsDialogComponent {\r\n  constructor(protected dialogRef: MatDialogRef<GameTypeStatisticsDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: { statistics: GameTypeStatistics[] }) {\r\n    data.statistics.sort((a, b) => b.count - a.count);\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"dialog-container\">\r\n  <div mat-dialog-title class=\"subtitle-1\"><p>Most Popular Games</p></div>\r\n  <mat-dialog-content class=\"body-2\">\r\n    <table cellpadding=\"0\" cellspacing=\"0\" class=\"statistics-table\">\r\n      <tr>\r\n        <th>Game title</th>\r\n        <th>Count</th>\r\n      </tr>\r\n      <tr *ngFor=\"let stat of data.statistics\">\r\n        <td>{{ stat.name }}</td>\r\n        <td>{{ stat.count }}</td>\r\n      </tr>\r\n    </table>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button [mat-dialog-close]=\"true\" class=\"button primary\">Ok</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import {Component} from '@angular/core';\r\nimport {Router, Routes} from '@angular/router';\r\nimport {StatisticsService} from '~services/statistics.service';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {routes} from '../../../app-game-types';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\n@Component({\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.scss']\r\n})\r\nexport class MenuComponent {\r\n\r\n  constructor(private readonly router: Router,\r\n              private readonly dialog: DialogService,\r\n              private readonly statisticsService: StatisticsService,\r\n              public readonly applicationStateService: ApplicationStateService) {\r\n  }\r\n\r\n  randomGame() {\r\n    const random = Math.floor(Math.random() * routes.length);\r\n    this.router.navigate(['/' + routes[random].path]);\r\n  }\r\n\r\n  getGameList(): Routes {\r\n    return routes.filter(r => !!r.data);\r\n  }\r\n\r\n  openGameTypeStatistics() {\r\n    this.dialog.openGameTypeStatistics(this.statisticsService.getGameTypeStatistics());\r\n    // this.statisticsService.printStatistics();\r\n  }\r\n\r\n  openGameStatistics() {\r\n    this.dialog.openGameHistory(this.statisticsService.getGameStatistics());\r\n  }\r\n}\r\n","<div id=\"menu_title\">\n  <h1 (click)=\"randomGame()\">Select Game!</h1>\n</div>\n<div id=\"menu\">\n  <div class=\"button-line\" *ngFor=\"let k of [0,1,2,3]\">\n    <button *ngFor=\"let g of getGameList().slice(k*3,k*3 + 3); let i = index\"\n            [routerLink]=\"['/' + g.path]\"\n            class=\"button gameSelectBox {{'menu-button-' + k + '' + i}} {{g.data.bot ? 'hasBot' : ''}}\">\n      <div class=\"menu-item-container\">\n        <div class=\"title\">{{g.data.name}}</div>\n        <mat-icon>{{g.data.icon}}</mat-icon>\n      </div>\n    </button>\n  </div>\n</div>\n<div class=\"version\">\n  <button (click)=\"openGameTypeStatistics()\" class=\"button primary icon\">\n    <mat-icon>stars</mat-icon>\n  </button>\n  <button (click)=\"openGameStatistics()\" class=\"button primary icon\">\n    <mat-icon>history</mat-icon>\n  </button>\n</div>\n","import {Component, Input} from '@angular/core';\r\nimport {GameService} from '~services/game.service';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {DialogService} from '~services/dialog.service';\r\n\r\n@Component({\r\n  selector: 'app-number-plate-shanghai',\r\n  templateUrl: './number-plate-shanghai.component.html',\r\n  styleUrls: ['./number-plate-shanghai.component.scss']\r\n})\r\nexport class NumberPlateShanghaiComponent {\r\n\r\n  @Input() actualIndex: number;\r\n  @Input() playground: any;\r\n\r\n  constructor(public game: GameService,\r\n              private dialogService: DialogService,\r\n              public application: ApplicationStateService) {\r\n  }\r\n\r\n  next() {\r\n    this.playground.skip();\r\n  }\r\n\r\n  win() {\r\n    this.dialogService.openConfirmDialog('Confirmation', 'Are you sure?').afterClosed()\r\n      .subscribe(data => {\r\n        if (data) {\r\n          const score = this.actualIndex + 1;\r\n          this.playground.throwNumber([score, score]);\r\n          this.playground.doublePoint();\r\n          this.playground.throwNumber([score, score]);\r\n          this.playground.triplePoint();\r\n          this.playground.throwNumber([score, score]);\r\n        }\r\n      });\r\n  }\r\n\r\n  throwNumber(count: number) {\r\n    const score = this.actualIndex + 1;\r\n    switch (count) {\r\n      case 1:\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.skip();\r\n        break;\r\n      case 2:\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.skip();\r\n        break;\r\n      case 3:\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.throwNumber([score, score]);\r\n        break;\r\n      case 4:\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.skip();\r\n        break;\r\n      case 5:\r\n        this.playground.doublePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.skip();\r\n        break;\r\n      case 6:\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.skip();\r\n        break;\r\n      case 7:\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        break;\r\n      case 8:\r\n        this.playground.doublePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        break;\r\n      case 9:\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        this.playground.triplePoint();\r\n        this.playground.throwNumber([score, score]);\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\n","<div class=\"side-right\">\r\n  <div class=\"numbers\">\r\n    <h1>Field: {{ actualIndex + 1 }}</h1>\r\n    <div class=\"button-line\" *ngFor=\"let k of [0,1,2]\">\r\n      <button *ngFor=\"let j of [1,2,3]\" class=\"button number primary\" (click)=\"throwNumber(j + (k*3))\">\r\n        {{ j + (k*3) }}\r\n      </button>\r\n    </div>\r\n    <div class=\"button-line\">\r\n      <button class=\"button number next\" (click)=\"next()\">0</button>\r\n      <button class=\"button number\" (click)=\"win()\">\r\n        Shanghai\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, Input, OnDestroy, OnInit, ViewEncapsulation} from '@angular/core';\r\nimport {GameService} from '~services/game.service';\r\nimport {Playground} from '~models/playground.model';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport * as d3 from 'd3';\r\nimport {Subject} from 'rxjs';\r\nimport {takeUntil} from 'rxjs/operators';\r\n\r\nconst ARC_WIDTH = 0.295;\r\n\r\n@Component({\r\n  selector: 'app-number-plate-visual',\r\n  templateUrl: './number-plate-visual.component.html',\r\n  styleUrls: ['./number-plate-visual.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class NumberPlateVisualComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() playground: any;\r\n  numbers = [20, 1, 18, 4, 13, 6, 10, 15, 2, 17, 3, 19, 7, 16, 8, 11, 14, 9, 12, 5];\r\n  private ngUnsubscribeHasChange = new Subject();\r\n\r\n  constructor(public game: GameService,\r\n              public application: ApplicationStateService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.drawTable();\r\n    this.playground.hasChanges\r\n      .pipe(takeUntil(this.ngUnsubscribeHasChange))\r\n      .subscribe(flag => this.drawTable());\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.ngUnsubscribeHasChange.next();\r\n    this.ngUnsubscribeHasChange.complete();\r\n  }\r\n\r\n  next() {\r\n    this.playground.skip();\r\n    this.drawTable();\r\n  }\r\n\r\n  private drawTable() {\r\n    d3.select('#darts-table-plate svg').remove();\r\n    const svg = d3.select('#darts-table-plate').append('svg').attr('width', '100%')\r\n      .attr('height', '100%').attr('viewBox', '0 0 330 330');\r\n    const numbers = [20, 1, 18, 4, 13, 6, 10, 15, 2, 17, 3, 19, 7, 16, 8, 11, 14, 9, 12, 5];\r\n    const bullIndex = this.getFieldIndex(25);\r\n\r\n    if (this.playground.zeroEnabled) {\r\n      this.drawArcPosition(svg, 20, 25, 30, 'field-color primary');\r\n      this.drawText(svg, '0', 0, 25, 23, -1, 1,\r\n        'number-text', () => this.throwZero());\r\n    }\r\n\r\n    this.drawArc(svg, 0, 165, 0, Math.PI * 4, 'field-inactive', -1, 1);\r\n    this.drawArc(svg, 0, 19, 0, Math.PI * 4, 'field-color-m', bullIndex, 2);\r\n    this.drawArc(svg, 20, 49, 0, Math.PI * 4, 'field-color', bullIndex, 1);\r\n    for (let i = 0; i < numbers.length; i++) {\r\n      const fieldIndex = this.getFieldIndex(numbers[i]);\r\n      const colorSlice = 'field-color';\r\n      const colorSliceMulti = 'field-color-m';\r\n      const startAngle = i * Math.PI / 10 - ARC_WIDTH / 2;\r\n      const endAngle = startAngle + ARC_WIDTH;\r\n      this.drawArc(svg, 50, 84, startAngle, endAngle, colorSliceMulti, fieldIndex, 3);\r\n      this.drawArc(svg, 85, 119, startAngle, endAngle, colorSlice, fieldIndex, 1);\r\n      this.drawArc(svg, 120, 144, startAngle, endAngle, colorSliceMulti, fieldIndex, 2);\r\n      this.drawText(svg, numbers[i] + '', i * 18 - 2, 170, 3, fieldIndex, 1, 'number-text' + ' ' + this.getNumberColor(fieldIndex));\r\n      if (!!this.playground.getFieldNote(fieldIndex)) {\r\n        this.drawText(svg, this.playground.getFieldNote(fieldIndex), i * 18 - 2, 170, 14, fieldIndex, 1, 'field-note');\r\n      }\r\n    }\r\n    this.drawText(svg, '25', 0, 165, 127, bullIndex, 1, 'number-text' + ' ' + this.getNumberColor(bullIndex));\r\n    this.drawText(svg, '50', 0, 165, 158.5, bullIndex, 2, 'number-text' + ' ' + this.getNumberColor(bullIndex));\r\n    if (!!this.playground.getFieldNote(bullIndex)) {\r\n      this.drawText(svg, this.playground.getFieldNote(bullIndex), 0, 165, 193, bullIndex, 1, 'field-note');\r\n    }\r\n\r\n    this.drawText(svg, '2x', 0, 165, 28, 19, 2, 'number-text smaller' + ' ' + this.getNumberColor(19));\r\n    this.drawText(svg, '1x', 0, 165, 58, 19, 1, 'number-text smaller' + ' ' + this.getNumberColor(19));\r\n    this.drawText(svg, '3x', 0, 165, 92, 19, 3, 'number-text smaller' + ' ' + this.getNumberColor(19));\r\n  }\r\n\r\n  private getNumberColor(fieldIndex: number): string {\r\n    if (this.playground.isPrimaryField(fieldIndex)) {\r\n      return 'primary';\r\n    } else if (this.playground.isSecondaryField(fieldIndex)) {\r\n      return 'accent';\r\n    } else if (this.playground.isAlertField(fieldIndex)) {\r\n      return 'alert';\r\n    } else if (!this.playground.isFieldEnabled(fieldIndex)) {\r\n      return 'disabled';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  private isNumberDisabled(fieldIndex: number): boolean {\r\n    return !this.playground.isFieldEnabled(fieldIndex) && !this.getNumberColor(fieldIndex);\r\n  }\r\n\r\n  private throwNumber(fieldIndex: number, multi: number) {\r\n    if (!this.isNumberDisabled(fieldIndex)) {\r\n      if (multi === 2) {\r\n        this.playground.doublePoint();\r\n      }\r\n      if (multi === 3) {\r\n        this.playground.triplePoint();\r\n      }\r\n      this.playground.throwNumber([this.playground.isFieldEnabled(fieldIndex) ? Playground.getFieldValueFromIndex(fieldIndex) : 0,\r\n        Playground.getFieldValueFromIndex(fieldIndex)]);\r\n    }\r\n    this.drawTable();\r\n    document.querySelector(`path.field_${fieldIndex}_${multi}`).classList.add('clicked');\r\n  }\r\n\r\n  private throwZero() {\r\n    if (this.playground.zeroEnabled) {\r\n      this.playground.throwNumber([0,0]);\r\n      this.drawTable();\r\n    }\r\n  }\r\n\r\n  private drawText(svg, text: string, rotate: number, x: number, y: number, fieldIndex: number,\r\n                   multi: number, className: string, onclick?: () => void) {\r\n    svg.append('text')\r\n      .attr('x', x)\r\n      .attr('y', y)\r\n      .attr('dy', '1em')\r\n      .attr('text-anchor', 'middle')\r\n      .attr('transform', 'rotate(' + rotate + ', 165, 165)')\r\n      .attr('class', `field_${fieldIndex}_${multi} ${className}`)\r\n      .text(text)\r\n      .on('click', () => onclick ? onclick() : this.throwNumber(fieldIndex, multi));\r\n  }\r\n\r\n  private drawArc(svg: any, innerRadius: number, outerRadius: number, startAngle: number, endAngle: number,\r\n                  styleClass: string, fieldIndex: number, multi: number) {\r\n    svg\r\n      .append('path')\r\n      .attr('transform', 'translate(165, 165)')\r\n      .attr('d', d3.arc()\r\n        .innerRadius(innerRadius)\r\n        .outerRadius(outerRadius)\r\n        .startAngle(startAngle)\r\n        .endAngle(endAngle)\r\n      )\r\n      .attr('class', `field_${fieldIndex}_${multi} ${styleClass} ${this.getNumberColor(fieldIndex)}`)\r\n      .on('click', () => this.throwNumber(fieldIndex, multi));\r\n  }\r\n\r\n  private drawArcPosition(svg: any, radius: number, x: number, y: number, styleClass: string) {\r\n    svg\r\n      .append('path')\r\n      .attr('transform', 'translate(' + x + ', ' + y + ')')\r\n      .attr('d', d3.arc()\r\n        .innerRadius(0)\r\n        .outerRadius(radius)\r\n        .startAngle(0)\r\n        .endAngle(Math.PI * 4)\r\n      )\r\n      .attr('class', styleClass)\r\n      .on('click', () => this.throwZero());\r\n  }\r\n\r\n  private getFieldIndex(field: number): number {\r\n    return field === 25 ? 20 : field - 1;\r\n  }\r\n}\r\n\r\n","<div class=\"side-right_visual\">\r\n  <h1>{{ playground.gameTitle }} / {{ game.round + 1 }}</h1>\r\n  <div id=\"darts-table-plate\"></div>\r\n  <button class=\"button number\" (click)=\"next()\" [disabled]=\"!playground.nextEnabled\">Next</button>\r\n</div>\r\n","import {Component, Input} from '@angular/core';\r\nimport {GameService} from '~services/game.service';\r\nimport {Playground} from '~models/playground.model';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\n@Component({\r\n  selector: 'app-number-plate',\r\n  templateUrl: './number-plate.component.html',\r\n  styleUrls: ['./number-plate.component.scss']\r\n})\r\nexport class NumberPlateComponent {\r\n\r\n  @Input() playground: any;\r\n\r\n  constructor(public game: GameService,\r\n              public application: ApplicationStateService) {\r\n  }\r\n\r\n  getNumbers(): number[] {\r\n    const numbers: number[] = [];\r\n    for (let i = 1; i <= 20; i++) {\r\n      numbers[i - 1] = i;\r\n    }\r\n    return numbers;\r\n  }\r\n\r\n  getNumberColor(fieldIndex: number): string {\r\n    if (this.playground.isPrimaryField(fieldIndex)) {\r\n      return 'primary';\r\n    } else if (this.playground.isSecondaryField(fieldIndex)) {\r\n      return 'accent';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  isNumberDisabled(fieldIndex: number): boolean {\r\n    return !this.playground.isFieldEnabled(fieldIndex) && !this.getNumberColor(fieldIndex);\r\n  }\r\n\r\n  throwNumber(fieldIndex: number) {\r\n    this.playground.throwNumber([this.playground.isFieldEnabled(fieldIndex) ? Playground.getFieldValueFromIndex(fieldIndex) : 0,\r\n      Playground.getFieldValueFromIndex(fieldIndex)]);\r\n  }\r\n}\r\n\r\n","<div class=\"side-right\" [class.detailed]=\"application.settings.details\">\r\n\r\n  <ng-container *ngFor=\"let i of getNumbers()\">\r\n    <button class=\"button number {{getNumberColor(i-1)}}\"\r\n            [disabled]=\"isNumberDisabled(i-1)\" (click)=\"throwNumber(i-1)\">\r\n      <mat-icon *ngIf=\"playground.getFieldIcon(i-1)\">{{ playground.getFieldIcon(i - 1)}}</mat-icon>\r\n      <p class=\"field-note\" *ngIf=\"playground.getFieldNote(i-1)\">{{ playground.getFieldNote(i - 1)}}</p>\r\n      <div class=\"field-number\">{{i}}</div>\r\n    </button>\r\n  </ng-container>\r\n\r\n  <button class=\"button number {{getNumberColor(20)}}\" [disabled]=\"isNumberDisabled(20)\"\r\n          (click)=\"throwNumber(20)\">\r\n    <mat-icon *ngIf=\"playground.getFieldIcon(20)\">{{ playground.getFieldIcon(20)}}</mat-icon>\r\n    <p class=\"field-note\" *ngIf=\"playground.getFieldNote(20)\">{{ playground.getFieldNote(20)}}</p>\r\n    <div class=\"field-number\">Bull</div>\r\n  </button>\r\n\r\n  <button class=\"button number\" [class.primary]=\"playground.multiplier === 2\"\r\n          (click)=\"playground.doublePoint()\" [disabled]=\"!playground.multiEnabled\">\r\n    <div class=\"field-number\">2x</div>\r\n  </button>\r\n  <button class=\"button number\" [class.primary]=\"playground.multiplier === 3\"\r\n          (click)=\"playground.triplePoint()\" [disabled]=\"!playground.multiEnabled\">\r\n    <div class=\"field-number\">3x</div>\r\n  </button>\r\n\r\n  <button class=\"button number\" (click)=\"playground.skip()\" [disabled]=\"!playground.nextEnabled\">\r\n    <div class=\"field-number\">Next</div>\r\n  </button>\r\n  <button class=\"button number\" (click)=\"playground.throwNumber([0,0])\" [disabled]=\"!playground.zeroEnabled\">\r\n    <div class=\"field-number\">0</div>\r\n  </button>\r\n</div>\r\n","import {Component, Input, ViewEncapsulation} from '@angular/core';\r\nimport {Player} from '~models/player.model';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\n\r\n@Component({\r\n  selector: 'app-player-score',\r\n  templateUrl: './player-score.component.html',\r\n  styleUrls: ['./player-score.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class PlayerScoreComponent {\r\n  @Input() player: Player;\r\n  @Input() hasContent = true;\r\n  @Input() scoreDisplayed = true;\r\n  @Input() lifeDisplayed = false;\r\n  @Input() highlighted = false;\r\n\r\n  constructor(public readonly application: ApplicationStateService) {\r\n  }\r\n}\r\n","<div class=\"player_info\" [class.player_info_visual]=\"!application.settings.details\">\r\n  <div class=\"name\"><mat-icon *ngIf=\"highlighted\">offline_bolt</mat-icon>{{player.name}}</div>\r\n  <div class=\"shoots\">\r\n    <div class=\"shoot\">{{!player.throws[0] ? '-' : player.throws[0]}}</div>\r\n    <div class=\"shoot\">{{!player.throws[1] ? '-' : player.throws[1]}}</div>\r\n    <div class=\"shoot\">{{!player.throws[2] ? '-' : player.throws[2]}}</div>\r\n    <div class=\"shoot total\" *ngIf=\"scoreDisplayed\">{{!player.getThrowsTotal() ? '0' : player.getThrowsTotal()}}</div>\r\n  </div>\r\n  <div class=\"clear\"></div>\r\n  <div class=\"line\" *ngIf=\"hasContent && application.settings.details\"></div>\r\n  <ng-content *ngIf=\"application.settings.details\"></ng-content>\r\n  <div class=\"line-space\" *ngIf=\"scoreDisplayed || lifeDisplayed\"></div>\r\n  <div class=\"score\" *ngIf=\"scoreDisplayed && !lifeDisplayed\">{{player.score}}</div>\r\n  <div class=\"score\" *ngIf=\"!scoreDisplayed && lifeDisplayed\"><label>Life: </label>{{player.life}}</div>\r\n  <div class=\"score\" *ngIf=\"scoreDisplayed && lifeDisplayed\">\r\n    <label>Life: </label>{{player.life}}\r\n    <label>Score: </label>{{player.score}}\r\n  </div>\r\n  <div class=\"clear\"></div>\r\n</div>\r\n","import {Component, Input} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {MatAutocompleteSelectedEvent} from '@angular/material/autocomplete';\r\n\r\n@Component({\r\n  selector: 'app-player-settings',\r\n  templateUrl: './player-settings.component.html',\r\n  styleUrls: ['./player-settings.component.scss']\r\n})\r\nexport class PlayerSettingsComponent {\r\n  @Input() playground: Playground<PlaygroundState>;\r\n  storedPlayers = [];\r\n\r\n  constructor(private application: ApplicationStateService) {\r\n    this.storedPlayers = this.application.getStoredPlayers();\r\n  }\r\n\r\n  getOptions() {\r\n    return this.storedPlayers.filter(o => this.playground.game.players\r\n      .map(p => p.name).indexOf(o) === -1);\r\n  }\r\n\r\n  addPlayer(playerNameInput: any) {\r\n    this.playground.addPlayer(playerNameInput);\r\n    this.storedPlayers = this.application.getStoredPlayers();\r\n  }\r\n\r\n  playerSelected(event: MatAutocompleteSelectedEvent, playerNameInput: HTMLInputElement) {\r\n    this.playground.addPlayer(event.option);\r\n    this.storedPlayers = this.application.getStoredPlayers();\r\n    playerNameInput.value = '';\r\n    playerNameInput.blur();\r\n  }\r\n}\r\n","<div class=\"add-player\">\r\n  <mat-form-field appearance=\"outline\" class=\"big\">\r\n    <mat-label>Player name</mat-label>\r\n    <input #playerNameInput type=\"text\" matInput placeholder=\"Enter name\"\r\n      [disabled]=\"!playground.canAddPlayer()\" [matAutocomplete]=\"auto\">\r\n    <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"playerSelected($event, playerNameInput)\">\r\n      <mat-option *ngFor=\"let option of getOptions()\" [value]=\"option\">\r\n        {{option}}\r\n      </mat-option>\r\n    </mat-autocomplete>\r\n  </mat-form-field>\r\n  <button mat-icon-button (click)=\"addPlayer(playerNameInput)\" [disabled]=\"!playground.canAddPlayer()\"><mat-icon>add_circle</mat-icon></button>\r\n</div>\r\n<div class=\"player-table\">\r\n  <div class=\"player-row\" *ngFor=\"let player of playground.game.players; let i = index\">\r\n    <div class=\"player-name\">{{player.name}}</div>\r\n    <button mat-icon-button (click)=\"playground.removePlayer(player)\"><mat-icon>remove_circle</mat-icon></button>\r\n  </div>\r\n</div>\r\n","import {Component, Input, ViewEncapsulation} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {DialogService} from '~services/dialog.service';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.component.html',\r\n  styleUrls: ['./settings.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SettingsComponent {\r\n  @Input() playground: Playground<PlaygroundState>;\r\n\r\n  constructor(private readonly dialogService: DialogService) {\r\n  }\r\n\r\n  openStatistics() {\r\n    this.dialogService.openGameStatisticsDialog(this.playground.getGameStatistics());\r\n  }\r\n\r\n  openHistory() {\r\n    this.dialogService.openGameHistory(this.playground.getGameHistory());\r\n  }\r\n}\r\n","<div class=\"settings\">\r\n  <h1>{{playground.gameTitle}} Settings</h1>\r\n  <h2>Players</h2>\r\n  <app-player-settings [playground]=\"playground\"></app-player-settings>\r\n  <mat-divider></mat-divider>\r\n  <ng-content></ng-content>\r\n  <mat-divider></mat-divider>\r\n  <button class=\"button shortmedium\" (click)=\"openStatistics()\">Player rank</button>\r\n  <button class=\"button shortmedium\" (click)=\"openHistory()\">Game history</button>\r\n  <mat-divider></mat-divider>\r\n  <button class=\"button big\" color=\"primary\" (click)=\"playground.newGame()\">Start</button>\r\n  <button class=\"button big\" (click)=\"playground.quit()\">Cancel</button>\r\n</div>\r\n","export class ApplicationSettings {\r\n  theme = 0;\r\n  details = 0;\r\n}\r\n","export class FieldValue {\n  field: number;\n  value: number;\n\n  constructor(field: number, value: number) {\n    this.field = field;\n    this.value = value;\n  }\n\n  clone(): FieldValue {\n    return new FieldValue(this.field, this.value);\n  }\n}\n","export class GameStatistics {\r\n  g: string;\r\n  w: string[];\r\n  l: string[];\r\n  r: number;\r\n  s: string;\r\n  f: string;\r\n  c?: string;\r\n}\r\n","import {Throw} from './throw.model';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\n\r\nexport class Player {\r\n  score = 0;\r\n  throws: number[] = [];\r\n  throwsHistory: Throw[];\r\n  win = false;\r\n  winDateTime = 0;\r\n  first = true;\r\n  state: PlaygroundState;\r\n  life = 1;\r\n\r\n  constructor(public id: number, public name = '') {\r\n  }\r\n\r\n  setWin(win = true) {\r\n    this.win = win;\r\n    this.winDateTime = win ? new Date().getTime() : 0;\r\n  }\r\n\r\n  getThrowsTotal(): number {\r\n    return this.throws.reduce((a, b) => a + b, 0);\r\n  }\r\n\r\n  addThrowHistory(thr: Throw) {\r\n    this.throwsHistory.push(thr);\r\n  }\r\n\r\n  isInactive(): boolean {\r\n    return this.life <= 0;\r\n  }\r\n\r\n  reset() {\r\n    this.score = 0;\r\n    this.throws = [];\r\n    this.throwsHistory = [];\r\n    this.win = false;\r\n    this.winDateTime = 0;\r\n    this.first = true;\r\n  }\r\n\r\n  clone(): Player {\r\n    const player = new Player(this.id, this.name);\r\n    player.score = this.score;\r\n    player.life = this.life;\r\n    player.throws = [];\r\n    this.throws.forEach(t => {\r\n      player.throws.push(t);\r\n    });\r\n    player.throwsHistory = this.throwsHistory;\r\n    player.win = this.win;\r\n    player.winDateTime = this.winDateTime;\r\n    player.first = this.first;\r\n    player.throwsHistory = [];\r\n    this.throwsHistory.forEach(throws => {\r\n      player.throwsHistory.push(throws.clone());\r\n    });\r\n    if (this.state) {\r\n      player.state = this.state.clone();\r\n    }\r\n    return player;\r\n  }\r\n}\r\n","import {FieldValue} from './field-value.model';\r\n\r\nexport abstract class PlaygroundState {\r\n\r\n  getFieldValue(list: FieldValue[], fieldIndex: number): FieldValue {\r\n    const filtered = list.filter(f => f.field === fieldIndex);\r\n    if (filtered.length === 0) {\r\n      list.push(new FieldValue(fieldIndex, 0));\r\n    }\r\n    return list.filter(f => f.field === fieldIndex)[0];\r\n  }\r\n\r\n  isInactive(): boolean {\r\n    return false;\r\n  }\r\n\r\n  abstract clone(): PlaygroundState;\r\n}\r\n","import {OnInit} from '@angular/core';\r\nimport {v4 as uuid} from 'uuid';\r\nimport {Player} from './player.model';\r\nimport {Throw} from './throw.model';\r\nimport {Router} from '@angular/router';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {GameService} from '~services/game.service';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {STAT_NAME_SEPARATOR, StatisticsService} from '~services/statistics.service';\r\nimport {GameStatistics} from '~models/game-statistics.model';\r\nimport {PlayerStatistics} from '~models/player-statistics.model';\r\nimport {BotService, PLAYER_NAME} from '~services/bot.service';\r\nimport {BehaviorSubject} from 'rxjs';\r\n\r\nexport const FIELDS_COUNT = 21;\r\nconst MAXIMUM_NUMBER_OF_PLAYERS = 6;\r\n\r\nexport abstract class Playground<T extends PlaygroundState> implements OnInit {\r\n\r\n  throwEnabled = true;\r\n  settingsOpen = true;\r\n  gameHistory: GameService[];\r\n  nextEnabled = true;\r\n  zeroEnabled = true;\r\n  multiEnabled = true;\r\n  playground = this;\r\n  multiplier: number;\r\n  extraEndingMsg: string;\r\n  gameStatistics: GameStatistics;\r\n  hasChanges = new BehaviorSubject<number>(Date.now());\r\n\r\n  protected constructor(public gameTitle: string,\r\n                        public application: ApplicationStateService,\r\n                        public game: GameService,\r\n                        public route: Router,\r\n                        public dialogService: DialogService,\r\n                        public soundService: SoundService,\r\n                        public botService: BotService,\r\n                        public statisticsService: StatisticsService,\r\n                        public gameName: string,\r\n                        public minimumNumberOfPlayers = 1,\r\n                        public maximumNumberOfPlayers?: number) {\r\n  }\r\n\r\n  static getFieldValueFromIndex(fieldIndex: number): number {\r\n    return fieldIndex === 20 ? 25 : fieldIndex + 1;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.settingsOpen = true;\r\n    this.extraEndingMsg = '';\r\n  }\r\n\r\n  throwNumber(args: number[]) {\r\n    const score = args[0];\r\n    const scoreReal = args[1];\r\n    if (this.throwEnabled) {\r\n      this.saveGameInHistory();\r\n      this.throwEnabled = false;\r\n      if (score === 25 && this.multiplier === 3) {\r\n        this.multiplier = 1;\r\n      }\r\n\r\n      const actualPlayer = this.game.getActualPlayer();\r\n      const fieldIndex = score === 25 ? 20 : score - 1;\r\n\r\n      actualPlayer.addThrowHistory(new Throw(score, this.multiplier, this.game.actualThrow));\r\n      if (this.game.actualThrow === 0) {\r\n        actualPlayer.throws = [];\r\n      }\r\n      actualPlayer.throws[this.game.actualThrow] = score * this.multiplier;\r\n      this.game.actualThrow++;\r\n\r\n      this.calculatePoints(actualPlayer, fieldIndex, score, scoreReal);\r\n      this.checkPlayerState(actualPlayer);\r\n\r\n      let gameEnded = false;\r\n      this.multiplier = 1;\r\n      const winners = this.game.players.filter(p => p.win);\r\n      if (winners.length > 0) {\r\n        if ((this.game.victoryFirst || this.game.getNumberOfPlayers() - winners.length <= 1) || !this.game.victoryFirst) {\r\n          const content = this.extraEndingMsg ? this.extraEndingMsg : 'Round: #' + (this.game.round + 1);\r\n          this.finishStatistics();\r\n          this.dialogService.openDialog('Game Over!', content, this.getTheFinalResult());\r\n          this.newGame(true);\r\n          gameEnded = true;\r\n        } else {\r\n          while (this.game.getActualPlayer().win) {\r\n            this.game.nextPlayer();\r\n          }\r\n        }\r\n      }\r\n\r\n      const activePlayers = this.game.players.filter(p => !this.getPlayerState(p) || !this.getPlayerState(p).isInactive());\r\n      if (!activePlayers.length) {\r\n        const content = this.extraEndingMsg ? this.extraEndingMsg : 'Round: #' + (this.game.round + 1);\r\n        this.finishStatistics();\r\n        this.dialogService.openDialog('Game Over!', content, this.getTheFinalResult());\r\n        this.newGame(true);\r\n        gameEnded = true;\r\n      }\r\n\r\n      this.throwEnabled = true;\r\n\r\n      if (!gameEnded && this.game.getActualPlayer().name.toLowerCase().indexOf(PLAYER_NAME) !== -1) {\r\n        this.botThrow();\r\n      }\r\n    }\r\n  }\r\n\r\n  getPlayerState(player: Player): T {\r\n    return player.state as T;\r\n  }\r\n\r\n  canAddPlayer(): boolean {\r\n    return this.game.getNumberOfPlayers() < MAXIMUM_NUMBER_OF_PLAYERS;\r\n  }\r\n\r\n  addPlayer(name: any) {\r\n    if (!!name.value.trim().length && !this.game.players.some(p => p.name === name.value)) {\r\n      this.game.players.push(new Player(uuid(), name.value));\r\n      this.application.storePlayer(name.value);\r\n    }\r\n    name.value = '';\r\n  }\r\n\r\n  removePlayer(player: Player) {\r\n    this.game.players = this.game.players.filter(p => p !== player);\r\n  }\r\n\r\n  newGame(rotate = false) {\r\n    this.settingsOpen = !this.playerSettingsValidation() || !this.customSettingsValidation();\r\n    if (!this.playerSettingsValidation()) {\r\n      let msg = 'Number of players are incorrect.';\r\n      if (this.minimumNumberOfPlayers) {\r\n        msg += ` (minimum: ${this.minimumNumberOfPlayers}`;\r\n      }\r\n      if (this.maximumNumberOfPlayers) {\r\n        msg += (this.minimumNumberOfPlayers ? ', ' : ' (') + `maximum: ${this.maximumNumberOfPlayers}).`;\r\n      } else {\r\n        msg += this.minimumNumberOfPlayers ? ').' : '.';\r\n      }\r\n      this.dialogService.openErrorDialog('Error!', msg);\r\n    } else if (this.settingsOpen) {\r\n      this.dialogService.openErrorDialog('Error!', 'Settings is incorrect.');\r\n    }\r\n    if (rotate) {\r\n      this.game.rotatePlayers();\r\n    }\r\n    this.reset();\r\n    this.hasChanges.next(Date.now());\r\n  }\r\n\r\n  triplePoint() {\r\n    this.multiplier = this.multiplier === 3 ? 1 : 3;\r\n  }\r\n\r\n  doublePoint() {\r\n    this.multiplier = this.multiplier === 2 ? 1 : 2;\r\n  }\r\n\r\n  undo() {\r\n    if (this.gameHistory.length > 0) {\r\n      this.game = this.gameHistory.pop();\r\n      this.hasChanges.next(Date.now());\r\n    }\r\n  }\r\n\r\n  skip() {\r\n    const actThrow = this.game.actualThrow;\r\n    this.throwNumber([0, 0]);\r\n    if (actThrow !== 2) {\r\n      this.skip();\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.gameHistory = [];\r\n    this.game.resetScore();\r\n    this.multiplier = 1;\r\n    this.extraEndingMsg = '';\r\n    this.game.actualFieldIndex = 0;\r\n    this.customReset();\r\n    this.startStatistics();\r\n  }\r\n\r\n  quit() {\r\n    this.reset();\r\n    this.route.navigate(['/']);\r\n  }\r\n\r\n  customSettingsValidation(): boolean {\r\n    return true;\r\n  }\r\n\r\n  isFieldEnabled(fieldIndex: number): boolean {\r\n    return true;\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return false;\r\n  }\r\n\r\n  isSecondaryField(fieldIndex: number): boolean {\r\n    return false;\r\n  }\r\n\r\n  isAlertField(fieldIndex: number): boolean {\r\n    return false;\r\n  }\r\n\r\n  getFieldIcon(fieldIndex: number): string {\r\n    return '';\r\n  }\r\n\r\n  getFieldNote(fieldIndex: number): string {\r\n    return '';\r\n  }\r\n\r\n  decoratePlayerStat(player: Player): string {\r\n    return player.name + STAT_NAME_SEPARATOR + player.score;\r\n  }\r\n\r\n  getGameConfig(): string {\r\n    return '';\r\n  }\r\n\r\n  botThrow() {\r\n  }\r\n\r\n  getGameStatistics(): PlayerStatistics[] {\r\n    const statistics = this.statisticsService.getGameStatistics(this.playground.gameName);\r\n    const players: PlayerStatistics[] = [];\r\n    statistics.forEach(stat => {\r\n      this.parseStatistics(stat, 'l', players);\r\n      this.parseStatistics(stat, 'w', players);\r\n    });\r\n    return players;\r\n  }\r\n\r\n  getGameHistory(): GameStatistics[] {\r\n    return this.statisticsService.getGameStatistics(this.playground.gameName);\r\n  }\r\n\r\n  getTheFinalResult(): Player[] {\r\n    let winners = this.game.players.filter(p => p.win);\r\n    winners = winners.sort((p1, p2) => p1.winDateTime < p2.winDateTime ? -1 : 1)\r\n      .slice(0, 1).map(p => p.clone());\r\n    const losers = this.game.players.filter(p => !winners.some(w => w.id === p.id))\r\n      .map(p => {\r\n        const c = p.clone();\r\n        c.win = false;\r\n        return c;\r\n      });\r\n    return [...winners, ...losers];\r\n  }\r\n\r\n  private startStatistics() {\r\n    this.gameStatistics = new GameStatistics();\r\n    this.gameStatistics.s = new Date().toISOString();\r\n    this.gameStatistics.g = this.gameName;\r\n  }\r\n\r\n  private finishStatistics() {\r\n    this.gameStatistics.f = new Date().toISOString();\r\n    this.gameStatistics.w = this.game.players.filter(p => p.win).map(p => this.decoratePlayerStat(p));\r\n    this.gameStatistics.l = this.game.players.filter(p => !p.win).map(p => this.decoratePlayerStat(p));\r\n    this.gameStatistics.r = this.game.round;\r\n    this.gameStatistics.c = this.getGameConfig();\r\n    this.statisticsService.saveStatistics(this.gameStatistics);\r\n  }\r\n\r\n  private parseStatistics(stat: GameStatistics, field: 'w' | 'l', players: PlayerStatistics[]) {\r\n    stat[field].forEach(p => {\r\n      const name = p.split(STAT_NAME_SEPARATOR)[0];\r\n      let player = players.find(pl => pl.n === name);\r\n      if (!player) {\r\n        player = {n: name, w: 0, l: 0};\r\n        players.push(player);\r\n      }\r\n      player[field]++;\r\n    });\r\n  }\r\n\r\n  private playerSettingsValidation(): boolean {\r\n    const players: Player[] = [];\r\n    this.game.players.forEach(player => {\r\n      if (player.name.length !== 0) {\r\n        players.push(player);\r\n      }\r\n    });\r\n    this.game.players = players;\r\n    return players.length >= this.minimumNumberOfPlayers &&\r\n      (!this.maximumNumberOfPlayers || players.length <= this.maximumNumberOfPlayers);\r\n  }\r\n\r\n  private saveGameInHistory() {\r\n    this.gameHistory.push(this.game.clone());\r\n  }\r\n\r\n  abstract customReset(): void;\r\n\r\n  abstract calculatePoints(player: Player, fieldIndex: number, score: number, scoreReal?: number);\r\n\r\n  abstract checkPlayerState(player: Player);\r\n}\r\n","export class Throw {\n  field: string;\n\n  constructor(public score: number, public multi: number, public order: number) {\n    this.field = this.score === 25 ? 'B' :  this.score + '';\n  }\n\n  clone(): Throw {\n    return new Throw(this.score, this.multi, this.order);\n  }\n}\n","import {Injectable} from '@angular/core';\r\nimport {ApplicationSettings} from '~models/application-settings.model';\r\nimport {theme} from '../../theme.constant';\r\nimport {Theme} from '~models/theme.model';\r\n\r\nconst APPLICATION_KEY = 'ApplicationSettings';\r\nconst PLAYER_KEY = 'Players';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class ApplicationStateService {\r\n\r\n  private availableThemes: Theme[] = [theme];\r\n  settings = new ApplicationSettings();\r\n\r\n  constructor() {\r\n    const data = localStorage.getItem(APPLICATION_KEY);\r\n    if (data) {\r\n      this.settings = JSON.parse(data);\r\n    }\r\n    // this.setTheme();\r\n  }\r\n\r\n  toggleColorTheme() {\r\n    this.settings.theme = (this.settings.theme + 1) % this.availableThemes.length;\r\n    this.setTheme();\r\n    this.saveSettings();\r\n  }\r\n\r\n  toggleDetails() {\r\n    this.settings.details = (this.settings.details + 1) % 2;\r\n    this.saveSettings();\r\n  }\r\n\r\n  getStoredPlayers(): string[] {\r\n    const data = localStorage.getItem(PLAYER_KEY);\r\n    if (data) {\r\n      return JSON.parse(data);\r\n    }\r\n    return [];\r\n  }\r\n\r\n  storePlayer(name: string) {\r\n    const players = [name, ...this.getStoredPlayers()].filter((v, i, a) => a.indexOf(v) === i);\r\n    localStorage.setItem(PLAYER_KEY, JSON.stringify(players));\r\n  }\r\n\r\n  private setTheme() {\r\n    if (this.settings.theme >= this.availableThemes.length) {\r\n      this.settings.theme = 0;\r\n    }\r\n    Object.keys(this.availableThemes[this.settings.theme].properties).forEach(property => {\r\n      document.documentElement.style.setProperty(\r\n        property,\r\n        this.availableThemes[this.settings.theme].properties[property]\r\n      );\r\n    });\r\n  }\r\n\r\n  private saveSettings() {\r\n    localStorage.setItem(APPLICATION_KEY, JSON.stringify(this.settings));\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\nexport const PLAYER_NAME = 'phil';\r\nexport const PLAYER_DELAY = 1000;\r\nexport const PLAYER_DELAY_FAST = 500;\r\nconst MAX_LEVEL = 20;\r\nconst PLAYER_LEVEL = 9;\r\n\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class BotService {\r\n\r\n  calculateMultiTarget(targets: number[]): number  {\r\n    const random = Math.floor(Math.random() * targets.length);\r\n    return this.calculateTarget(targets[random]);\r\n  }\r\n\r\n  calculateTarget(target: number): number {\r\n    let actual = Math.floor(Math.random() * MAX_LEVEL) + 1;\r\n    actual = target === 20 ? (actual + 3) : actual;\r\n    if (actual <= PLAYER_LEVEL) {\r\n      return target;\r\n    } else {\r\n      const upOrBottomLine = Math.floor(Math.random() * 3);\r\n      const mistakeLevel = ((actual - PLAYER_LEVEL) > 4 ? 4 : (actual - PLAYER_LEVEL)) - 1;\r\n\r\n      if (mistakeLevel === 3) {\r\n        return 0;\r\n      }\r\n      return TARGET_MATRIX[target][mistakeLevel][upOrBottomLine] - 1;\r\n    }\r\n  }\r\n\r\n  isDoublePoint(): boolean {\r\n    return Math.floor(Math.random() * 100) < 15;\r\n  }\r\n\r\n  isTriplePoint(): boolean {\r\n    return Math.floor(Math.random() * 100) < 5;\r\n  }\r\n}\r\n\r\nconst TARGET_MATRIX = [\r\n  [ // 1\r\n    [20,18,5],\r\n    [5, 4, 12],\r\n    [12, 13, 7]\r\n  ],\r\n  [ // 2\r\n    [15, 17, 10],\r\n    [10, 3, 6],\r\n    [6, 19, 9]\r\n  ],\r\n  [ // 3\r\n    [17, 19, 2],\r\n    [2, 7, 15],\r\n    [15, 16, 5]\r\n  ],\r\n  [ // 4\r\n    [18, 13, 1],\r\n    [1, 6, 20],\r\n    [20, 10, 8]\r\n  ],\r\n  [ // 5\r\n    [12, 20, 9],\r\n    [9, 1, 14],\r\n    [14, 18, 2]\r\n  ],\r\n  [ // 6\r\n    [13, 10, 4],\r\n    [4, 15, 18],\r\n    [18, 2, 8]\r\n  ],\r\n  [ // 7\r\n    [19, 16, 8],\r\n    [3, 8, 17],\r\n    [17, 11, 1]\r\n  ],\r\n  [ // 8\r\n    [16, 11, 7],\r\n    [7, 14, 9],\r\n    [19, 9, 6]\r\n  ],\r\n  [ // 9\r\n    [14, 12, 11],\r\n    [11, 5, 20],\r\n    [8, 20, 10]\r\n  ],\r\n  [ // 10\r\n    [6, 15, 13],\r\n    [13, 2, 4],\r\n    [4, 17, 11]\r\n  ],\r\n  [ // 11\r\n    [8, 14, 16],\r\n    [16, 9, 12],\r\n    [7, 12, 10]\r\n  ],\r\n  [ // 12\r\n    [9, 5, 14],\r\n    [14, 20, 11],\r\n    [11, 1, 15]\r\n  ],\r\n  [ // 13\r\n    [4, 6, 18],\r\n    [18, 10, 15],\r\n    [1, 15, 16]\r\n  ],\r\n  [ // 14\r\n    [11, 9, 16],\r\n    [8, 12, 5],\r\n    [16, 5, 15]\r\n  ],\r\n  [ // 15\r\n    [10, 2, 6],\r\n    [6, 17, 13],\r\n    [13, 3, 14]\r\n  ],\r\n  [ // 16\r\n    [7, 8, 11],\r\n    [19, 11, 14],\r\n    [3, 14, 13]\r\n  ],\r\n  [ // 17\r\n    [2, 3, 15],\r\n    [15, 19, 7],\r\n    [10, 7, 12]\r\n  ],\r\n  [ // 18\r\n    [1, 4, 20],\r\n    [20, 13, 6],\r\n    [5, 6, 19]\r\n  ],\r\n  [ // 19\r\n    [3, 7, 17],\r\n    [17, 16, 8],\r\n    [2, 8, 18]\r\n  ],\r\n  [ // 20\r\n    [5, 1, 12],\r\n    [12, 18, 9],\r\n    [9, 4, 19]\r\n  ],\r\n  [ // BULL\r\n    [20, 3, 6],\r\n    [1, 19, 11],\r\n    [18, 7, 8]\r\n  ]\r\n];\r\n","import {Injectable} from '@angular/core';\r\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\r\nimport {DialogComponent} from '~components/dialog/dialog.component';\r\nimport {Player} from '~models/player.model';\r\nimport {ConfirmDialogComponent} from '~components/confirm-dialog/confirm-dialog.component';\r\nimport {PlayerStatistics} from '~models/player-statistics.model';\r\nimport {GameStatisticsDialogComponent} from '~components/game-statistics-dialog/game-statistics-dialog.component';\r\nimport {GameHistoryDialogComponent} from '~components/game-history-dialog/game-history-dialog.component';\r\nimport {GameStatistics} from '~models/game-statistics.model';\r\nimport {GameTypeStatistics} from '~models/game-type-statistics.model';\r\nimport {GameTypeStatisticsDialogComponent} from '~components/game-type-statistics-dialog/game-type-statistics-dialog.component';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class DialogService {\r\n\r\n  constructor(private dialog: MatDialog) {\r\n  }\r\n\r\n  openDialog(title = '', content = '', players: Player[] = []): MatDialogRef<DialogComponent> {\r\n    return this.dialog.open(DialogComponent, {\r\n      panelClass: 'success-dialog',\r\n      data: {title, content, players},\r\n    });\r\n  }\r\n\r\n  openGameStatisticsDialog(statistics: PlayerStatistics[]) {\r\n    return this.dialog.open(GameStatisticsDialogComponent, {\r\n      data: {statistics},\r\n    });\r\n  }\r\n\r\n  openGameHistory(statistics: GameStatistics[]) {\r\n    return this.dialog.open(GameHistoryDialogComponent, {\r\n      data: {statistics},\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      height: '100%',\r\n      width: '100%'\r\n    });\r\n  }\r\n\r\n  openGameTypeStatistics(statistics: GameTypeStatistics[]) {\r\n    return this.dialog.open(GameTypeStatisticsDialogComponent, {\r\n      data: {statistics},\r\n    });\r\n  }\r\n\r\n  openErrorDialog(title = '', content = ''): MatDialogRef<DialogComponent> {\r\n    return this.dialog.open(DialogComponent, {\r\n      panelClass: 'error-dialog',\r\n      data: {title, content, players: []},\r\n    });\r\n  }\r\n\r\n  openConfirmDialog(title = '', content = ''): MatDialogRef<ConfirmDialogComponent> {\r\n    return this.dialog.open(ConfirmDialogComponent, {\r\n      panelClass: 'confirm-dialog',\r\n      data: {title, content, players: []},\r\n    });\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {Player} from '../models/player.model';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class GameService {\r\n  players: Player[] = [];\r\n  actualPlayerIndex: number;\r\n  actualThrow: number;\r\n  actualFieldIndex = 0;\r\n  round: number;\r\n  victoryFirst = true;\r\n  numbs: number[] = [];\r\n\r\n  toggleVictoryFirst() {\r\n    this.victoryFirst = !this.victoryFirst;\r\n  }\r\n\r\n  isTheLastThrow(): boolean {\r\n    return this.actualThrow === 3;\r\n  }\r\n\r\n  getActualPlayer(): Player {\r\n    return this.players[this.actualPlayerIndex];\r\n  }\r\n\r\n  getActivePlayers(): Player[] {\r\n    return this.players.filter(p => !p.isInactive());\r\n  }\r\n\r\n  getNextPlayer(): Player {\r\n    let index = this.actualPlayerIndex + 1 === this.players.length ? 0 : this.actualPlayerIndex + 1;\r\n    while (this.players[index].isInactive()) {\r\n      index = index + 1 === this.players.length ? 0 : index + 1;\r\n    }\r\n    return this.players[index];\r\n  }\r\n\r\n  getPreviousPlayer(): Player {\r\n    let index = this.actualPlayerIndex === 0 ? this.players.length - 1 : this.actualPlayerIndex - 1;\r\n    while (this.players[index].isInactive()) {\r\n      index = index === 0 ? this.players.length - 1 : index - 1;\r\n    }\r\n    return this.players[index];\r\n  }\r\n\r\n  nextPlayer(): void {\r\n    if (this.isActualPlayerTheLast()) {\r\n      this.nextRound();\r\n    }\r\n    this.actualPlayerIndex = (this.actualPlayerIndex + 1) % this.getNumberOfPlayers();\r\n    this.actualThrow = 0;\r\n  }\r\n\r\n  getNumberOfPlayers(): number {\r\n    return this.players.length;\r\n  }\r\n\r\n  getTheFirstPlayer(): Player {\r\n    return this.players[0];\r\n  }\r\n\r\n  isTheFirstPlayer(player: Player): boolean {\r\n    return player.id === this.getTheFirstPlayer().id;\r\n  }\r\n\r\n  isActualPlayerIsTheFirst(): boolean {\r\n    return this.isTheFirstPlayer(this.getActualPlayer());\r\n  }\r\n\r\n  getTheLastPlayer(): Player {\r\n    return this.players[this.getNumberOfPlayers() - 1];\r\n  }\r\n\r\n  isTheLastPlayer(player: Player): boolean {\r\n    return player.id === this.getTheLastPlayer().id;\r\n  }\r\n\r\n  isActualPlayerTheLast(): boolean {\r\n    return this.isTheLastPlayer(this.getActualPlayer());\r\n  }\r\n\r\n  getTheBestPlayers(): Player[] {\r\n    const activePlayers = this.getActivePlayers();\r\n    const list = activePlayers.length ? activePlayers : this.players;\r\n    let max = list[0].score;\r\n    list.forEach(p => {\r\n      max = p.score > max ? p.score : max;\r\n    });\r\n    return list.filter(p => p.score === max);\r\n  }\r\n\r\n  getTheWorstPlayers(): Player[] {\r\n    const activePlayers = this.getActivePlayers();\r\n    const list = activePlayers.length ? activePlayers : this.players;\r\n    let min = list[0].score;\r\n    list.forEach(p => {\r\n      min = p.score < min ? p.score : min;\r\n    });\r\n    return list.filter(p => p.score === min);\r\n  }\r\n\r\n  isTheBestPlayer(actPlayer: Player): boolean {\r\n    const best = this.getTheBestPlayers();\r\n    return actPlayer.score === ((best && best.length) ? best[0].score : 0);\r\n  }\r\n\r\n  isTheWorstPlayer(actPlayer: Player): boolean {\r\n    let min = this.players[0].score;\r\n    this.players.forEach(player => {\r\n      min = player.score < min ? player.score : min;\r\n    });\r\n    return actPlayer.score === min;\r\n  }\r\n\r\n  nextRound(): void {\r\n    this.round++;\r\n  }\r\n\r\n  resetScore(): void {\r\n    this.players.forEach(player => player.reset());\r\n    this.actualPlayerIndex = 0;\r\n    this.actualThrow = 0;\r\n    this.round = 0;\r\n  }\r\n\r\n  rotatePlayers(): void {\r\n    this.players.push(this.players.shift());\r\n  }\r\n\r\n  clone(): GameService {\r\n    const game = new GameService();\r\n    game.actualPlayerIndex = this.actualPlayerIndex;\r\n    game.actualThrow = this.actualThrow;\r\n    game.actualFieldIndex = this.actualFieldIndex;\r\n    game.round = this.round;\r\n    game.numbs = this.numbs.map(n => n);\r\n    const players: Player[] = [];\r\n    this.players.forEach(player => {\r\n      players.push(player.clone());\r\n    });\r\n    game.players = players;\r\n    return game;\r\n  }\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class SoundService {\r\n\r\n  audioElement: HTMLAudioElement;\r\n\r\n  no() {\r\n    // this.play('oh_no.mp3');\r\n  }\r\n\r\n  private play(soundFileName: string) {\r\n    this.audioElement.src = `assets/sounds/${soundFileName}`;\r\n    this.audioElement.play();\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {StorageService} from '~services/storage.service';\r\nimport {GameStatistics} from '~models/game-statistics.model';\r\nimport {GameTypeStatistics} from '~models/game-type-statistics.model';\r\n\r\nexport const STAT_NAME_SEPARATOR = '____';\r\nconst STATISTICS_STORAGE_KEY = 'statistics';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class StatisticsService {\r\n\r\n  constructor(private readonly storageService: StorageService) {\r\n  }\r\n\r\n  saveStatistics(statistics: GameStatistics) {\r\n    const stat = this.storageService.getObject(STATISTICS_STORAGE_KEY);\r\n    if (stat) {\r\n      stat.push(statistics);\r\n      this.storageService.setObject(STATISTICS_STORAGE_KEY, stat);\r\n    } else {\r\n      this.storageService.setObject(STATISTICS_STORAGE_KEY, [statistics]);\r\n    }\r\n  }\r\n\r\n  getGameStatistics(gameName?: string): GameStatistics[] {\r\n    const statistics = this.storageService.getObject(STATISTICS_STORAGE_KEY);\r\n    return gameName ? statistics.filter(i => i.g === gameName) : statistics;\r\n  }\r\n\r\n  getPlayerStatistics(playerName: string, gameName?: string): GameStatistics[] {\r\n    const playerStat = this.storageService.getObject(STATISTICS_STORAGE_KEY).filter(i =>\r\n      i.l.some(p => p.indexOf(playerName) !== -1) ||\r\n      i.w.some(p => p.indexOf(playerName) !== -1));\r\n    return gameName ? playerStat.filter(i => i.g === gameName) : playerStat;\r\n  }\r\n\r\n  getGameTypeStatistics(): GameTypeStatistics[] {\r\n    const stat = this.storageService.getObject(STATISTICS_STORAGE_KEY) as GameStatistics[];\r\n    const games: GameTypeStatistics[] = [];\r\n    stat.forEach(s => {\r\n      let type = games.find(g => g.name === s.g);\r\n      if (!type) {\r\n        type = {name: s.g, count: 0};\r\n        games.push(type);\r\n      }\r\n      type.count++;\r\n    });\r\n    return games;\r\n  }\r\n\r\n  printStatistics() {\r\n    console.log(JSON.stringify(this.storageService.getObject(STATISTICS_STORAGE_KEY)));\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\n\n@Injectable({providedIn: 'root'})\nexport class StorageService {\n\n  storage: Storage;\n\n  constructor() {\n    this.storage = localStorage;\n  }\n\n  hasItem(key: string): boolean {\n    return !!this.getItem(key);\n  }\n\n  getItem(key: string): string {\n    return this.storage.getItem(key);\n  }\n\n  getObject(key: string): any {\n    return JSON.parse(this.getItem(key));\n  }\n\n  setItem(key: string, value: string) {\n    this.storage.setItem(key, value);\n  }\n\n  setObject(key: string, value: any) {\n    this.setItem(key, JSON.stringify(value));\n  }\n\n  removeItem(key: string) {\n    this.storage.removeItem(key);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {CommonModule} from '@angular/common';\nimport {MaterialModule} from '../material.module';\nimport {DialogComponent} from '~components/dialog/dialog.component';\nimport {GameToolbarComponent} from '~components/game-toolbar/game-toolbar.component';\nimport {NumberPlateComponent} from '~components/number-plate/number-plate.component';\nimport {PlayerSettingsComponent} from '~components/player-settings/player-settings.component';\nimport {SettingsComponent} from '~components/settings/settings.component';\nimport {PlayerScoreComponent} from '~components/player-score/player-score.component';\nimport {ConfirmDialogComponent} from '~components/confirm-dialog/confirm-dialog.component';\nimport {GameStatisticsDialogComponent} from '~components/game-statistics-dialog/game-statistics-dialog.component';\nimport {GameHistoryDialogComponent} from '~components/game-history-dialog/game-history-dialog.component';\nimport {GameTypeStatisticsDialogComponent} from '~components/game-type-statistics-dialog/game-type-statistics-dialog.component';\nimport {MenuComponent} from '~components/menu/menu.component';\nimport {RouterModule} from '@angular/router';\nimport {NumberPlateVisualComponent} from '~components/number-plate-visual/number-plate-visual.component';\nimport {NumberPlateShanghaiComponent} from '~components/number-plate-shanghai/number-plate-shanghai.component';\n\nconst components = [NumberPlateComponent, GameToolbarComponent, GameStatisticsDialogComponent, NumberPlateShanghaiComponent,\n  DialogComponent, PlayerSettingsComponent, SettingsComponent, PlayerScoreComponent, ConfirmDialogComponent, NumberPlateVisualComponent,\n  GameHistoryDialogComponent, GameTypeStatisticsDialogComponent, MenuComponent];\n\n@NgModule({\n  imports: [CommonModule, MaterialModule, RouterModule],\n  declarations: components,\n  exports: [CommonModule, FormsModule, MaterialModule, ...components],\n  entryComponents: [DialogComponent, GameStatisticsDialogComponent,\n    GameHistoryDialogComponent, GameTypeStatisticsDialogComponent]\n})\nexport class SharedModule {\n}\n","import {Theme} from '~models/theme.model';\r\n\r\nexport const theme: Theme = {\r\n  properties: {\r\n  }\r\n};\r\n","export class X01Settings {\n\n  startValue = 201;\n  start = 1;\n  checkout = 2;\n  punishment = true;\n\n  isNormalStart(): boolean {\n    return this.start === 1;\n  }\n\n  isDoubleStart(): boolean {\n    return this.start === 2;\n  }\n\n  isTripleStart(): boolean {\n    return this.start === 3;\n  }\n\n  isNormalCheckout(): boolean {\n    return this.checkout === 1;\n  }\n\n  isDoubleCheckout(): boolean {\n    return this.checkout === 2;\n  }\n\n  isTripleCheckout(): boolean {\n    return this.checkout === 3;\n  }\n\n  isHighScoreGame(): boolean {\n    return this.checkout === 4;\n  }\n\n  setStart(start: number) {\n    this.start = start;\n  }\n\n  setCheckout(checkout: number) {\n    this.checkout = checkout;\n  }\n\n  setStartValue(startValue: number) {\n    this.startValue = startValue;\n  }\n\n  togglePunishment() {\n    this.punishment = !this.punishment;\n  }\n}\n","import {Component} from '@angular/core';\r\nimport {Playground} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Player} from '~models/player.model';\r\nimport {Router} from '@angular/router';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\nimport {DialogService} from '~services/dialog.service';\r\nimport {slideInAnimation} from '../route-animation';\r\nimport {ApplicationStateService} from '~services/application-state.service';\r\nimport {X01Settings} from './models/x01.settings.model';\r\nimport {SoundService} from '~services/sound.service';\r\nimport {StatisticsService} from '~services/statistics.service';\r\nimport {BotService, PLAYER_DELAY} from '~services/bot.service';\r\n\r\n@Component({\r\n  templateUrl: './x01.component.html',\r\n  animations: [slideInAnimation],\r\n})\r\nexport class X01Component extends Playground<PlaygroundState> {\r\n\r\n  settings: X01Settings;\r\n\r\n  constructor(application: ApplicationStateService, game: GameService, route: Router,\r\n              dialogService: DialogService, soundService: SoundService, botService: BotService, statisticsService: StatisticsService) {\r\n    super('X01', application, game, route, dialogService, soundService, botService, statisticsService, 'x01');\r\n    this.settings = new X01Settings();\r\n  }\r\n\r\n  calculatePoints(player: Player, fieldIndex: number, score: number) {\r\n    const validStart = !player.first || this.settings.isNormalStart()\r\n      || (player.first\r\n        && ((this.settings.isDoubleStart() && this.multiplier === 2)\r\n          || (this.settings.isTripleStart() && this.multiplier === 3)));\r\n    if (validStart) {\r\n      const actualScore = score * this.multiplier;\r\n      player.first = false;\r\n      player.score -= actualScore;\r\n    }\r\n  }\r\n\r\n  checkPlayerState(player: Player) {\r\n    let next = false;\r\n    if (this.settings.punishment) {\r\n      this.game.players.filter(p => p.id !== player.id && p.score === player.score).forEach(p => p.score = this.settings.startValue);\r\n    }\r\n    if ((this.settings.isHighScoreGame() && player.score <= 0) ||\r\n      ((player.score === 0 && (this.settings.isNormalCheckout()\r\n        || (this.settings.isDoubleCheckout() && this.multiplier === 2)\r\n        || (this.settings.isTripleCheckout() && this.multiplier === 3))))) {\r\n      player.setWin();\r\n      next = true;\r\n    } else if (player.score <= 0\r\n      || (this.settings.isDoubleCheckout() && player.score < 2)\r\n      || (this.settings.isTripleCheckout() && player.score < 3)) {\r\n      player.throws.forEach(t => player.score += t);\r\n      next = true;\r\n      this.dialogService.openErrorDialog(`${this.game.getActualPlayer().name} busted!`);\r\n    }\r\n    if (this.game.isTheLastThrow() || next) {\r\n      this.game.nextPlayer();\r\n    }\r\n  }\r\n\r\n  customReset() {\r\n    this.game.players.forEach(player => player.score = this.settings.startValue);\r\n  }\r\n\r\n  getGameConfig(): string {\r\n    return this.settings.startValue + '';\r\n  }\r\n\r\n  botThrow() {\r\n    let target = Math.floor(Math.random() * 10) + 10;\r\n\r\n    if (!this.settings.isHighScoreGame()) {\r\n      const player = this.game.getActualPlayer();\r\n      if (player.score <= 20) {\r\n        if (this.settings.isNormalCheckout()) {\r\n          target = player.score - 1;\r\n        } else if (this.settings.isDoubleCheckout() && (player.score % 2) === 0) {\r\n          target = player.score / 2 - 1;\r\n          this.doublePoint();\r\n        } else if (this.settings.isDoubleCheckout() && (player.score % 2) === 1) {\r\n          target = 0;\r\n        } else if (this.settings.isTripleCheckout() && (player.score % 3) === 0) {\r\n          target = player.score / 3 - 1;\r\n          this.triplePoint();\r\n        } else if (this.settings.isTripleCheckout() && (player.score % 3) === 1) {\r\n          target = 0;\r\n        } else if (this.settings.isTripleCheckout() && (player.score % 3) === 2) {\r\n          target = 1;\r\n        }\r\n      }\r\n    } else {\r\n      if (this.botService.isDoublePoint()) {\r\n        this.doublePoint();\r\n      } else if (this.botService.isTriplePoint()) {\r\n        this.triplePoint();\r\n      }\r\n    }\r\n    const index = this.botService.calculateTarget(target);\r\n    setTimeout(() => {\r\n      this.throwNumber([this.isFieldEnabled(index) ? Playground.getFieldValueFromIndex(index) : 0,\r\n        Playground.getFieldValueFromIndex(index)]);\r\n    }, PLAYER_DELAY);\r\n  }\r\n\r\n  getInfo(): number {\r\n    return  this.game.getActualPlayer().score;\r\n  }\r\n\r\n  isPrimaryField(fieldIndex: number): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div id=\"playgroundContent\">\r\n\r\n  <app-settings *ngIf=\"settingsOpen\" [playground]=\"playground\">\r\n    <h2>Games</h2>\r\n    <button class=\"button\" [class.primary]=\"settings.startValue===101\"\r\n            (click)=\"settings.setStartValue(101)\">101\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.startValue===201\"\r\n            (click)=\"settings.setStartValue(201)\">201\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.startValue===301\"\r\n            (click)=\"settings.setStartValue(301)\">301\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.startValue===501\"\r\n            (click)=\"settings.setStartValue(501)\">501\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.startValue===701\"\r\n            (click)=\"settings.setStartValue(701)\">701\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.startValue===901\"\r\n            (click)=\"settings.setStartValue(901)\">901\r\n    </button>\r\n    <button class=\"button\" [class.primary]=\"settings.punishment\" (click)=\"settings.togglePunishment()\">\r\n      Punishment\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Check In</h2>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.start===1\"\r\n            (click)=\"settings.setStart(1)\">Normal\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.start===2\"\r\n            (click)=\"settings.setStart(2)\">Double\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.start===3\"\r\n            (click)=\"settings.setStart(3)\">Triple\r\n    </button>\r\n    <mat-divider></mat-divider>\r\n\r\n    <h2>Check Out</h2>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.checkout===1\"\r\n            (click)=\"settings.setCheckout(1)\">Single\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.checkout===2\"\r\n            (click)=\"settings.setCheckout(2)\">Double\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.checkout===3\"\r\n            (click)=\"settings.setCheckout(3)\">Triple\r\n    </button>\r\n    <button class=\"button shortmedium\" [class.primary]=\"settings.checkout===4\"\r\n            (click)=\"settings.setCheckout(4)\">High Score\r\n    </button>\r\n  </app-settings>\r\n\r\n  <div class=\"side-left\" [class.detailed]=\"application.settings.details\">\r\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\" [info]=\"getInfo()\"></app-game-toolbar>\r\n    <div class=\"player_container\" *ngIf=\"!settingsOpen\" [class.visual]=\"!application.settings.details\">\r\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\r\n           *ngFor=\"let player of game.players; let i = index\">\r\n        <app-player-score [player]=\"player\" [hasContent]=\"false\"></app-player-score>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-number-plate-visual [playground]=\"playground\" *ngIf=\"!settingsOpen && !application.settings.details\">\r\n  </app-number-plate-visual>\r\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen && application.settings.details\"></app-number-plate>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {X01Component} from './x01.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: X01Component}\r\n    ])\r\n  ],\r\n  declarations: [X01Component]\r\n})\r\nexport class X01Module {\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  appVersion: require('../../package.json').version,\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}