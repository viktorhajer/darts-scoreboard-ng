{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/aroundclock/around-clock.component.ts","webpack:///src/app/aroundclock/around-clock.component.html","webpack:///src/app/aroundclock/around-clock.module.ts","webpack:///src/app/aroundclock/models/settings.model.ts","webpack:///src/app/aroundclock/models/state.model.ts","webpack:///src/app/chase-dragon/chase-dragon.component.ts","webpack:///src/app/chase-dragon/chase-dragon.component.html","webpack:///src/app/chase-dragon/chase-dragon.module.ts","webpack:///src/app/chase-dragon/models/settings.model.ts","webpack:///src/app/chase-dragon/models/state.model.ts","webpack:///src/app/components/menu/menu.component.ts","webpack:///src/app/components/menu/menu.component.html","webpack:///src/app/cricket/cricket.component.ts","webpack:///src/app/cricket/cricket.component.html","webpack:///src/app/cricket/cricket.module.ts","webpack:///src/app/cricket/models/settings.model.ts","webpack:///src/app/cricket/models/state.model.ts","webpack:///src/app/killer/killer.component.ts","webpack:///src/app/killer/killer.component.html","webpack:///src/app/killer/killer.module.ts","webpack:///src/app/killer/models/settings.model.ts","webpack:///src/app/killer/models/state.model.ts","webpack:///src/app/material.module.ts","webpack:///src/app/shanghai/models/settings.model.ts","webpack:///src/app/shanghai/models/state.model.ts","webpack:///src/app/shanghai/shanghai.component.ts","webpack:///src/app/shanghai/shanghai.component.html","webpack:///src/app/shanghai/shanghai.module.ts","webpack:///src/app/shared/components/dialog/dialog.component.ts","webpack:///src/app/shared/components/dialog/dialog.component.html","webpack:///src/app/shared/components/game-toolbar/game-toolbar.component.ts","webpack:///src/app/shared/components/game-toolbar/game-toolbar.component.html","webpack:///src/app/shared/components/number-plate/number-plate.component.ts","webpack:///src/app/shared/components/number-plate/number-plate.component.html","webpack:///src/app/shared/models/field-value.model.ts","webpack:///src/app/shared/models/player.model.ts","webpack:///src/app/shared/models/playground-state.model.ts","webpack:///src/app/shared/models/playground.model.ts","webpack:///src/app/shared/models/throw.model.ts","webpack:///src/app/shared/services/dialog.service.ts","webpack:///src/app/shared/services/game.service.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/x01/models/settings.model.ts","webpack:///src/app/x01/x01.component.ts","webpack:///src/app/x01/x01.component.html","webpack:///src/app/x01/x01.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","data","name","loadChildren","AppComponent","selector","templateUrl","styles","AppModule","forRoot","imports","declarations","bootstrap","settings","AroundClockComponent","game","route","dialogService","state","players","forEach","player","push","fields","length","score","getActualPlayer","field","getPlayerState","getActFieldIndex","actFieldIndex","multiplier","increaseActFieldIndex","jump","win","actualThrow","multi","i","t","throwsHistory","getPreviousField","punishment","decreaseActFieldIndex","nextPlayer","fieldStr","indexOf","isFieldEnabledToThrow","ret","filter","p","some","round","s","AroundClockModule","forChild","Settings","nm","AroundClockState","value","ChaseDragonComponent","bullCount","ChaseDragonModule","long","setFields","ChaseDragonState","MenuComponent","r","styleUrls","CricketComponent","updateField","getPlayerTotal","punishStyle","isPunishGame","isBlackOutGame","isPlayerDone","isTheBestPlayer","isTheWorstPlayer","getPunishScore","playerFieldCount","getFieldCount","str","isNoScoreGame","getFieldScore","isFieldClosed","total","getPlayerTotalForPunishGame","isScoreGame","getPlayerTotalForScoreGame","isFieldDoneForPlayer","getFieldValueAsNumber","getPunishCount","isFieldClosedForOthers","setFieldCount","punishPlayers","setPunishCount","closed","done","CricketModule","numbs","style","defaultSet","initFields","Math","floor","random","setAllowedField","numbers","f","CricketState","fieldCount","punishCount","getFieldValue","fv","clone","KillerComponent","nextEnabled","zeroEnabled","multiEnabled","numberOfLives","boardingLimit","isDead","actField","isActualPlayerTheLast","killer","life","Number","boarding","actualPlayer","getAllEnabledFields","isSecondHighlighted","map","KillerModule","KillerState","dead","materialImports","MaterialModule","numberOfMaxFields","noScore","halveIt","rand","ShanghaiState","fieldScore","ShanghaiComponent","isActiveField","increaseFieldCount","increaseFieldScore","extraEndingMsg","gameEnded","isTheLastThrow","ShanghaiModule","DialogComponent","dialogRef","close","GameToolbarComponent","navigate","resetScore","playground","reset","settingsOpen","quit","showSettings","NumberPlateComponent","isHighlighted","getNumberColor","throwNumber","FieldValue","Player","throws","first","reduce","a","b","thr","PlaygroundState","list","filtered","PlaygroundModel","throwEnabled","stateHistory","addPlayer","save","addThrowHistory","calculatePoints","checkPlayerState","openDialog","canBeDraw","isDraw","newGame","rotate","validatePlayerSettings","validateSettings","rotatePlayers","gameHistory","customReset","pop","isLastRound","customNext","parseInt","Throw","fieldNum","order","DialogService","dialog","title","content","open","panelClass","providedIn","MAXIMUM_NUMBER_OF_PLAYERS","GameService","actualPlayerIndex","nextRound","getNumberOfPlayers","getTheFirstPlayer","isTheFirstPlayer","getTheLastPlayer","isTheLastPlayer","actPlayer","bestPlayer","lastPlayer","winners","shift","SharedModule","entryComponents","startValue","start","checkout","X01Component","actualScore","validStart","isNormalStart","isDoubleStart","isTripleStart","countDown","reject","setInterval","clearInterval","next","isHighScoreGame","isNormalCheckout","isDoubleCheckout","isTripleCheckout","X01Module","environment","production","bootstrapModule","catch","err","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {Routes} from '@angular/router';\nimport {MenuComponent} from './components/menu/menu.component';\nimport {X01Module} from './x01/x01.module';\nimport {CricketModule} from './cricket/cricket.module';\nimport {AroundClockModule} from './aroundclock/around-clock.module';\nimport {ShanghaiModule} from './shanghai/shanghai.module';\nimport {ChaseDragonModule} from './chase-dragon/chase-dragon.module';\nimport {KillerModule} from './killer/killer.module';\n\nexport const routes: Routes = [\n  {path: '', component: MenuComponent},\n  {path: 'menu', component: MenuComponent},\n  {\n    path: 'x01',\n    data: {name: 'Classic X01'},\n    loadChildren: () => X01Module\n  },\n  {\n    path: 'cricket',\n    data: {name: 'Ultimate Cricket'},\n    loadChildren: () => CricketModule\n  },\n  {\n    path: 'around-clock',\n    data: {name: 'Around The Clock'},\n    loadChildren: () => AroundClockModule\n  },\n  {\n    path: 'shanghai',\n    data: {name: 'Shanghai / Halve It'},\n    loadChildren: () => ShanghaiModule\n  },\n  {\n    path: 'chase-dragon',\n    data: {name: 'Chase the Dragon'},\n    loadChildren: () => ChaseDragonModule\n  },\n  {\n    path: 'killer',\n    data: {name: 'Killer'},\n    loadChildren: () => KillerModule\n  }\n];\n","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html',\n  styles: []\n})\nexport class AppComponent {\n}\n","<router-outlet></router-outlet>\r\n","import {AppComponent} from './app.component';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {MenuComponent} from './components/menu/menu.component';\nimport {SharedModule} from './shared/shared.module';\nimport {RouterModule} from '@angular/router';\nimport {routes} from './app-routing';\n\n@NgModule({\n  imports: [\n    BrowserModule, BrowserAnimationsModule, RouterModule.forRoot(routes), SharedModule\n  ],\n  declarations: [AppComponent, MenuComponent],\n  exports: [RouterModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Component} from '@angular/core';\nimport {AroundClockState} from './models/state.model';\nimport {Settings} from './models/settings.model';\nimport {PlaygroundModel} from '~models/playground.model';\nimport {GameService} from '~services/game.service';\nimport {Player} from '~models/player.model';\nimport {Router} from '@angular/router';\nimport {DialogService} from '~services/dialog.service';\n\n@Component({\n  templateUrl: './around-clock.component.html'\n})\nexport class AroundClockComponent extends PlaygroundModel<AroundClockState> {\n\n  settings: Settings;\n\n  constructor(game: GameService, route: Router, dialogService: DialogService) {\n    super(game, route, dialogService);\n    this.settings = new Settings();\n  }\n\n  customReset(): void {\n    this.state = [];\n    this.game.players.forEach(player => this.state.push(new AroundClockState(player)));\n  }\n\n  validateSettings(): boolean {\n    return this.settings.fields.length > 0;\n  }\n\n  calculatePoints(score: number): Promise<any> {\n\n    const player = this.game.getActualPlayer();\n    const field = score === 25 ? 'B' : (score + '');\n    const state: AroundClockState = this.getPlayerState(player);\n    if (this.settings.fields[state.getActFieldIndex()] === field) {\n      // last throw\n      if (state.actFieldIndex >= this.settings.fields.length - this.game.multiplier) {\n        this.game.multiplier = this.game.multiplier === 1 ? 1 : this.settings.fields.length - (state.actFieldIndex + 1);\n      }\n      state.increaseActFieldIndex(this.settings.jump ? this.game.multiplier : 1);\n      if (state.actFieldIndex >= this.settings.fields.length) {\n        state.actFieldIndex = this.settings.fields.length;\n      }\n    }\n    player.score++;\n    return Promise.resolve();\n  }\n\n  checkPlayerState(): Promise<any> {\n    const player = this.game.getActualPlayer();\n    if ((this.settings.fields.length - 1) < this.getPlayerState(player).getActFieldIndex()) {\n      player.win = true;\n    } else if (this.game.actualThrow === 3) {\n      let multi = 1;\n      for (let i = 0; i < 3; i++) {\n        const t = player.throwsHistory[player.throwsHistory.length - i - 1];\n        if (t.field === this.getPreviousField()) {\n          multi *= (t.multi + 1);\n        }\n      }\n      if (multi === 1 && this.settings.punishment) {\n        this.getPlayerState(player).decreaseActFieldIndex();\n      }\n      this.game.nextPlayer();\n    }\n    return Promise.resolve();\n  }\n\n  isFieldEnabledToThrow(field: number): boolean {\n    let fieldStr = field + '';\n    if (field === 25) {\n      fieldStr = 'B';\n    }\n    return this.settings.fields.indexOf(fieldStr) === this.getPlayerState(this.game.getActualPlayer()).getActFieldIndex();\n  }\n\n  isHighlighted(field: number): boolean {\n    return this.isFieldEnabledToThrow(field);\n  }\n\n  isSecondHighlighted(field: number): boolean {\n    let ret = false;\n    if (!this.isFieldEnabledToThrow(field)) {\n      let fieldStr = field + '';\n      if (field === 25) {\n        fieldStr = 'B';\n      }\n      ret = this.game.players.filter(p => p !== this.game.getActualPlayer())\n        .some(p => this.settings.fields.indexOf(fieldStr) === this.getPlayerState(p).getActFieldIndex());\n    }\n    return ret;\n  }\n\n  getActualField(player): string {\n    return this.settings.fields[this.getPlayerState(player).getActFieldIndex()];\n  }\n\n  isLastRound(): boolean {\n    return false;\n  }\n\n  canBeDraw(): boolean {\n    return false;\n  }\n\n  private getPreviousField(): string {\n    return this.settings.fields[this.game.round > 0 ? this.game.round : 0];\n  }\n\n  private getPlayerState(player: Player): AroundClockState {\n    return this.state.filter(s => s.player.id === player.id)[0];\n  }\n}\n","<div id=\"playgroundContent\">\n\n  <div class=\"side-left\">\n\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\n\n    <ng-container *ngIf=\"!settingsOpen\">\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\n           *ngFor=\"let player of game.players; let i = index\">\n        <div class=\"player_info\">\n          <div class=\"name\">{{player.name}}</div>\n          <div class=\"shoots\">\n            <div class=\"shoot\">{{!player.throws[0] ? '-' : player.throws[0]}}</div>\n            <div class=\"shoot\">{{!player.throws[1] ? '-' : player.throws[1]}}</div>\n            <div class=\"shoot\">{{!player.throws[2] ? '-' : player.throws[2]}}</div>\n          </div>\n          <div class=\"clear\"></div>\n          <div class=\"point\"><label>Field: </label>{{getActualField(player)}}</div>\n          <div class=\"clear\"></div>\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"settings\" *ngIf=\"settingsOpen\">\n      <h1>Around The Clock Settings</h1>\n\n      <h2>Players <button mat-icon-button (click)=\"addPlayer()\" [disabled]=\"!game.canAddPlayer()\"><mat-icon>add_circle</mat-icon></button></h2>\n      <div *ngFor=\"let player of game.players; let i = index\">\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Player #{{i + 1}} name:</mat-label>\n          <input [(ngModel)]=\"player.name\" type=\"text\" matInput>\n        </mat-form-field>\n        <button mat-icon-button (click)=\"removePlayer(player)\"><mat-icon>remove_circle</mat-icon></button>\n      </div>\n      <mat-divider></mat-divider>\n\n      <button mat-raised-button class=\"button medium\" [color]=\"settings.jump?'primary':''\"\n              (click)=\"settings.toggleJump()\">\n        Enable Jump\n      </button>\n\n      <button mat-raised-button class=\"button medium\" [color]=\"settings.punishment?'primary':''\"\n              (click)=\"settings.togglePunishment()\">\n        Enable Punishment\n      </button>\n\n      <mat-divider></mat-divider>\n      <button mat-raised-button class=\"button big\" (click)=\"newGame()\">Save and Start</button>\n      <button mat-raised-button class=\"button big\" (click)=\"quit()\">Cancel</button>\n    </div>\n\n  </div>\n\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\n\n</div>\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {AroundClockComponent} from './around-clock.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: AroundClockComponent}\r\n    ])\r\n  ],\r\n  declarations: [AroundClockComponent]\r\n})\r\nexport class AroundClockModule {\r\n}\r\n","export class Settings {\r\n  fields: string[];\r\n  jump: boolean;\r\n  punishment: boolean;\r\n\r\n  constructor() {\r\n    this.jump = true;\r\n    this.punishment = false;\r\n    this.fields = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      const nm = i === 20 ? 'B' : ((i + 1) + '');\r\n      this.fields.push(nm);\r\n    }\r\n  }\r\n\r\n  toggleJump() {\r\n    this.jump = !this.jump;\r\n  }\r\n\r\n  togglePunishment() {\r\n    this.punishment = !this.punishment;\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\nimport {Player} from '~models/player.model';\r\n\r\nexport class AroundClockState extends PlaygroundState {\r\n\r\n  actFieldIndex: number;\r\n\r\n  constructor(player: Player) {\r\n    super(player);\r\n    this.actFieldIndex = 0;\r\n  }\r\n\r\n  getActFieldIndex(): number {\r\n    return this.actFieldIndex;\r\n  }\r\n\r\n  increaseActFieldIndex(value?: number) {\r\n    this.actFieldIndex += value ? value : 1;\r\n  }\r\n\r\n  decreaseActFieldIndex() {\r\n    this.actFieldIndex--;\r\n    if (this.actFieldIndex < 0) {\r\n      this.actFieldIndex = 0;\r\n    }\r\n  }\r\n\r\n  clone(): AroundClockState {\r\n    const state: AroundClockState = new AroundClockState(this.player);\r\n    state.actFieldIndex = this.actFieldIndex;\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\nimport {ChaseDragonState} from './models/state.model';\nimport {Settings} from './models/settings.model';\nimport {PlaygroundModel} from '~models/playground.model';\nimport {GameService} from '~services/game.service';\nimport {Player} from '~models/player.model';\nimport {Router} from '@angular/router';\nimport {DialogService} from '~services/dialog.service';\n\n@Component({\n  templateUrl: './chase-dragon.component.html'\n})\nexport class ChaseDragonComponent extends PlaygroundModel<ChaseDragonState> {\n\n  settings: Settings;\n\n  constructor(game: GameService, route: Router, dialogService: DialogService) {\n    super(game, route, dialogService);\n    this.settings = new Settings();\n  }\n\n  customReset(): void {\n    this.state = [];\n    this.game.players.forEach(player => this.state.push(new ChaseDragonState(player)));\n  }\n\n  validateSettings(): boolean {\n    return this.settings.fields.length > 0;\n  }\n\n  calculatePoints(score: number): Promise<any> {\n    const player = this.game.getActualPlayer();\n    const field = score === 25 ? 'B' : (score + '');\n    const state: ChaseDragonState = this.getPlayerState(player);\n\n    if (this.settings.fields[state.getActFieldIndex()] === field) {\n      state.increaseActFieldIndex(1);\n      if (state.actFieldIndex === this.settings.fields.length) {\n        state.actFieldIndex--;\n        state.bullCount++;\n      }\n    }\n    player.score++;\n    return Promise.resolve();\n  }\n\n  checkPlayerState(): Promise<any> {\n    const player = this.game.getActualPlayer();\n    const state = this.getPlayerState(player);\n    if ((this.settings.fields.length - 1) === state.getActFieldIndex() && state.bullCount === 2) {\n      player.win = true;\n    } else if (this.game.actualThrow === 3) {\n      this.game.nextPlayer();\n    }\n    return Promise.resolve();\n  }\n\n  isFieldEnabledToThrow(field: number): boolean {\n    let fieldStr = field + '';\n    if (field === 25) {\n      fieldStr = 'B';\n    }\n    return this.settings.fields.indexOf(fieldStr) === this.getPlayerState(this.game.getActualPlayer()).getActFieldIndex();\n  }\n\n  isHighlighted(field: number): boolean {\n    return this.isFieldEnabledToThrow(field);\n  }\n\n  isSecondHighlighted(field: number): boolean {\n    let ret = false;\n    if (!this.isFieldEnabledToThrow(field)) {\n      let fieldStr = field + '';\n      if (field === 25) {\n        fieldStr = 'B';\n      }\n      ret = this.game.players.filter(p => p !== this.game.getActualPlayer())\n        .some(p => this.settings.fields.indexOf(fieldStr) === this.getPlayerState(p).getActFieldIndex());\n    }\n    return ret;\n  }\n\n  getActualField(player): string {\n    return this.settings.fields[this.getPlayerState(player).getActFieldIndex()];\n  }\n\n  isLastRound(): boolean {\n    return false;\n  }\n\n  canBeDraw(): boolean {\n    return false;\n  }\n\n  private getPlayerState(player: Player): ChaseDragonState {\n    return this.state.filter(s => s.player.id === player.id)[0];\n  }\n}\n","<div id=\"playgroundContent\">\n\n  <div class=\"side-left\">\n\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\n\n    <ng-container *ngIf=\"!settingsOpen\">\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\n           *ngFor=\"let player of game.players; let i = index\">\n        <div class=\"player_info\">\n          <div class=\"name\">{{player.name}}</div>\n          <div class=\"shoots\">\n            <div class=\"shoot\">{{!player.throws[0] ? '-' : player.throws[0]}}</div>\n            <div class=\"shoot\">{{!player.throws[1] ? '-' : player.throws[1]}}</div>\n            <div class=\"shoot\">{{!player.throws[2] ? '-' : player.throws[2]}}</div>\n          </div>\n          <div class=\"clear\"></div>\n          <div class=\"point\"><label>Field: </label>{{getActualField(player)}}</div>\n          <div class=\"clear\"></div>\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"settings\" *ngIf=\"settingsOpen\">\n      <h1>Chase the Dragon Settings</h1>\n\n      <h2>Players <button mat-icon-button (click)=\"addPlayer()\" [disabled]=\"!game.canAddPlayer()\"><mat-icon>add_circle</mat-icon></button></h2>\n      <div *ngFor=\"let player of game.players; let i = index\">\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Player #{{i + 1}} name:</mat-label>\n          <input [(ngModel)]=\"player.name\" type=\"text\" matInput>\n        </mat-form-field>\n        <button mat-icon-button (click)=\"removePlayer(player)\"><mat-icon>remove_circle</mat-icon></button>\n      </div>\n      <mat-divider></mat-divider>\n\n      <button mat-raised-button class=\"button medium\"  [color]=\"settings.long?'primary':''\" (click)=\"settings.toggleLong()\">\n        Long Dragon\n      </button>\n\n      <mat-divider></mat-divider>\n      <button mat-raised-button class=\"button big\" (click)=\"newGame()\">Save and Start</button>\n      <button mat-raised-button class=\"button big\" (click)=\"quit()\">Cancel</button>\n    </div>\n\n  </div>\n\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\n\n</div>\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {ChaseDragonComponent} from './chase-dragon.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: ChaseDragonComponent}\r\n    ])\r\n  ],\r\n  declarations: [ChaseDragonComponent]\r\n})\r\nexport class ChaseDragonModule {\r\n}\r\n","export class Settings {\r\n  fields: string[];\r\n  long = false;\r\n\r\n  constructor() {\r\n    this.setFields();\r\n  }\r\n\r\n  toggleLong() {\r\n    this.long = !this.long;\r\n    this.setFields();\r\n  }\r\n\r\n  setFields() {\r\n    this.fields = [];\r\n    for (let i = (this.long ? 9 : 14); i < 21; i++) {\r\n      this.fields.push(i === 20 ? 'B' : ((i + 1) + ''));\r\n    }\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\nimport {Player} from '~models/player.model';\r\n\r\nexport class ChaseDragonState extends PlaygroundState {\r\n\r\n  actFieldIndex: number;\r\n  bullCount: number;\r\n\r\n  constructor(player: Player) {\r\n    super(player);\r\n    this.actFieldIndex = 0;\r\n    this.bullCount = 0;\r\n  }\r\n\r\n  getActFieldIndex(): number {\r\n    return this.actFieldIndex;\r\n  }\r\n\r\n  increaseActFieldIndex(value?: number) {\r\n    this.actFieldIndex += value ? value : 1;\r\n  }\r\n\r\n  clone(): ChaseDragonState {\r\n    const state: ChaseDragonState = new ChaseDragonState(this.player);\r\n    state.actFieldIndex = this.actFieldIndex;\r\n    state.bullCount = this.bullCount;\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {Routes} from '@angular/router';\r\nimport {X01Module} from '../../x01/x01.module';\r\nimport {CricketModule} from '../../cricket/cricket.module';\r\nimport {AroundClockModule} from '../../aroundclock/around-clock.module';\r\nimport {ShanghaiModule} from '../../shanghai/shanghai.module';\r\nimport {ChaseDragonModule} from '../../chase-dragon/chase-dragon.module';\r\nimport {KillerModule} from '../../killer/killer.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'x01',\r\n    data: {name: 'Classic X01'},\r\n    loadChildren: () => X01Module\r\n  },\r\n  {\r\n    path: 'cricket',\r\n    data: {name: 'Ultimate Cricket'},\r\n    loadChildren: () => CricketModule\r\n  },\r\n  {\r\n    path: 'around-clock',\r\n    data: {name: 'Around The Clock'},\r\n    loadChildren: () => AroundClockModule\r\n  },\r\n  {\r\n    path: 'shanghai',\r\n    data: {name: 'Shanghai / Halve It'},\r\n    loadChildren: () => ShanghaiModule\r\n  },\r\n  {\r\n    path: 'chase-dragon',\r\n    data: {name: 'Chase the Dragon'},\r\n    loadChildren: () => ChaseDragonModule\r\n  },\r\n  {\r\n    path: 'killer',\r\n    data: {name: 'Killer'},\r\n    loadChildren: () => KillerModule\r\n  }\r\n];\r\n\r\n\r\n@Component({\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.scss']\r\n})\r\nexport class MenuComponent {\r\n\r\n  getGameList(): Routes {\r\n    return routes.filter(r => !!r.data);\r\n  }\r\n}\r\n","<div id=\"menu\">\r\n  <h1>Select Game!</h1>\r\n  <button mat-raised-button class=\"gameSelectBox\" *ngFor=\"let g of getGameList()\"  [routerLink]=\"['/' + g.path]\">\r\n    {{g.data.name}}\r\n  </button>\r\n</div>\r\n","import {Component} from '@angular/core';\nimport {CricketState} from './models/state.model';\nimport {Settings} from './models/settings.model';\nimport {PlaygroundModel} from '~models/playground.model';\nimport {GameService} from '~services/game.service';\nimport {Player} from '~models/player.model';\nimport {Router} from '@angular/router';\nimport {DialogService} from '~services/dialog.service';\n\n@Component({\n  templateUrl: './cricket.component.html'\n})\nexport class CricketComponent extends PlaygroundModel<CricketState> {\n\n  settings: Settings;\n\n  constructor(game: GameService, route: Router, dialogService: DialogService) {\n    super(game, route, dialogService);\n    this.settings = new Settings();\n  }\n\n  customReset(): void {\n    this.state = [];\n    this.game.players.forEach(player => this.state.push(new CricketState(player)));\n  }\n\n  validateSettings(): boolean {\n    return this.settings.fields.length > 0;\n  }\n\n  calculatePoints(score: number): Promise<any> {\n    const player = this.game.getActualPlayer();\n    this.updateField(player, score);\n    return Promise.resolve();\n  }\n\n  checkPlayerState(): Promise<any> {\n    const player = this.game.getActualPlayer();\n\n    this.game.players.forEach(p => {\n      p.score = this.getPlayerTotal(p);\n    }, this);\n\n    const punishStyle = this.settings.isPunishGame() || this.settings.isBlackOutGame();\n    player.win = this.isPlayerDone(player)\n      && ((!punishStyle && this.game.isTheBestPlayer(player)) || (punishStyle && this.game.isTheWorstPlayer(player)));\n\n    if (this.game.actualThrow === 3) {\n      this.game.nextPlayer();\n    }\n    return Promise.resolve();\n  }\n\n  getFieldValue(player: Player, field: string): string {\n    const score = this.getPunishScore(player, field);\n    const punishStyle = this.settings.isPunishGame() || this.settings.isBlackOutGame();\n    const playerFieldCount = this.getPlayerState(player).getFieldCount(field);\n\n    let str = '';\n    if (punishStyle && score !== 0) {\n      str += score;\n    }\n\n    if (playerFieldCount === 0 && str.length === 0) {\n      return '';\n    } else if (playerFieldCount > 3 && !punishStyle && !this.settings.isNoScoreGame()) {\n      return this.getFieldScore(player, field) + '';\n    } else if (playerFieldCount === 3 || ((punishStyle || this.settings.isNoScoreGame()) && playerFieldCount > 3)) {\n      str += '';\n    } else {\n      for (let i = 0; i < playerFieldCount; i++) {\n        str += '';\n      }\n    }\n    return str;\n  }\n\n  isFieldDoneForPlayer(player: Player, field: string): boolean {\n    return this.getPlayerState(player).getFieldCount(field) >= 3;\n  }\n\n  isActiveField(player: Player, field: string): boolean {\n    return this.settings.fields[this.getPlayerState(player).getActFieldIndex()] === field;\n  }\n\n  isFieldEnabledToThrow(field: number): boolean {\n    let fieldStr = field + '';\n    if (field === 25) {\n      fieldStr = 'B';\n    }\n    return this.settings.fields.indexOf(fieldStr) !== -1 && !this.isFieldClosed(fieldStr);\n  }\n\n  private getPlayerTotal(player: Player) {\n    let total = 0;\n    if (this.settings.isPunishGame() || this.settings.isBlackOutGame()) {\n      total = this.getPlayerTotalForPunishGame(player);\n    } else if (this.settings.isScoreGame()) {\n      total = this.getPlayerTotalForScoreGame(player);\n    }\n    return total;\n  }\n\n  private getPlayerTotalForScoreGame(player: Player) {\n    let total = 0;\n    this.settings.fields.forEach(field => {\n      if (this.isFieldDoneForPlayer(player, field)) {\n        total += (this.getPlayerState(player).getFieldCount(field) - 3) * PlaygroundModel.getFieldValueAsNumber(field);\n      }\n    }, this);\n    return total;\n  }\n\n  private getPlayerTotalForPunishGame(player: Player) {\n    let total = 0;\n    this.settings.fields.forEach(field => {\n      total += this.getPlayerState(player).getPunishCount(field) * PlaygroundModel.getFieldValueAsNumber(field);\n    }, this);\n    return total;\n  }\n\n  private updateField(player: Player, score: number) {\n    const field = score === 25 ? 'B' : (score + '');\n\n    if (this.settings.fields.indexOf(field) !== -1 && !this.isFieldClosed(field)) {\n      const playerFieldCount = this.getPlayerState(player).getFieldCount(field);\n      if (!this.settings.isBlackOutGame() ||\n        this.settings.fields[this.getPlayerState(player).getActFieldIndex()] === field ||\n        this.isFieldDoneForPlayer(player, field)) {\n\n        if (this.isFieldClosedForOthers(player, field) && (playerFieldCount + this.game.multiplier) > 3) {\n          this.getPlayerState(player).setFieldCount(field, 3);\n        } else {\n          let multiplier = this.game.multiplier + 0;\n          if (playerFieldCount < 3 && (playerFieldCount + this.game.multiplier) >= 3) {\n            multiplier = (playerFieldCount + this.game.multiplier) % 3;\n          }\n          this.getPlayerState(player).setFieldCount(field, playerFieldCount + this.game.multiplier);\n          this.game.multiplier = multiplier;\n        }\n      }\n\n      if (this.isFieldDoneForPlayer(player, field)) {\n        if (this.settings.isBlackOutGame()) {\n          if (this.settings.fields[this.getPlayerState(player).getActFieldIndex()] === field) {\n            this.getPlayerState(player).increaseActFieldIndex();\n          }\n        }\n        this.punishPlayers(field);\n      }\n    }\n  }\n\n  private punishPlayers(field: string) {\n    this.game.players.forEach(player => {\n      if (!this.isFieldDoneForPlayer(player, field)) {\n        this.getPlayerState(player).setPunishCount(field, this.getPlayerState(player).getPunishCount(field) + this.game.multiplier);\n      }\n    }, this);\n  }\n\n  private getFieldScore(player: Player, field: string): number {\n    if (this.isFieldDoneForPlayer(player, field)) {\n      return (this.getPlayerState(player).getFieldCount(field) - 3) * PlaygroundModel.getFieldValueAsNumber(field);\n    }\n    return 0;\n  }\n\n  private getPunishScore(player: Player, field: string): number {\n    return this.getPlayerState(player).getPunishCount(field) * PlaygroundModel.getFieldValueAsNumber(field);\n  }\n\n  private isFieldClosed(field: string) {\n    let closed = true;\n    this.game.players.forEach(player => {\n      closed = closed && this.isFieldDoneForPlayer(player, field);\n    }, this);\n    return closed;\n  }\n\n  private isFieldClosedForOthers(player: Player, field: string) {\n    let closed = true;\n    this.game.players.forEach(p => {\n      if (p.id !== player.id) {\n        closed = closed && this.isFieldDoneForPlayer(p, field);\n      }\n    }, this);\n    return closed;\n  }\n\n  private isPlayerDone(player: Player): boolean {\n    let done = true;\n    this.settings.fields.forEach(field => {\n      done = done && this.isFieldDoneForPlayer(player, field);\n    });\n    return done;\n  }\n\n  private getPlayerState(player: Player): CricketState {\n    return this.state.filter(s => s.player.id === player.id)[0];\n  }\n}\n","<div id=\"playgroundContent\">\n\n  <div class=\"side-left\">\n\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\n\n    <ng-container *ngIf=\"!settingsOpen\">\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\n           *ngFor=\"let player of game.players; let i = index\">\n        <div class=\"player_info\">\n          <div class=\"name\">{{player.name}}</div>\n          <div class=\"shoots\">\n            <div class=\"shoot\">{{player.throws[0]}}</div>\n            <div class=\"shoot\">{{player.throws[1]}}</div>\n            <div class=\"shoot\">{{player.throws[2]}}</div>\n            <div class=\"shoot total\">{{player.getThrowsTotal()}}</div>\n          </div>\n          <div class=\"clear\"></div>\n          <div class=\"line\"></div>\n          <div class=\"field-set\">\n            <div\n                class=\"field {{isActiveField(player, field) && settings.isBlackOutGame()  ? 'active': ''}} {{!isFieldDoneForPlayer(player, field) ? 'highlighted' : ''}}\"\n                *ngFor=\"let field of settings.fields\">\n              {{field}}: <span class=\"small\">{{ getFieldValue(player, field) }}</span>\n            </div>\n          </div>\n          <div class=\"point\" *ngIf=\"!settings.isNoScoreGame()\">{{player.score}}</div>\n          <div class=\"clear\"></div>\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"settings\" *ngIf=\"settingsOpen\">\n      <h1>Cricket Settings</h1>\n\n      <h2>Players <button mat-icon-button (click)=\"addPlayer()\" [disabled]=\"!game.canAddPlayer()\"><mat-icon>add_circle</mat-icon></button></h2>\n      <div *ngFor=\"let player of game.players; let i = index\">\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Player #{{i + 1}} name:</mat-label>\n          <input [(ngModel)]=\"player.name\" type=\"text\" matInput>\n        </mat-form-field>\n        <button mat-icon-button (click)=\"removePlayer(player)\"><mat-icon>remove_circle</mat-icon></button>\n      </div>\n      <mat-divider></mat-divider>\n\n      <h2>Fields</h2>\n      <button mat-raised-button class=\"button\" [color]=\"settings.numbs[i]?'primary':''\"\n              *ngFor=\"let numb of settings.getNumbers(); let i = index\" (click)=\"settings.setNumber(i)\">\n        {{numb === 21 ? 'B' : numb}}\n      </button>\n      <mat-divider></mat-divider>\n\n      <button mat-raised-button class=\"button\" (click)=\"settings.upper()\">Upper</button>\n      <button mat-raised-button class=\"button\" (click)=\"settings.lower()\">Lower</button>\n      <button mat-raised-button class=\"button\" (click)=\"settings.odd()\">Odd</button>\n      <button mat-raised-button class=\"button\" (click)=\"settings.even()\">Even</button>\n      <button mat-raised-button class=\"button\" (click)=\"settings.randomize()\">Random</button>\n      <mat-divider></mat-divider>\n\n      <h2>Style</h2>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.style==1?'primary':''\"\n              (click)=\"settings.setStyle(1)\">Classic\n      </button>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.style==2?'primary':''\"\n              (click)=\"settings.setStyle(2)\">Cut-Throat\n      </button>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.style==3?'primary':''\"\n              (click)=\"settings.setStyle(3)\">No Score\n      </button>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.style==4?'primary':''\"\n              (click)=\"settings.setStyle(4)\">Black Out\n      </button>\n\n      <mat-divider></mat-divider>\n      <button mat-raised-button class=\"button big\" (click)=\"newGame()\">Save and Start</button>\n      <button mat-raised-button class=\"button big\" (click)=\"quit()\">Cancel</button>\n    </div>\n\n  </div>\n\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\n\n</div>\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {CricketComponent} from './cricket.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: CricketComponent}\r\n    ])\r\n  ],\r\n  declarations: [CricketComponent]\r\n})\r\nexport class CricketModule {\r\n}\r\n","export class Settings {\r\n\r\n  fields: string[] = ['15', '16', '17', '18', '19', '20', 'B'];\r\n  numbs: boolean[] = [];\r\n  style: number;\r\n\r\n  constructor() {\r\n    this.style = 2;\r\n    let defaultSet = false;\r\n    for (let i = 0; i < 21; i++) {\r\n      this.numbs[i] = defaultSet;\r\n      if (i === 13) {\r\n        defaultSet = true;\r\n      }\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  randomize() {\r\n    for (let i = 0; i < this.numbs.length; i++) {\r\n      this.numbs[i] = false;\r\n    }\r\n    for (let i = 0; i < 7; i++) {\r\n      this.numbs[Math.floor(Math.random() * 21)] = true;\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  upper() {\r\n    this.setAllowedField([14, 9, 12, 5, 20, 1, 18, 4, 13, 21]);\r\n  }\r\n\r\n  lower() {\r\n    this.setAllowedField([10, 15, 2, 17, 3, 19, 7, 16, 8, 21]);\r\n  }\r\n\r\n  odd() {\r\n    this.setAllowedField([1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21]);\r\n  }\r\n\r\n  even() {\r\n    this.setAllowedField([2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 21]);\r\n  }\r\n\r\n  getNumbers(): number[] {\r\n    const numbers: number[] = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      numbers[i] = (i + 1);\r\n    }\r\n    return numbers;\r\n  }\r\n\r\n  setNumber(i: number) {\r\n    this.numbs[i] = !this.numbs[i];\r\n    this.initFields();\r\n  }\r\n\r\n  setStyle(style: number) {\r\n    this.style = style;\r\n  }\r\n\r\n  initFields() {\r\n    this.fields = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      if (this.numbs[i]) {\r\n        this.fields.push(i === 20 ? 'B' : ((i + 1) + ''));\r\n      }\r\n    }\r\n  }\r\n\r\n  isScoreGame(): boolean {\r\n    return this.style === 1;\r\n  }\r\n\r\n  isPunishGame(): boolean {\r\n    return this.style === 2;\r\n  }\r\n\r\n  isNoScoreGame(): boolean {\r\n    return this.style === 3;\r\n  }\r\n\r\n  isBlackOutGame(): boolean {\r\n    return this.style === 4;\r\n  }\r\n\r\n  private setAllowedField(fields: number[]) {\r\n    for (let i = 0; i < this.numbs.length; i++) {\r\n      this.numbs[i] = false;\r\n    }\r\n    fields.forEach(f => this.numbs[f - 1] = true);\r\n    this.initFields();\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\nimport {FieldValue} from '~models/field-value.model';\r\nimport {Player} from '~models/player.model';\r\n\r\nexport class CricketState extends PlaygroundState {\r\n\r\n  fieldCount: FieldValue[];\r\n  punishCount: FieldValue[];\r\n  actFieldIndex: number;\r\n\r\n  constructor(player: Player) {\r\n    super(player);\r\n    this.fieldCount = [];\r\n    this.punishCount = [];\r\n    this.actFieldIndex = 0;\r\n  }\r\n\r\n  getFieldCount(field: string): number {\r\n    return this.getFieldValue(this.fieldCount, field).value;\r\n  }\r\n\r\n  setFieldCount(field: string, value: number) {\r\n    this.getFieldValue(this.fieldCount, field).value = value;\r\n  }\r\n\r\n  getPunishCount(field: string): number {\r\n    return this.getFieldValue(this.punishCount, field).value;\r\n  }\r\n\r\n  setPunishCount(field: string, value: number) {\r\n    this.getFieldValue(this.punishCount, field).value = value;\r\n  }\r\n\r\n  getActFieldIndex(): number {\r\n    return this.actFieldIndex;\r\n  }\r\n\r\n  increaseActFieldIndex() {\r\n    this.actFieldIndex++;\r\n  }\r\n\r\n  clone(): CricketState {\r\n    const state: CricketState = new CricketState(this.player);\r\n    state.actFieldIndex = this.actFieldIndex;\r\n    this.fieldCount.forEach(fv => state.fieldCount.push(fv.clone()));\r\n    this.punishCount.forEach(fv => state.punishCount.push(fv.clone()));\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\nimport {KillerState} from './models/state.model';\nimport {Settings} from './models/settings.model';\nimport {PlaygroundModel} from '~models/playground.model';\nimport {GameService} from '~services/game.service';\nimport {Player} from '~models/player.model';\nimport {Router} from '@angular/router';\nimport {DialogService} from '~services/dialog.service';\n\n@Component({\n  templateUrl: './killer.component.html'\n})\nexport class KillerComponent extends PlaygroundModel<KillerState> {\n\n  settings: Settings;\n\n  constructor(game: GameService, route: Router, dialogService: DialogService) {\n    super(game, route, dialogService);\n    this.settings = new Settings();\n    this.nextEnabled = false;\n    this.zeroEnabled = false;\n    this.multiEnabled = false;\n  }\n\n  customReset(): void {\n    this.state = [];\n    this.game.players.forEach(player =>\n      this.state.push(new KillerState(player, this.settings.numberOfLives, this.settings.boardingLimit)));\n  }\n\n  customNext() {\n    while (this.getPlayerState(this.game.getActualPlayer()).isDead()) {\n      this.game.nextPlayer();\n    }\n  }\n\n  validateSettings(): boolean {\n    return this.settings.fields.length > 0;\n  }\n\n  calculatePoints(score: number): Promise<any> {\n\n    const player = this.game.getActualPlayer();\n    const state: KillerState = this.getPlayerState(player);\n\n    if (this.game.round === 0) {\n      state.actField = score;\n      player.score = score;\n      if (this.game.isActualPlayerTheLast()) {\n        this.nextEnabled = true;\n        this.zeroEnabled = true;\n        this.multiEnabled = true;\n      }\n    } else {\n      if (state.killer) {\n        if (score === state.actField) {\n          state.life = Number(state.life) + Number(this.game.multiplier);\n          if (state.life > this.settings.numberOfLives) {\n            state.life = this.settings.numberOfLives;\n          }\n        } else {\n          this.game.players.filter(p => p.id !== player.id && !this.getPlayerState(p).isDead()).forEach(p => {\n            const s = this.getPlayerState(p);\n            if (s.actField === score) {\n              s.life -= this.game.multiplier;\n              if (s.life < 0) {\n                s.life = 0;\n              }\n            }\n          });\n        }\n      } else if (score === state.actField) {\n        state.boarding -= this.game.multiplier;\n        if (state.boarding <= 0) {\n          state.boarding = 0;\n        }\n        state.killer = state.boarding === 0;\n      }\n    }\n    return Promise.resolve();\n  }\n\n  checkPlayerState(): Promise<any> {\n    if (this.game.round !== 0) {\n      const actualPlayer = this.game.getActualPlayer();\n      actualPlayer.win = !this.game.players.some(p => p.id !== actualPlayer.id && !this.getPlayerState(p).isDead());\n    }\n    if (this.game.round === 0 || this.game.actualThrow === 3) {\n      this.game.nextPlayer();\n    }\n    while (this.getPlayerState(this.game.getActualPlayer()).isDead()) {\n      this.game.nextPlayer();\n    }\n    return Promise.resolve();\n  }\n\n  isFieldEnabledToThrow(field: number): boolean {\n    if (this.game.round === 0) {\n      return !this.getAllEnabledFields().some(f => f === field);\n    }\n    return this.getAllEnabledFields().some(f => f === field);\n  }\n\n  isHighlighted(field: number): boolean {\n    if (this.game.round === 0) {\n      return this.isFieldEnabledToThrow(field);\n    }\n    const state = this.getPlayerState(this.game.getActualPlayer());\n    if (state.killer) {\n      return this.isFieldEnabledToThrow(field) && !this.isSecondHighlighted(field);\n    }\n    return state.actField === field;\n  }\n\n  isSecondHighlighted(field: number): boolean {\n    const state = this.getPlayerState(this.game.getActualPlayer());\n    if (state.killer) {\n      return state.actField === field;\n    }\n    return false;\n  }\n\n  getPlayerField(player: Player): string {\n    const score = this.getPlayerState(player).actField;\n    return score === 25 ? 'B' : (score + '');\n  }\n\n  getLife(player: Player): number {\n    return this.getPlayerState(player).life;\n  }\n\n  getBoarding(player: Player): number {\n    return this.getPlayerState(player).boarding;\n  }\n\n  isKiller(player: Player): boolean {\n    return this.getPlayerState(player).killer;\n  }\n\n  isDead(player: Player): boolean {\n    return this.getPlayerState(player).isDead();\n  }\n\n  private getAllEnabledFields(): number[] {\n    return this.game.players.filter(p => !this.getPlayerState(p).isDead()).map(p => this.getPlayerState(p).actField);\n  }\n\n  private getPlayerState(player: Player): KillerState {\n    return this.state.filter(s => s.player.id === player.id)[0];\n  }\n}\n","<div id=\"playgroundContent\">\n\n  <div class=\"side-left\">\n\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\n\n    <ng-container *ngIf=\"!settingsOpen\">\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}} {{isDead(player) ? 'inactive' : ''}} {{isKiller(player) ? 'highlighted2' : ''}}\"\n          *ngFor=\"let player of game.players; let i = index\">\n        <div class=\"player_info\">\n          <div class=\"name\">{{player.name}}</div>\n          <div class=\"shoots\">\n            <div class=\"shoot\">{{!player.throws[0] ? '-' : player.throws[0]}}</div>\n            <div class=\"shoot\">{{!player.throws[1] ? '-' : player.throws[1]}}</div>\n            <div class=\"shoot\">{{!player.throws[2] ? '-' : player.throws[2]}}</div>\n          </div>\n          <div class=\"clear\"></div>\n          <div class=\"point\" *ngIf=\"getPlayerField(player) !== '0'\">\n            <label>Field: </label>{{getPlayerField(player)}}</div>\n          <div class=\"clear\" *ngIf=\"getPlayerField(player) !== '0'\"></div>\n          <div class=\"point2\"><label>Life: </label>{{getLife(player)}}</div>\n          <div class=\"point2\" *ngIf=\"!isKiller(player)\"><label>Boarding: </label>{{getBoarding(player)}}</div>\n          <div class=\"clear\"></div>\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"settings\" *ngIf=\"settingsOpen\">\n      <h1>Killer Game Settings</h1>\n\n      <h2>Players <button mat-icon-button (click)=\"addPlayer()\" [disabled]=\"!game.canAddPlayer()\"><mat-icon>add_circle</mat-icon></button></h2>\n      <div *ngFor=\"let player of game.players; let i = index\">\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Player #{{i + 1}} name:</mat-label>\n          <input [(ngModel)]=\"player.name\" type=\"text\" matInput>\n        </mat-form-field>\n        <button mat-icon-button (click)=\"removePlayer(player)\"><mat-icon>remove_circle</mat-icon></button>\n      </div>\n      <mat-divider></mat-divider>\n\n      <mat-form-field appearance=\"fill\">\n        <mat-label>Life limit</mat-label>\n        <input [(ngModel)]=\"settings.numberOfLives\" type=\"number\" matInput>\n      </mat-form-field>\n      <mat-divider></mat-divider>\n      <mat-form-field appearance=\"fill\">\n        <mat-label>Boarding</mat-label>\n        <input [(ngModel)]=\"settings.boardingLimit\" type=\"number\" matInput>\n      </mat-form-field>\n\n      <mat-divider></mat-divider>\n      <button mat-raised-button class=\"button big\" (click)=\"newGame()\">Save and Start</button>\n      <button mat-raised-button class=\"button big\" (click)=\"quit()\">Cancel</button>\n    </div>\n\n  </div>\n\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\n\n</div>\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {KillerComponent} from './killer.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: KillerComponent}\r\n    ])\r\n  ],\r\n  declarations: [KillerComponent]\r\n})\r\nexport class KillerModule {\r\n}\r\n","export class Settings {\r\n  fields: string[];\r\n  numberOfLives: number;\r\n  boardingLimit: number;\r\n\r\n  constructor() {\r\n    this.numberOfLives = 7;\r\n    this.boardingLimit = 3;\r\n    this.fields = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      this.fields.push(i === 20 ? 'B' : ((i + 1) + ''));\r\n    }\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\nimport {Player} from '~models/player.model';\r\n\r\nexport class KillerState extends PlaygroundState {\r\n\r\n  actField: number;\r\n  killer: boolean;\r\n  dead: boolean;\r\n\r\n  constructor(player: Player, public life = 5, public boarding = 3) {\r\n    super(player);\r\n    this.actField = 0;\r\n    this.killer = false;\r\n  }\r\n\r\n  isDead(): boolean {\r\n    return this.life <= 0;\r\n  }\r\n\r\n  clone(): KillerState {\r\n    const state: KillerState = new KillerState(this.player);\r\n    state.actField = this.actField;\r\n    state.life = this.life;\r\n    state.boarding = this.boarding;\r\n    state.killer = this.killer;\r\n    state.dead = this.dead;\r\n    return state;\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\n\r\nconst materialImports = [\r\n  MatDialogModule,\r\n  MatButtonModule,\r\n  MatIconModule,\r\n  MatInputModule,\r\n  MatDividerModule\r\n];\r\n\r\n@NgModule({\r\n  imports: materialImports,\r\n  exports: materialImports,\r\n})\r\nexport class MaterialModule {\r\n}\r\n\r\n// Copyright 2018 Google Inc. All Rights Reserved.\r\n//   Use of this source code is governed by an MIT-style license that\r\n//   can be found in the LICENSE file at http://angular.io/license\r\n","export class Settings {\r\n\r\n  fields: string[];\r\n  numbs: boolean[] = [];\r\n  noScore: boolean;\r\n  halveIt: boolean;\r\n  numberOfMaxFields = 8;\r\n\r\n  constructor() {\r\n    this.fields = [];\r\n    this.noScore = false;\r\n    this.halveIt = false;\r\n    let defaultSet = true;\r\n    for (let i = 0; i < 21; i++) {\r\n      this.numbs[i] = defaultSet;\r\n      if (i === 19) {\r\n        defaultSet = false;\r\n      }\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  randomize() {\r\n    for (let i = 0; i < this.numbs.length; i++) {\r\n      this.numbs[i] = false;\r\n    }\r\n    for (let i = 0; i < this.numberOfMaxFields; i++) {\r\n      let rand = Math.floor(Math.random() * 21);\r\n      while (this.numbs[rand]) {\r\n        rand = Math.floor(Math.random() * 21);\r\n      }\r\n      this.numbs[rand] = true;\r\n    }\r\n    this.initFields();\r\n  }\r\n\r\n  toggleNoScore() {\r\n    this.noScore = !this.noScore;\r\n  }\r\n\r\n  toggleHalveIt() {\r\n    this.halveIt = !this.halveIt;\r\n  }\r\n\r\n\r\n  getNumbers() {\r\n    const numbers: number[] = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      numbers[i] = (i + 1);\r\n    }\r\n    return numbers;\r\n  }\r\n\r\n  setNumber(i: number) {\r\n    this.numbs[i] = !this.numbs[i];\r\n    this.initFields();\r\n  }\r\n\r\n  initFields() {\r\n    this.fields = [];\r\n    for (let i = 0; i < 21; i++) {\r\n      if (this.numbs[i]) {\r\n        this.fields.push(i === 20 ? 'B' : ((i + 1) + ''));\r\n      }\r\n    }\r\n  }\r\n}\r\n","import {PlaygroundState} from '~models/playground-state.model';\r\nimport {FieldValue} from '~models/field-value.model';\r\nimport {Player} from '~models/player.model';\r\n\r\nexport class ShanghaiState extends PlaygroundState {\r\n\r\n  fieldCount: FieldValue[];\r\n  fieldScore: FieldValue[];\r\n\r\n  constructor(player: Player) {\r\n    super(player);\r\n    this.fieldCount = [];\r\n    this.fieldScore = [];\r\n  }\r\n\r\n  getFieldCount(field: string): number {\r\n    return this.getFieldValue(this.fieldCount, field).value;\r\n  }\r\n\r\n  increaseFieldCount(field: string, value: number) {\r\n    this.getFieldValue(this.fieldCount, field).value += value;\r\n  }\r\n\r\n  getFieldScore(field: string): number {\r\n    return this.getFieldValue(this.fieldScore, field).value;\r\n  }\r\n\r\n  increaseFieldScore(field: string, value: number) {\r\n    this.getFieldValue(this.fieldScore, field).value += value;\r\n  }\r\n\r\n  clone(): ShanghaiState {\r\n    const state: ShanghaiState = new ShanghaiState(this.player);\r\n    this.fieldCount.forEach(fv => state.fieldCount.push(fv.clone()));\r\n    this.fieldScore.forEach(fv => state.fieldScore.push(fv.clone()));\r\n    return state;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\nimport {ShanghaiState} from './models/state.model';\nimport {Settings} from './models/settings.model';\nimport {PlaygroundModel} from '~models/playground.model';\nimport {GameService} from '~services/game.service';\nimport {Player} from '~models/player.model';\nimport {Router} from '@angular/router';\nimport {DialogService} from '~services/dialog.service';\n\n@Component({\n  templateUrl: './shanghai.component.html'\n})\nexport class ShanghaiComponent extends PlaygroundModel<ShanghaiState> {\n\n  settings: Settings;\n\n  constructor(game: GameService, route: Router, dialogService: DialogService) {\n    super(game, route, dialogService);\n    this.settings = new Settings();\n    this.nextEnabled = false;\n  }\n\n  customReset(): void {\n    this.state = [];\n    this.game.players.forEach(player => this.state.push(new ShanghaiState(player)));\n  }\n\n  validateSettings(): boolean {\n    return this.settings.fields.length > 0;\n  }\n\n  calculatePoints(score: number): Promise<any> {\n    const player = this.game.getActualPlayer();\n    const state = this.getPlayerState(player);\n    const field = score === 25 ? 'B' : (score + '');\n    if (this.isActiveField(field)) {\n      state.increaseFieldCount(field, 1);\n      state.increaseFieldScore(field, this.game.multiplier);\n      if (this.settings.noScore) {\n        player.score++;\n      } else {\n        player.score += PlaygroundModel.getFieldValueAsNumber(field) * this.game.multiplier;\n      }\n    }\n    return Promise.resolve();\n  }\n\n  checkPlayerState(): Promise<any> {\n    const player = this.game.getActualPlayer();\n\n    // Shanghai rule\n    if (this.game.actualThrow === 3) {\n      let multi = 1;\n      for (let i = 0; i < 3; i++) {\n        const t = player.throwsHistory[player.throwsHistory.length - i - 1];\n        if (t.field === this.getPreviousField()) {\n          multi *= (t.multi + 1);\n        }\n      }\n      if (multi === 1 && this.settings.halveIt) {\n        player.score = Math.round(player.score / 2);\n      }\n      player.win = multi === 24;\n      if (player.win) {\n        this.game.extraEndingMsg = 'SHANGHAI!!!';\n      }\n    }\n\n    const gameEnded = (this.game.round === (this.settings.fields.length - 1))\n      && this.game.isActualPlayerTheLast() && this.game.isTheLastThrow();\n    if (gameEnded) {\n      this.game.players.forEach(p => {\n        p.win = this.game.isTheBestPlayer(p);\n        if (p.win) {\n          return;\n        }\n      }, this);\n    } else if (this.game.actualThrow === 3) {\n      this.game.nextPlayer();\n    }\n\n    return Promise.resolve();\n  }\n\n  getFieldValue(player: Player, field: string): string {\n    const fieldCount = this.getPlayerState(player).getFieldCount(field);\n    if (fieldCount === 0) {\n      return '';\n    } else {\n      let str = '' + this.getPlayerState(player).getFieldScore(field) * PlaygroundModel.getFieldValueAsNumber(field);\n      for (let i = 0; i < fieldCount; i++) {\n        str += '';\n      }\n      for (let i = fieldCount; i < 3; i++) {\n        str += '';\n      }\n      return str;\n    }\n  }\n\n  isActiveField(field: string): boolean {\n    return this.settings.fields[this.game.round] === field;\n  }\n\n  isDoneField(field: string): boolean {\n    return this.settings.fields.indexOf(field) < this.game.round;\n  }\n\n  isFieldEnabledToThrow(field: number): boolean {\n    let fieldStr = field + '';\n    if (field === 25) {\n      fieldStr = 'B';\n    }\n    return this.settings.fields.indexOf(fieldStr) === this.game.round;\n  }\n\n  isLastRound(): boolean {\n    return this.game.round === this.settings.fields.length - 1;\n  }\n\n  private getPreviousField(): string {\n    return this.settings.fields[this.game.round > 0 ? this.game.round : 0];\n  }\n\n  private getPlayerState(player: Player): ShanghaiState {\n    return this.state.filter(s => s.player.id === player.id)[0];\n  }\n}\n","<div id=\"playgroundContent\">\n\n  <div class=\"side-left\">\n\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\n\n    <ng-container *ngIf=\"!settingsOpen\">\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\n           *ngFor=\"let player of game.players; let i = index\">\n        <div class=\"player_info\">\n          <div class=\"name\">{{player.name}}</div>\n          <div class=\"shoots\">\n            <div class=\"shoot\">{{!player.throws[0] ? '-' : player.throws[0]}}</div>\n            <div class=\"shoot\">{{!player.throws[1] ? '-' : player.throws[1]}}</div>\n            <div class=\"shoot\">{{!player.throws[2] ? '-' : player.throws[2]}}</div>\n            <div class=\"shoot total\">{{!player.getThrowsTotal() ? '-' : player.getThrowsTotal()}}</div>\n          </div>\n          <div class=\"clear\"></div>\n          <div class=\"line\"></div>\n          <div class=\"field-set\">\n            <div class=\"field {{isActiveField(field) ? 'active': ''}} {{isDoneField(field) ? '' : 'highlighted'}}\"\n                 *ngFor=\"let field of settings.fields\">\n              {{field}}: <span class=\"small\">{{ getFieldValue(player, field) }}</span>\n            </div>\n          </div>\n          <div class=\"point\">{{player.score}}</div>\n          <div class=\"clear\"></div>\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"settings\" *ngIf=\"settingsOpen\">\n      <h1>Shanghai Settings</h1>\n\n      <h2>Players <button mat-icon-button (click)=\"addPlayer()\" [disabled]=\"!game.canAddPlayer()\"><mat-icon>add_circle</mat-icon></button></h2>\n      <div *ngFor=\"let player of game.players; let i = index\">\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Player #{{i + 1}} name:</mat-label>\n          <input [(ngModel)]=\"player.name\" type=\"text\" matInput>\n        </mat-form-field>\n        <button mat-icon-button (click)=\"removePlayer(player)\"><mat-icon>remove_circle</mat-icon></button>\n      </div>\n      <mat-divider></mat-divider>\n\n      <h2>Fields</h2>\n      <button mat-raised-button class=\"button\" [color]=\"settings.numbs[i]?'primary':''\"\n              *ngFor=\"let numb of settings.getNumbers(); let i = index\" (click)=\"settings.setNumber(i)\">\n        {{numb === 21 ? 'B' : numb}}\n      </button>\n      <mat-divider></mat-divider>\n\n      <button mat-raised-button class=\"button big capitalize\" (click)=\"settings.randomize()\">Randomize</button>\n      <button mat-raised-button class=\"button shortmedium\"  [color]=\"settings.noScore?'primary':''\"\n              (click)=\"settings.toggleNoScore()\">No score\n      </button>\n      <button mat-raised-button class=\"button shortmedium\"  [color]=\"settings.halveIt?'primary':''\"\n              (click)=\"settings.toggleHalveIt()\">Halve It\n      </button>\n\n      <mat-divider></mat-divider>\n      <button mat-raised-button class=\"button big\" (click)=\"newGame()\">Save and Start</button>\n      <button mat-raised-button class=\"button big\" (click)=\"quit()\">Cancel</button>\n    </div>\n\n  </div>\n\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\n\n</div>\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {ShanghaiComponent} from './shanghai.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: ShanghaiComponent}\r\n    ])\r\n  ],\r\n  declarations: [ShanghaiComponent]\r\n})\r\nexport class ShanghaiModule {\r\n}\r\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Component, Inject} from '@angular/core';\r\nimport {Player} from '~models/player.model';\r\n\r\n@Component({\r\n  templateUrl: 'dialog.component.html',\r\n  styleUrls: ['dialog.component.scss']\r\n})\r\nexport class DialogComponent {\r\n  constructor(protected dialogRef: MatDialogRef<DialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: { title: string, content: string, players: Player[] }) {\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"dialog-container evo-typography\">\r\n  <div mat-dialog-title class=\"subtitle-1\"><p>{{ data.title }}</p></div>\r\n  <mat-dialog-content class=\"body-2\">\r\n    <p>{{ data.content }}</p>\r\n    <div class=\"score-line\" *ngFor=\"let player of data.players; let i = index\" [class.winner]=\"player.win\">\r\n      <div>{{i+1}}. {{player.name}} <mat-icon color=\"warn\" *ngIf=\"player.win\">star</mat-icon></div>\r\n      <div>{{player.score}}</div>\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button mat-button [mat-dialog-close]=\"true\">Ok</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import {Component, Input} from '@angular/core';\r\nimport {PlaygroundModel} from '~models/playground.model';\r\nimport {GameService} from '~services/game.service';\r\nimport {Router} from '@angular/router';\r\nimport {PlaygroundState} from '~models/playground-state.model';\r\n\r\n@Component({\r\n  selector: 'app-game-toolbar',\r\n  templateUrl: './game-toolbar.component.html',\r\n  styleUrls: ['./game-toolbar.component.scss']\r\n})\r\nexport class GameToolbarComponent {\r\n\r\n  @Input() playground: PlaygroundModel<PlaygroundState>;\r\n\r\n  constructor(public game: GameService, public route: Router) {\r\n  }\r\n\r\n  quit() {\r\n    this.route.navigate(['/menu']);\r\n    this.game.resetScore();\r\n  }\r\n\r\n  showSettings() {\r\n    this.playground.reset();\r\n    this.playground.settingsOpen = true;\r\n  }\r\n}\r\n","<div class=\"toolbar\">\r\n  <button mat-raised-button (click)=\"quit()\">\r\n    <mat-icon>menu</mat-icon>\r\n  </button>\r\n  <button mat-raised-button (click)=\"playground.newGame(true)\">\r\n    <mat-icon>refresh</mat-icon>\r\n  </button>\r\n  <button mat-raised-button (click)=\"showSettings()\">\r\n    <mat-icon>build</mat-icon>\r\n  </button>\r\n  <button mat-raised-button (click)=\"playground.undo()\">\r\n    <mat-icon>undo</mat-icon>\r\n  </button>\r\n  <button mat-stroked-button color=\"accent\"><span class=\"round-info\">{{game.round+1}}</span> </button>\r\n</div>\r\n<div class=\"clear\"></div>\r\n","import {Component, Input} from '@angular/core';\r\nimport {GameService} from '~services/game.service';\r\n\r\n@Component({\r\n  selector: 'app-number-plate',\r\n  templateUrl: './number-plate.component.html',\r\n  styleUrls: ['./number-plate.component.scss']\r\n})\r\nexport class NumberPlateComponent {\r\n\r\n  @Input() playground: any;\r\n\r\n  constructor(public game: GameService) {\r\n  }\r\n\r\n  getNumbers(): number[] {\r\n    const numbers: number[] = [];\r\n    for (let i = 1; i <= 20; i++) {\r\n      numbers[i - 1] = i;\r\n    }\r\n    return numbers;\r\n  }\r\n\r\n  getNumberColor(field: number): string {\r\n    if (this.playground.isHighlighted(field)) {\r\n      return 'primary';\r\n    } else if (this.playground.isSecondHighlighted(field)) {\r\n      return 'accent';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  isNumberDisabled(field: number): boolean {\r\n    return !this.playground.isFieldEnabledToThrow(field) && !this.getNumberColor(field);\r\n  }\r\n\r\n  throwNumber(field: number) {\r\n    this.playground.throwNumber(this.playground.isFieldEnabledToThrow(field) ? field : 0);\r\n  }\r\n}\r\n\r\n","<div class=\"side-right\">\r\n\r\n  <button mat-raised-button *ngFor=\"let i of getNumbers()\" class=\"number\" [color]=\"getNumberColor(i)\"\r\n          [disabled]=\"isNumberDisabled(i)\" (click)=\"throwNumber(i)\">{{i}}</button>\r\n  <button mat-raised-button class=\"number\" [color]=\"getNumberColor(25)\" [disabled]=\"isNumberDisabled(25)\"\r\n          (click)=\"throwNumber(25)\">Bull</button>\r\n\r\n  <button mat-raised-button class=\"number\" [color]=\"game.multiplier === 2 ? 'primary' : ''\"\r\n          (click)=\"playground.doublePoint()\" *ngIf=\"playground.multiEnabled\">Double</button>\r\n  <button mat-raised-button class=\"number\" [color]=\"game.multiplier === 3 ? 'primary' : ''\"\r\n          (click)=\"playground.triplePoint()\" *ngIf=\"playground.multiEnabled\">Triple</button>\r\n\r\n  <button mat-raised-button class=\"number\" (click)=\"playground.skip()\" *ngIf=\"playground.nextEnabled\">Next</button>\r\n  <button mat-raised-button class=\"number\" (click)=\"playground.throwNumber(0)\" *ngIf=\"playground.zeroEnabled\">0</button>\r\n</div>\r\n","export class FieldValue {\n  field: string;\n  value: number;\n\n  constructor(field: string, value: number) {\n    this.field = field;\n    this.value = value;\n  }\n\n  clone(): FieldValue {\n    return new FieldValue(this.field, this.value);\n  }\n}\n","import {Throw} from './throw.model';\n\nexport class Player {\n  id: number;\n  name = '';\n  score = 0;\n  throws: number[] = [];\n  throwsHistory: Throw[];\n  win = false;\n  first = true;\n\n  constructor(id: number) {\n    this.id = id;\n  }\n\n  getThrowsTotal(): number {\n    return this.throws.reduce((a, b) => a + b, 0);\n  }\n\n  addThrowHistory(thr: Throw) {\n    this.throwsHistory.push(thr);\n  }\n\n  reset() {\n    this.score = 0;\n    this.throws = [];\n    this.throwsHistory = [];\n    this.win = false;\n    this.first = true;\n  }\n\n  clone(): Player {\n    const player = new Player(this.id);\n    player.name = this.name;\n    player.score = this.score;\n    player.throws = [];\n    this.throws.forEach(t => {\n      player.throws.push(t);\n    });\n    player.throwsHistory = this.throwsHistory;\n    player.win = this.win;\n    player.first = this.first;\n    player.throwsHistory = [];\n    this.throwsHistory.forEach(throws => {\n      player.throwsHistory.push(throws.clone());\n    });\n    return player;\n  }\n}\n","import {Player} from './player.model';\nimport {FieldValue} from './field-value.model';\n\nexport abstract class PlaygroundState {\n\n  player: Player;\n\n  constructor(player: Player) {\n    this.player = player;\n  }\n\n  getFieldValue(list: FieldValue[], field: string): FieldValue {\n    const filtered = list.filter(f => f.field === field);\n    if (filtered.length === 0) {\n      list.push(new FieldValue(field, 0));\n    }\n    return list.filter(f => f.field === field)[0];\n  }\n\n  abstract clone(): PlaygroundState;\n}\n","import {OnInit} from '@angular/core';\nimport {v4 as uuid} from 'uuid';\nimport {GameService} from '../services/game.service';\nimport {Player} from './player.model';\nimport {Throw} from './throw.model';\nimport {Router} from '@angular/router';\nimport {PlaygroundState} from '~models/playground-state.model';\nimport {DialogService} from '~services/dialog.service';\n\nexport abstract class PlaygroundModel<T extends PlaygroundState> implements OnInit {\n\n  throwEnabled = true;\n  settingsOpen = true;\n  gameHistory: GameService[];\n  nextEnabled = true;\n  zeroEnabled = true;\n  multiEnabled = true;\n  state: T[];\n  stateHistory: T[][] = [];\n  playground = this;\n\n  protected constructor(public game: GameService,\n                        public route: Router,\n                        public dialogService: DialogService) {\n  }\n\n  static getFieldValueAsNumber(field: string): number {\n    return field === 'B' ? 25 : parseInt(field, 10);\n  }\n\n  ngOnInit() {\n    this.settingsOpen = true;\n    if (this.game.players.length === 0) {\n      this.addPlayer();\n    }\n  }\n\n  throwNumber(score: number) {\n    if (this.throwEnabled) {\n      this.save();\n      this.throwEnabled = false;\n      if (score === 25 && this.game.multiplier === 3) {\n        this.game.multiplier = 1;\n      }\n\n      const actualPlayer = this.game.getActualPlayer();\n      actualPlayer.addThrowHistory(new Throw(score, this.game.multiplier, this.game.actualThrow));\n      if (this.game.actualThrow === 0) {\n        actualPlayer.throws = [];\n      }\n      actualPlayer.throws[this.game.actualThrow] = score * this.game.multiplier;\n      this.game.actualThrow++;\n\n      this.calculatePoints(score)\n        .then(() => this.checkPlayerState())\n        .then(() => {\n          this.game.multiplier = 1;\n          this.game.players.forEach(player => {\n            if (player.win) {\n              this.dialogService.openDialog((this.canBeDraw() && this.game.isDraw()) ? 'End in a Draw' : `${player.name} is the winner!`,\n                this.game.extraEndingMsg, this.game.clone().players);\n              this.newGame(true);\n            }\n          });\n          this.throwEnabled = true;\n        });\n    }\n  }\n\n  newGame(rotate = false) {\n    this.settingsOpen = !this.validatePlayerSettings() || !this.validateSettings();\n    this.reset();\n    if (rotate) {\n      this.game.rotatePlayers();\n    }\n  }\n\n  addPlayer(): void {\n    const player = new Player(uuid());\n    player.name = 'Player ' + (this.game.players.length + 1);\n    this.game.players.push(player);\n  }\n\n  removePlayer(player: Player): void {\n    if (this.game.players.length > 1) {\n      this.game.players = this.game.players.filter(p => p !== player);\n    }\n  }\n\n  triplePoint() {\n    this.game.multiplier = this.game.multiplier === 3 ? 1 : 3;\n  }\n\n  doublePoint() {\n    this.game.multiplier = this.game.multiplier === 2 ? 1 : 2;\n  }\n\n  reset(): void {\n    this.gameHistory = [];\n    this.game.resetScore();\n    this.stateHistory = [];\n    this.customReset();\n  }\n\n  undo() {\n    if (this.gameHistory.length > 0) {\n      this.game = this.gameHistory.pop();\n      if (this.stateHistory.length > 0) {\n        this.state = this.stateHistory.pop();\n      }\n    }\n  }\n\n  skip() {\n    if (!(this.game.isActualPlayerTheLast() && this.isLastRound())) {\n      this.save();\n      this.game.nextPlayer();\n      this.customNext();\n    }\n  }\n\n  quit() {\n    this.route.navigate(['/menu']);\n    this.game.resetScore();\n  }\n\n  customNext() {\n    // should be implemented\n  }\n\n  isSecondHighlighted(field: number): boolean {\n    return false;\n  }\n\n  isHighlighted(field: number): boolean {\n    return false;\n  }\n\n  isLastRound(): boolean {\n    return false;\n  }\n\n  isFieldEnabledToThrow(field: number): boolean {\n    return true;\n  }\n\n  canBeDraw(): boolean {\n    return false;\n  }\n\n  private validatePlayerSettings(): boolean {\n    const players: Player[] = [];\n    this.game.players.forEach(player => {\n      if (player.name.length !== 0) {\n        players.push(player);\n      }\n    });\n    this.game.players = players;\n    return players.length !== 0;\n  }\n\n  private save() {\n    this.gameHistory.push(this.game.clone());\n    if (this.state) {\n      const state = [];\n      this.state.forEach(s => state.push(s.clone()));\n      this.stateHistory.push(state);\n    }\n  }\n\n  abstract customReset(): void;\n\n  abstract validateSettings(): boolean;\n\n  abstract calculatePoints(score: number): Promise<any>;\n\n  abstract checkPlayerState(): Promise<any>;\n}\n","export class Throw {\n  field: string;\n  fieldNum: number;\n  multi: number;\n  order: number;\n\n  constructor(fieldNum: number, multi: number, order: number) {\n    this.fieldNum = fieldNum;\n    this.field = fieldNum === 25 ? 'B' : fieldNum + '';\n    this.multi = multi;\n    this.order = order;\n  }\n\n  clone(): Throw {\n    return new Throw(this.fieldNum, this.multi, this.order);\n  }\n}\n","import {Injectable} from '@angular/core';\r\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\r\nimport {DialogComponent} from '~components/dialog/dialog.component';\r\nimport {Player} from '~models/player.model';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class DialogService {\r\n\r\n  constructor(private dialog: MatDialog) {\r\n  }\r\n\r\n  openDialog(title = '', content = '', players: Player[] = []): MatDialogRef<DialogComponent> {\r\n    return this.dialog.open(DialogComponent, {\r\n      panelClass: 'success-dialog',\r\n      data: {title, content, players},\r\n    });\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {Player} from '../models/player.model';\n\nconst MAXIMUM_NUMBER_OF_PLAYERS = 6;\n\n@Injectable({providedIn: 'root'})\nexport class GameService {\n  players: Player[] = [];\n  actualPlayerIndex: number;\n  actualThrow: number;\n  multiplier: number;\n  extraEndingMsg: string;\n  round: number;\n\n  canAddPlayer(): boolean {\n    return this.players.length < MAXIMUM_NUMBER_OF_PLAYERS;\n  }\n\n  isTheFirstThrow(): boolean {\n    return this.actualThrow === 1;\n  }\n\n  isTheLastThrow(): boolean {\n    return this.actualThrow === 3;\n  }\n\n  getActualPlayer(): Player {\n    return this.players[this.actualPlayerIndex];\n  }\n\n  nextPlayer(): void {\n    if (this.isActualPlayerTheLast()) {\n      this.nextRound();\n    }\n    this.actualPlayerIndex = (this.actualPlayerIndex + 1) % this.getNumberOfPlayers();\n    this.actualThrow = 0;\n  }\n\n  getNumberOfPlayers(): number {\n    return this.players.length;\n  }\n\n  getTheFirstPlayer(): Player {\n    return this.players[0];\n  }\n\n  isTheFirstPlayer(player: Player): boolean {\n    return player.id === this.getTheFirstPlayer().id;\n  }\n\n  isActualPlayerIsTheFirst(): boolean {\n    return this.isTheFirstPlayer(this.getActualPlayer());\n  }\n\n  getTheLastPlayer(): Player {\n    return this.players[this.getNumberOfPlayers() - 1];\n  }\n\n  isTheLastPlayer(player: Player): boolean {\n    return player.id === this.getTheLastPlayer().id;\n  }\n\n  isActualPlayerTheLast(): boolean {\n    return this.isTheLastPlayer(this.getActualPlayer());\n  }\n\n  isTheBestPlayer(actPlayer: Player): boolean {\n    let bestPlayer = true;\n    this.players.forEach(player => {\n      bestPlayer = bestPlayer && actPlayer.score >= player.score;\n    });\n    return bestPlayer;\n  }\n\n  isTheWorstPlayer(actPlayer: Player): boolean {\n    let lastPlayer = true;\n    this.players.forEach(player => {\n      lastPlayer = lastPlayer && actPlayer.score <= player.score;\n    });\n    return lastPlayer;\n  }\n\n  isDraw(): boolean {\n    const winners = this.players.filter(player => player.win);\n    if (winners.length > 0) {\n      return this.players.filter(player => player.id !== winners[0].id && player.score === winners[0].score).length > 0;\n    }\n    return false;\n  }\n\n  nextRound(): void {\n    this.round++;\n  }\n\n  reset(): void {\n    this.resetScore();\n    this.players = [];\n  }\n\n  resetScore(): void {\n    this.extraEndingMsg = '';\n    this.players.forEach(player => player.reset());\n    this.actualPlayerIndex = 0;\n    this.actualThrow = 0;\n    this.multiplier = 1;\n    this.round = 0;\n  }\n\n  rotatePlayers(): void {\n    this.players.push(this.players.shift());\n  }\n\n  clone(): GameService {\n    const game = new GameService();\n    game.actualPlayerIndex = this.actualPlayerIndex;\n    game.actualThrow = this.actualThrow;\n    game.multiplier = this.multiplier;\n    game.extraEndingMsg = this.extraEndingMsg;\n    game.round = this.round;\n    const players: Player[] = [];\n    this.players.forEach(player => {\n      players.push(player.clone());\n    });\n    game.players = players;\n    return game;\n  }\n\n}\n","import {NgModule} from '@angular/core';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {CommonModule} from '@angular/common';\r\nimport {MaterialModule} from '../material.module';\r\nimport {DialogComponent} from '~components/dialog/dialog.component';\r\nimport {GameToolbarComponent} from '~components/game-toolbar/game-toolbar.component';\r\nimport {NumberPlateComponent} from '~components/number-plate/number-plate.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, MaterialModule],\r\n  declarations: [NumberPlateComponent, GameToolbarComponent, DialogComponent],\r\n  exports: [CommonModule, FormsModule, MaterialModule, NumberPlateComponent, GameToolbarComponent, DialogComponent],\r\n  entryComponents: [DialogComponent]\r\n})\r\nexport class SharedModule {\r\n}\r\n","export class Settings {\r\n\r\n  startValue = 301;\r\n  start = 1;\r\n  checkout = 1;\r\n\r\n  isNormalStart(): boolean {\r\n    return this.start === 1;\r\n  }\r\n\r\n  isDoubleStart(): boolean {\r\n    return this.start === 2;\r\n  }\r\n\r\n  isTripleStart(): boolean {\r\n    return this.start === 3;\r\n  }\r\n\r\n  isNormalCheckout(): boolean {\r\n    return this.checkout === 1;\r\n  }\r\n\r\n  isDoubleCheckout(): boolean {\r\n    return this.checkout === 2;\r\n  }\r\n\r\n  isTripleCheckout(): boolean {\r\n    return this.checkout === 3;\r\n  }\r\n\r\n  isHighScoreGame(): boolean {\r\n    return this.checkout === 4;\r\n  }\r\n\r\n  setStart(start: number) {\r\n    this.start = start;\r\n  }\r\n\r\n  setCheckout(checkout: number) {\r\n    this.checkout = checkout;\r\n  }\r\n\r\n  setStartValue(startValue: number) {\r\n    this.startValue = startValue;\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\nimport {Settings} from './models/settings.model';\nimport {PlaygroundModel} from '~models/playground.model';\nimport {GameService} from '~services/game.service';\nimport {Player} from '~models/player.model';\nimport {Router} from '@angular/router';\nimport {PlaygroundState} from '~models/playground-state.model';\nimport {DialogService} from '~services/dialog.service';\n\n@Component({\n  templateUrl: './x01.component.html'\n})\nexport class X01Component extends PlaygroundModel<PlaygroundState> {\n\n  settings: Settings;\n\n  constructor(game: GameService, route: Router, dialogService: DialogService) {\n    super(game, route, dialogService);\n    this.settings = new Settings();\n  }\n\n  customReset(): void {\n    this.game.players.forEach(player => player.score = this.settings.startValue);\n  }\n\n  validateSettings(): boolean {\n    return true;\n  }\n\n  calculatePoints(score: number): Promise<any> {\n    const player = this.game.getActualPlayer();\n    const actualScore = score * this.game.multiplier;\n\n    const validStart = !player.first || this.settings.isNormalStart()\n      || (player.first\n        && ((this.settings.isDoubleStart() && this.game.multiplier === 2)\n          || (this.settings.isTripleStart() && this.game.multiplier === 3)));\n\n    if (validStart) {\n      player.first = false;\n      return this.countDown(player, actualScore);\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  countDown(player: Player, score: number): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      const id = setInterval(() => {\n        if (score === 0) {\n          clearInterval(id);\n          resolve();\n        } else if (player.score < 0) {\n          player.score -= score;\n          score = 0;\n        } else {\n          player.score--;\n          score--;\n        }\n      }, 5);\n    });\n  }\n\n  checkPlayerState(): Promise<any> {\n    const player = this.game.getActualPlayer();\n    let next = false;\n\n    if ((this.settings.isHighScoreGame() && player.score <= 0) ||\n      ((player.score === 0 && (this.settings.isNormalCheckout()\n        || (this.settings.isDoubleCheckout() && this.game.multiplier === 2)\n        || (this.settings.isTripleCheckout() && this.game.multiplier === 3))))) {\n      player.win = true;\n      next = true;\n    } else if (player.score <= 0\n      || (this.settings.isDoubleCheckout() && player.score < 2)\n      || (this.settings.isTripleCheckout() && player.score < 3)) {\n      player.throws.forEach(t => player.score += t);\n      next = true;\n      this.dialogService.openDialog(`${this.game.getActualPlayer().name} busted!`);\n    }\n\n    if (this.game.actualThrow === 3 || next) {\n      this.game.nextPlayer();\n    }\n    return Promise.resolve();\n  }\n}\n","<div id=\"playgroundContent\">\n\n  <div class=\"side-left\">\n\n    <app-game-toolbar [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-game-toolbar>\n\n    <ng-container *ngIf=\"!settingsOpen\">\n      <div class=\"player {{(i === game.actualPlayerIndex) ? 'highlighted' : ''}}\"\n           *ngFor=\"let player of game.players; let i = index\">\n        <div class=\"player_info\">\n          <div class=\"name\">{{player.name}}</div>\n          <div class=\"shoots\">\n            <div class=\"shoot\">{{player.throws[0]}}</div>\n            <div class=\"shoot\">{{player.throws[1]}}</div>\n            <div class=\"shoot\">{{player.throws[2]}}</div>\n            <div class=\"shoot total\">{{player.getThrowsTotal()}}</div>\n          </div>\n          <div class=\"clear\"></div>\n          <div class=\"line\"></div>\n          <div class=\"point\">{{player.score}}</div>\n          <div class=\"clear\"></div>\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"settings\" *ngIf=\"settingsOpen\">\n      <h1>X01 Settings</h1>\n\n      <h2>Players <button mat-icon-button (click)=\"addPlayer()\" [disabled]=\"!game.canAddPlayer()\"><mat-icon>add_circle</mat-icon></button></h2>\n      <div *ngFor=\"let player of game.players; let i = index\">\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Player #{{i + 1}} name:</mat-label>\n          <input [(ngModel)]=\"player.name\" type=\"text\" matInput>\n        </mat-form-field>\n        <button mat-icon-button (click)=\"removePlayer(player)\"><mat-icon>remove_circle</mat-icon></button>\n      </div>\n      <mat-divider></mat-divider>\n\n      <h2>Games</h2>\n      <button mat-raised-button class=\"button\" [color]=\"settings.startValue===101?'primary':''\"\n              (click)=\"settings.setStartValue(101)\">101\n      </button>\n      <button mat-raised-button class=\"button\" [color]=\"settings.startValue===201?'primary':''\"\n              (click)=\"settings.setStartValue(201)\">201\n      </button>\n      <button mat-raised-button class=\"button\" [color]=\"settings.startValue===301?'primary':''\"\n              (click)=\"settings.setStartValue(301)\">301\n      </button>\n      <button mat-raised-button class=\"button\" [color]=\"settings.startValue===501?'primary':''\"\n              (click)=\"settings.setStartValue(501)\">501\n      </button>\n      <button mat-raised-button class=\"button\" [color]=\"settings.startValue===701?'primary':''\"\n              (click)=\"settings.setStartValue(701)\">701\n      </button>\n      <button mat-raised-button class=\"button\" [color]=\"settings.startValue===901?'primary':''\"\n              (click)=\"settings.setStartValue(901)\">901\n      </button>\n      <mat-divider></mat-divider>\n\n      <h2>Start</h2>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.start===1?'primary':''\"\n              (click)=\"settings.setStart(1)\">Single\n      </button>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.start===2?'primary':''\"\n              (click)=\"settings.setStart(2)\">Double\n      </button>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.start===3?'primary':''\"\n              (click)=\"settings.setStart(3)\">Triple\n      </button>\n      <mat-divider></mat-divider>\n\n      <h2>Checkout</h2>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.checkout===1?'primary':''\"\n              (click)=\"settings.setCheckout(1)\">Single\n      </button>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.checkout===2?'primary':''\"\n              (click)=\"settings.setCheckout(2)\">Double\n      </button>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.checkout===3?'primary':''\"\n              (click)=\"settings.setCheckout(3)\">Triple\n      </button>\n      <button mat-raised-button class=\"button shortmedium\" [color]=\"settings.checkout===4?'primary':''\"\n              (click)=\"settings.setCheckout(4)\">None\n      </button>\n\n      <mat-divider></mat-divider>\n      <button mat-raised-button class=\"button big\" (click)=\"newGame()\">Save and Start</button>\n      <button mat-raised-button class=\"button big\" (click)=\"quit()\">Cancel</button>\n    </div>\n\n  </div>\n\n  <app-number-plate [playground]=\"playground\" *ngIf=\"!settingsOpen\"></app-number-plate>\n\n</div>\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\nimport {X01Component} from './x01.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {path: '', component: X01Component}\r\n    ])\r\n  ],\r\n  declarations: [X01Component]\r\n})\r\nexport class X01Module {\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}